!function(t,e,r,n,i){var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s="function"==typeof o[n]&&o[n],a=s.cache||{},u="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function c(e,r){if(!a[e]){if(!t[e]){var i="function"==typeof o[n]&&o[n];if(!r&&i)return i(e,!0);if(s)return s(e,!0);if(u&&"string"==typeof e)return u(e);var l=Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}f.resolve=function(r){var n=t[e][1][r];return null!=n?n:r},f.cache={};var h=a[e]=new c.Module(e);t[e][0].call(h.exports,f,h,h.exports,this)}return a[e].exports;function f(t){var e=f.resolve(t);return!1===e?{}:c(e)}}c.isParcelRequire=!0,c.Module=function(t){this.id=t,this.bundle=c,this.exports={}},c.modules=t,c.cache=a,c.parent=s,c.register=function(e,r){t[e]=[function(t,e){e.exports=r},{}]},Object.defineProperty(c,"root",{get:function(){return o[n]}}),o[n]=c;for(var l=0;l<e.length;l++)c(e[l]);if(r){var h=c(r);"object"==typeof exports&&"undefined"!=typeof module?module.exports=h:"function"==typeof define&&define.amd?define(function(){return h}):i&&(this[i]=h)}}({"55jtx":[function(t,e,r){var n=t("@parcel/transformer-js/src/esmodule-helpers.js"),i=t("@studio-freight/lenis"),o=n.interopDefault(i),s=t("@barba/core"),a=n.interopDefault(s),u=t("gsap"),c=n.interopDefault(u),l=t("gsap/all"),h=t("./app");(0,c.default).registerPlugin(l.ScrollToPlugin);let f=new o.default({lerp:.05});requestAnimationFrame(function t(e){f.raf(e),requestAnimationFrame(t)}),(0,a.default).init({sync:!0,transitions:[{async leave(t){f.stop();let e=this.async();(0,c.default).timeline({defaults:{ease:"power4.inOut"}}).to(".curtain",{scaleY:1,duration:.5,transformOrigin:"bottom",stagger:.1}).to(".curtain",{scaleY:0,duration:.5,transformOrigin:"top",stagger:.1,delay:.2}),await function(t=0){return new Promise(e=>{setTimeout(e,t)})}(1e3),e()},async enter(t){f.start(),"home"===t.next.namespace&&(0,h.init)()},async once(t){}}]}),(0,a.default).hooks.enter(t=>{"home"!==t.next.namespace&&window.scrollTo(0,0)}),(0,a.default).hooks.afterEnter(t=>{"home"===t.next.namespace?((0,h.navButtons)(),(0,h.projectsAnim)(),window.addEventListener("scroll",h.scrollAnim)):window.removeEventListener("scroll",h.scrollAnim)})},{"@studio-freight/lenis":"7xHVI","@barba/core":"fBszZ",gsap:"cZTBM","gsap/all":"dWuqe","./app":"6JBnf","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"7xHVI":[function(t,e,r){var n=t("@parcel/transformer-js/src/esmodule-helpers.js");function i(t,e){for(var r,n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,"symbol"==typeof(r=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(i.key))?r:String(r),i)}}function o(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function s(){return(s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function a(t,e,r){return Math.max(t,Math.min(e,r))}n.defineInteropFlag(r),n.export(r,"default",()=>f);var u=function(){function t(){}var e=t.prototype;return e.advance=function(t){var e,r,n,i;if(this.isRunning){var o=!1;if(this.lerp)this.value=(r=this.value,n=this.to,(1-(i=1-Math.exp(-60*this.lerp*t)))*r+i*n),Math.round(this.value)===this.to&&(this.value=this.to,o=!0);else{this.currentTime+=t;var s=a(0,this.currentTime/this.duration,1),u=(o=s>=1)?1:this.easing(s);this.value=this.from+(this.to-this.from)*u}null==(e=this.onUpdate)||e.call(this,this.value,o),o&&this.stop()}},e.stop=function(){this.isRunning=!1},e.fromTo=function(t,e,r){var n=r.lerp,i=r.duration,o=r.easing,s=r.onStart,a=r.onUpdate;this.from=this.value=t,this.to=e,this.lerp=void 0===n?.1:n,this.duration=void 0===i?1:i,this.easing=void 0===o?function(t){return t}:o,this.currentTime=0,this.isRunning=!0,null==s||s(),this.onUpdate=a},t}(),c=function(){function t(t){var e,r,n=this,i=void 0===t?{}:t,o=i.wrapper,s=i.content,a=i.autoResize;if(this.resize=function(){n.onWrapperResize(),n.onContentResize()},this.onWrapperResize=function(){n.wrapper===window?(n.width=window.innerWidth,n.height=window.innerHeight):(n.width=n.wrapper.clientWidth,n.height=n.wrapper.clientHeight)},this.onContentResize=function(){n.scrollHeight=n.content.scrollHeight,n.scrollWidth=n.content.scrollWidth},this.wrapper=o,this.content=s,void 0===a||a){var u=(e=this.resize,function(){var t=arguments,n=this;clearTimeout(r),r=setTimeout(function(){e.apply(n,t)},250)});this.wrapper!==window&&(this.wrapperResizeObserver=new ResizeObserver(u),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(u),this.contentResizeObserver.observe(this.content)}this.resize()}return t.prototype.destroy=function(){var t,e;null==(t=this.wrapperResizeObserver)||t.disconnect(),null==(e=this.contentResizeObserver)||e.disconnect()},o(t,[{key:"limit",get:function(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}}]),t}(),l=function(){function t(){this.events={}}var e=t.prototype;return e.emit=function(t){for(var e=this.events[t]||[],r=0,n=e.length;r<n;r++)e[r].apply(e,[].slice.call(arguments,1))},e.on=function(t,e){var r,n=this;return(null==(r=this.events[t])?void 0:r.push(e))||(this.events[t]=[e]),function(){var r;n.events[t]=null==(r=n.events[t])?void 0:r.filter(function(t){return e!==t})}},e.off=function(t,e){var r;this.events[t]=null==(r=this.events[t])?void 0:r.filter(function(t){return e!==t})},e.destroy=function(){this.events={}},t}(),h=function(){function t(t,e){var r=this,n=e.wheelMultiplier,i=e.touchMultiplier,o=e.normalizeWheel;this.onTouchStart=function(t){var e=t.targetTouches?t.targetTouches[0]:t,n=e.clientY;r.touchStart.x=e.clientX,r.touchStart.y=n,r.lastDelta={x:0,y:0}},this.onTouchMove=function(t){var e=t.targetTouches?t.targetTouches[0]:t,n=e.clientX,i=e.clientY,o=-(n-r.touchStart.x)*r.touchMultiplier,s=-(i-r.touchStart.y)*r.touchMultiplier;r.touchStart.x=n,r.touchStart.y=i,r.lastDelta={x:o,y:s},r.emitter.emit("scroll",{deltaX:o,deltaY:s,event:t})},this.onTouchEnd=function(t){r.emitter.emit("scroll",{deltaX:r.lastDelta.x,deltaY:r.lastDelta.y,event:t})},this.onWheel=function(t){var e=t.deltaX,n=t.deltaY;r.normalizeWheel&&(e=a(-100,e,100),n=a(-100,n,100)),r.emitter.emit("scroll",{deltaX:e*=r.wheelMultiplier,deltaY:n*=r.wheelMultiplier,event:t})},this.element=t,this.wheelMultiplier=void 0===n?1:n,this.touchMultiplier=void 0===i?2:i,this.normalizeWheel=void 0!==o&&o,this.touchStart={x:null,y:null},this.emitter=new l,this.element.addEventListener("wheel",this.onWheel,{passive:!1}),this.element.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.addEventListener("touchend",this.onTouchEnd,{passive:!1})}var e=t.prototype;return e.on=function(t,e){return this.emitter.on(t,e)},e.destroy=function(){this.emitter.destroy(),this.element.removeEventListener("wheel",this.onWheel,{passive:!1}),this.element.removeEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.removeEventListener("touchend",this.onTouchEnd,{passive:!1})},t}(),f=function(){function t(t){var e=this,r=void 0===t?{}:t,n=r.wrapper,i=void 0===n?window:n,o=r.content,a=void 0===o?document.documentElement:o,f=r.wheelEventsTarget,p=void 0===f?i:f,d=r.eventsTarget,v=void 0===d?p:d,m=r.smoothWheel,g=void 0===m||m,y=r.smoothTouch,w=void 0!==y&&y,b=r.syncTouch,S=void 0!==b&&b,E=r.syncTouchLerp,x=r.__iosNoInertiaSyncTouchLerp,P=r.touchInertiaMultiplier,k=r.duration,T=r.easing,O=r.lerp,j=r.infinite,L=r.orientation,R=r.gestureOrientation,_=r.touchMultiplier,A=void 0===_?1:_,M=r.wheelMultiplier,q=void 0===M?1:M,z=r.normalizeWheel,C=void 0!==z&&z,H=r.autoResize,N=void 0===H||H;this.onVirtualScroll=function(t){var r=t.deltaX,n=t.deltaY,i=t.event;if(!i.ctrlKey){var o=i.type.includes("touch"),a=i.type.includes("wheel");if(!("both"===e.options.gestureOrientation&&0===r&&0===n||"vertical"===e.options.gestureOrientation&&0===n||"horizontal"===e.options.gestureOrientation&&0===r||o&&"vertical"===e.options.gestureOrientation&&0===e.scroll&&!e.options.infinite&&n<=0)){var u=i.composedPath();if(!(u=u.slice(0,u.indexOf(e.rootElement))).find(function(t){var e;return(null==t.hasAttribute?void 0:t.hasAttribute("data-lenis-prevent"))||o&&(null==t.hasAttribute?void 0:t.hasAttribute("data-lenis-prevent-touch"))||a&&(null==t.hasAttribute?void 0:t.hasAttribute("data-lenis-prevent-wheel"))||(null==(e=t.classList)?void 0:e.contains("lenis"))})){if(e.isStopped||e.isLocked)i.preventDefault();else{if(e.isSmooth=(e.options.smoothTouch||e.options.syncTouch)&&o||e.options.smoothWheel&&a,!e.isSmooth)return e.isScrolling=!1,void e.animate.stop();i.preventDefault();var c=n;"both"===e.options.gestureOrientation?c=Math.abs(n)>Math.abs(r)?n:r:"horizontal"===e.options.gestureOrientation&&(c=r);var l=o&&e.options.syncTouch,h=o&&"touchend"===i.type&&Math.abs(c)>1;h&&(c=e.velocity*e.options.touchInertiaMultiplier),e.scrollTo(e.targetScroll+c,s({programmatic:!1},l&&{lerp:h?e.syncTouchLerp:e.options.__iosNoInertiaSyncTouchLerp}))}}}}},this.onNativeScroll=function(){if(!e.__preventNextScrollEvent&&!e.isScrolling){var t=e.animatedScroll;e.animatedScroll=e.targetScroll=e.actualScroll,e.velocity=0,e.direction=Math.sign(e.animatedScroll-t),e.emit()}},window.lenisVersion="1.0.29",i!==document.documentElement&&i!==document.body||(i=window),this.options={wrapper:i,content:a,wheelEventsTarget:p,eventsTarget:v,smoothWheel:g,smoothTouch:w,syncTouch:S,syncTouchLerp:void 0===E?.1:E,__iosNoInertiaSyncTouchLerp:void 0===x?.4:x,touchInertiaMultiplier:void 0===P?35:P,duration:k,easing:void 0===T?function(t){return Math.min(1,1.001-Math.pow(2,-10*t))}:T,lerp:void 0===O?!k&&.1:O,infinite:void 0!==j&&j,gestureOrientation:void 0===R?"vertical":R,orientation:void 0===L?"vertical":L,touchMultiplier:A,wheelMultiplier:q,normalizeWheel:C,autoResize:N},this.animate=new u,this.emitter=new l,this.dimensions=new c({wrapper:i,content:a,autoResize:N}),this.toggleClass("lenis",!0),this.velocity=0,this.isLocked=!1,this.isStopped=!1,this.isSmooth=S||g||w,this.isScrolling=!1,this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,{passive:!1}),this.virtualScroll=new h(v,{touchMultiplier:A,wheelMultiplier:q,normalizeWheel:C}),this.virtualScroll.on("scroll",this.onVirtualScroll)}var e=t.prototype;return e.destroy=function(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,{passive:!1}),this.virtualScroll.destroy(),this.dimensions.destroy(),this.toggleClass("lenis",!1),this.toggleClass("lenis-smooth",!1),this.toggleClass("lenis-scrolling",!1),this.toggleClass("lenis-stopped",!1),this.toggleClass("lenis-locked",!1)},e.on=function(t,e){return this.emitter.on(t,e)},e.off=function(t,e){return this.emitter.off(t,e)},e.setScroll=function(t){this.isHorizontal?this.rootElement.scrollLeft=t:this.rootElement.scrollTop=t},e.resize=function(){this.dimensions.resize()},e.emit=function(){this.emitter.emit("scroll",this)},e.reset=function(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.animate.stop()},e.start=function(){this.isStopped=!1,this.reset()},e.stop=function(){this.isStopped=!0,this.animate.stop(),this.reset()},e.raf=function(t){var e=t-(this.time||t);this.time=t,this.animate.advance(.001*e)},e.scrollTo=function(t,e){var r,n,i=this,o=void 0===e?{}:e,s=o.offset,u=void 0===s?0:s,c=o.immediate,l=o.lock,h=void 0!==l&&l,f=o.duration,p=void 0===f?this.options.duration:f,d=o.easing,v=void 0===d?this.options.easing:d,m=o.lerp,g=void 0===m?!p&&this.options.lerp:m,y=o.onComplete,w=void 0===y?null:y,b=o.force,S=o.programmatic,E=void 0===S||S;if(!this.isStopped&&!this.isLocked||void 0!==b&&b){if(["top","left","start"].includes(t))t=0;else if(["bottom","right","end"].includes(t))t=this.limit;else if("string"==typeof t?n=document.querySelector(t):null!=(r=t)&&r.nodeType&&(n=t),n){if(this.options.wrapper!==window){var x=this.options.wrapper.getBoundingClientRect();u-=this.isHorizontal?x.left:x.top}var P=n.getBoundingClientRect();t=(this.isHorizontal?P.left:P.top)+this.animatedScroll}if("number"==typeof t){if(t+=u,t=Math.round(t),this.options.infinite?E&&(this.targetScroll=this.animatedScroll=this.scroll):t=a(0,t,this.limit),void 0!==c&&c)return this.animatedScroll=this.targetScroll=t,this.setScroll(this.scroll),this.reset(),void(null==w||w(this));if(!E){if(t===this.targetScroll)return;this.targetScroll=t}this.animate.fromTo(this.animatedScroll,t,{duration:p,easing:v,lerp:g,onStart:function(){h&&(i.isLocked=!0),i.isScrolling=!0},onUpdate:function(t,e){i.isScrolling=!0,i.velocity=t-i.animatedScroll,i.direction=Math.sign(i.velocity),i.animatedScroll=t,i.setScroll(i.scroll),E&&(i.targetScroll=t),e||i.emit(),e&&(i.reset(),i.emit(),null==w||w(i),i.__preventNextScrollEvent=!0,requestAnimationFrame(function(){delete i.__preventNextScrollEvent}))}})}}},e.toggleClass=function(t,e){this.rootElement.classList.toggle(t,e),this.emitter.emit("className change",this)},o(t,[{key:"rootElement",get:function(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}},{key:"limit",get:function(){return this.dimensions.limit[this.isHorizontal?"x":"y"]}},{key:"isHorizontal",get:function(){return"horizontal"===this.options.orientation}},{key:"actualScroll",get:function(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}},{key:"scroll",get:function(){var t;return this.options.infinite?(this.animatedScroll%(t=this.limit)+t)%t:this.animatedScroll}},{key:"progress",get:function(){return 0===this.limit?1:this.scroll/this.limit}},{key:"isSmooth",get:function(){return this.__isSmooth},set:function(t){this.__isSmooth!==t&&(this.__isSmooth=t,this.toggleClass("lenis-smooth",t))}},{key:"isScrolling",get:function(){return this.__isScrolling},set:function(t){this.__isScrolling!==t&&(this.__isScrolling=t,this.toggleClass("lenis-scrolling",t))}},{key:"isStopped",get:function(){return this.__isStopped},set:function(t){this.__isStopped!==t&&(this.__isStopped=t,this.toggleClass("lenis-stopped",t))}},{key:"isLocked",get:function(){return this.__isLocked},set:function(t){this.__isLocked!==t&&(this.__isLocked=t,this.toggleClass("lenis-locked",t))}},{key:"className",get:function(){var t="lenis";return this.isStopped&&(t+=" lenis-stopped"),this.isLocked&&(t+=" lenis-locked"),this.isScrolling&&(t+=" lenis-scrolling"),this.isSmooth&&(t+=" lenis-smooth"),t}}]),t}()},{"@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],fBszZ:[function(t,e,r){e.exports=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function e(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function n(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t,e,r){return(s=!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?function(t,e,r){var n=[null];n.push.apply(n,e);var i=new(Function.bind.apply(t,n));return r&&o(i,r.prototype),i}:Reflect.construct).apply(null,arguments)}function a(t){var e="function"==typeof Map?new Map:void 0;return(a=function(t){if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return s(t,arguments,i(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o(r,t)})(t)}function u(t,e){try{var r=t()}catch(t){return e(t)}return r&&r.then?r.then(void 0,e):r}"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator"))),(l=c||(c={}))[l.off=0]="off",l[l.error=1]="error",l[l.warning=2]="warning",l[l.info=3]="info",l[l.debug=4]="debug";var c,l,h=c.off,f=function(){function t(t){this.t=t}t.getLevel=function(){return h},t.setLevel=function(t){return h=c[t]};var e=t.prototype;return e.error=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];this.i(console.error,c.error,e)},e.warn=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];this.i(console.warn,c.warning,e)},e.info=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];this.i(console.info,c.info,e)},e.debug=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];this.i(console.log,c.debug,e)},e.i=function(e,r,n){r<=t.getLevel()&&e.apply(console,["["+this.t+"] "].concat(n))},t}(),p=RegExp("(\\\\.)|(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?","g");function d(t,e){for(var r,n=[],i=0,o=0,s="",a=e&&e.delimiter||"/",u=e&&e.whitelist||void 0,c=!1;null!==(r=p.exec(t));){var l=r[0],h=r[1],f=r.index;if(s+=t.slice(o,f),o=f+l.length,h)s+=h[1],c=!0;else{var d="",v=r[2],m=r[3],y=r[4],w=r[5];if(!c&&s.length){var b=s.length-1,S=s[b];(!u||u.indexOf(S)>-1)&&(d=S,s=s.slice(0,b))}s&&(n.push(s),s="",c=!1);var E=m||y,x=d||a;n.push({name:v||i++,prefix:d,delimiter:x,optional:"?"===w||"*"===w,repeat:"+"===w||"*"===w,pattern:E?E.replace(/([=!:$/()])/g,"\\$1"):"[^"+g(x===a?x:x+a)+"]+?"})}}return(s||o<t.length)&&n.push(s+t.substr(o)),n}function v(t,e){return function(r,n){var i=t.exec(r);if(!i)return!1;for(var o=i[0],s=i.index,a={},u=n&&n.decode||decodeURIComponent,c=1;c<i.length;c++)if(void 0!==i[c]){var l=e[c-1];a[l.name]=l.repeat?i[c].split(l.delimiter).map(function(t){return u(t,l)}):u(i[c],l)}return{path:o,index:s,params:a}}}function m(t,e){for(var r=Array(t.length),n=0;n<t.length;n++)"object"==typeof t[n]&&(r[n]=RegExp("^(?:"+t[n].pattern+")$",y(e)));return function(e,n){for(var i="",o=n&&n.encode||encodeURIComponent,s=!n||!1!==n.validate,a=0;a<t.length;a++){var u=t[a];if("string"!=typeof u){var c,l=e?e[u.name]:void 0;if(Array.isArray(l)){if(!u.repeat)throw TypeError('Expected "'+u.name+'" to not repeat, but got array');if(0===l.length){if(u.optional)continue;throw TypeError('Expected "'+u.name+'" to not be empty')}for(var h=0;h<l.length;h++){if(c=o(l[h],u),s&&!r[a].test(c))throw TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'"');i+=(0===h?u.prefix:u.delimiter)+c}}else if("string"!=typeof l&&"number"!=typeof l&&"boolean"!=typeof l){if(!u.optional)throw TypeError('Expected "'+u.name+'" to be '+(u.repeat?"an array":"a string"))}else{if(c=o(String(l),u),s&&!r[a].test(c))throw TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but got "'+c+'"');i+=u.prefix+c}}else i+=u}return i}}function g(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function y(t){return t&&t.sensitive?"":"i"}function w(t,e,r){for(var n=(r=r||{}).strict,i=!1!==r.start,o=!1!==r.end,s=r.delimiter||"/",a=[].concat(r.endsWith||[]).map(g).concat("$").join("|"),u=i?"^":"",c=0;c<t.length;c++){var l=t[c];if("string"==typeof l)u+=g(l);else{var h=l.repeat?"(?:"+l.pattern+")(?:"+g(l.delimiter)+"(?:"+l.pattern+"))*":l.pattern;e&&e.push(l),u+=l.optional?l.prefix?"(?:"+g(l.prefix)+"("+h+"))?":"("+h+")?":g(l.prefix)+"("+h+")"}}if(o)n||(u+="(?:"+g(s)+")?"),u+="$"===a?"$":"(?="+a+")";else{var f=t[t.length-1],p="string"==typeof f?f[f.length-1]===s:void 0===f;n||(u+="(?:"+g(s)+"(?="+a+"))?"),p||(u+="(?="+g(s)+"|"+a+")")}return new RegExp(u,y(r))}function b(t,e,r){return t instanceof RegExp?function(t,e){if(!e)return t;var r=t.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)e.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return t}(t,e):Array.isArray(t)?function(t,e,r){for(var n=[],i=0;i<t.length;i++)n.push(b(t[i],e,r).source);return RegExp("(?:"+n.join("|")+")",y(r))}(t,e,r):w(d(t,r),e,r)}b.match=function(t,e){var r=[];return v(b(t,r,e),r)},b.regexpToFunction=v,b.parse=d,b.compile=function(t,e){return m(d(t,e),e)},b.tokensToFunction=m,b.tokensToRegExp=w;var S={container:"container",history:"history",namespace:"namespace",prefix:"data-barba",prevent:"prevent",wrapper:"wrapper"},E=new(function(){function t(){this.o=S,this.u=new DOMParser}var e=t.prototype;return e.toString=function(t){return t.outerHTML},e.toDocument=function(t){return this.u.parseFromString(t,"text/html")},e.toElement=function(t){var e=document.createElement("div");return e.innerHTML=t,e},e.getHtml=function(t){return void 0===t&&(t=document),this.toString(t.documentElement)},e.getWrapper=function(t){return void 0===t&&(t=document),t.querySelector("["+this.o.prefix+'="'+this.o.wrapper+'"]')},e.getContainer=function(t){return void 0===t&&(t=document),t.querySelector("["+this.o.prefix+'="'+this.o.container+'"]')},e.removeContainer=function(t){document.body.contains(t)&&t.parentNode.removeChild(t)},e.addContainer=function(t,e){var r=this.getContainer();r?this.s(t,r):e.appendChild(t)},e.getNamespace=function(t){void 0===t&&(t=document);var e=t.querySelector("["+this.o.prefix+"-"+this.o.namespace+"]");return e?e.getAttribute(this.o.prefix+"-"+this.o.namespace):null},e.getHref=function(t){if(t.tagName&&"a"===t.tagName.toLowerCase()){if("string"==typeof t.href)return t.href;var e=t.getAttribute("href")||t.getAttribute("xlink:href");if(e)return this.resolveUrl(e.baseVal||e)}return null},e.resolveUrl=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=e.length;if(0===n)throw Error("resolveUrl requires at least one argument; got none.");var i=document.createElement("base");if(i.href=arguments[0],1===n)return i.href;var o=document.getElementsByTagName("head")[0];o.insertBefore(i,o.firstChild);for(var s,a=document.createElement("a"),u=1;u<n;u++)a.href=arguments[u],i.href=s=a.href;return o.removeChild(i),s},e.s=function(t,e){e.parentNode.insertBefore(t,e.nextSibling)},t}()),x=new(function(){function t(){this.h=[],this.v=-1}var n=t.prototype;return n.init=function(t,e){this.l="barba";var r={ns:e,scroll:{x:window.scrollX,y:window.scrollY},url:t};this.h.push(r),this.v=0;var n={from:this.l,index:0,states:[].concat(this.h)};window.history&&window.history.replaceState(n,"",t)},n.change=function(t,e,r){if(r&&r.state){var n=r.state,i=n.index;e=this.m(this.v-i),this.replace(n.states),this.v=i}else this.add(t,e);return e},n.add=function(t,e){var r=this.size,n=this.p(e),i={ns:"tmp",scroll:{x:window.scrollX,y:window.scrollY},url:t};this.h.push(i),this.v=r;var o={from:this.l,index:r,states:[].concat(this.h)};switch(n){case"push":window.history&&window.history.pushState(o,"",t);break;case"replace":window.history&&window.history.replaceState(o,"",t)}},n.update=function(t,e){var n=e||this.v,i=r({},this.get(n),{},t);this.set(n,i)},n.remove=function(t){t?this.h.splice(t,1):this.h.pop(),this.v--},n.clear=function(){this.h=[],this.v=-1},n.replace=function(t){this.h=t},n.get=function(t){return this.h[t]},n.set=function(t,e){return this.h[t]=e},n.p=function(t){var e="push",r=S.prefix+"-"+S.history;return t.hasAttribute&&t.hasAttribute(r)&&(e=t.getAttribute(r)),e},n.m=function(t){return Math.abs(t)>1?t>0?"forward":"back":0===t?"popstate":t>0?"back":"forward"},e(t,[{key:"current",get:function(){return this.h[this.v]}},{key:"state",get:function(){return this.h[this.h.length-1]}},{key:"previous",get:function(){return this.v<1?null:this.h[this.v-1]}},{key:"size",get:function(){return this.h.length}}]),t}()),P=function(t,e){try{var r=function(){if(!e.next.html)return Promise.resolve(t).then(function(t){var r=e.next;if(t){var n=E.toElement(t);r.namespace=E.getNamespace(n),r.container=E.getContainer(n),r.html=t,x.update({ns:r.namespace});var i=E.toDocument(t);document.title=i.title}})}();return Promise.resolve(r&&r.then?r.then(function(){}):void 0)}catch(t){return Promise.reject(t)}},k={__proto__:null,update:P,nextTick:function(){return new Promise(function(t){window.requestAnimationFrame(t)})},pathToRegexp:b},T=function(){return window.location.origin},O=function(t){return void 0===t&&(t=window.location.href),j(t).port},j=function(t){var e,r=t.match(/:\d+/);null===r?(/^http/.test(t)&&(e=80),/^https/.test(t)&&(e=443)):e=parseInt(r[0].substring(1),10);var n,i=t.replace(T(),""),o={},s=i.indexOf("#");s>=0&&(n=i.slice(s+1),i=i.slice(0,s));var a=i.indexOf("?");return a>=0&&(o=L(i.slice(a+1)),i=i.slice(0,a)),{hash:n,path:i,port:e,query:o}},L=function(t){return t.split("&").reduce(function(t,e){var r=e.split("=");return t[r[0]]=r[1],t},{})},R=function(t){return void 0===t&&(t=window.location.href),t.replace(/(\/#.*|\/|#.*)$/,"")},_={__proto__:null,getHref:function(){return window.location.href},getOrigin:T,getPort:O,getPath:function(t){return void 0===t&&(t=window.location.href),j(t).path},parse:j,parseQuery:L,clean:R};function A(t,e,r){return void 0===e&&(e=2e3),new Promise(function(n,i){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(o.readyState===XMLHttpRequest.DONE){if(200===o.status)n(o.responseText);else if(o.status){var e={status:o.status,statusText:o.statusText};r(t,e),i(e)}}},o.ontimeout=function(){var n=Error("Timeout error ["+e+"]");r(t,n),i(n)},o.onerror=function(){var e=Error("Fetch error");r(t,e),i(e)},o.open("GET",t),o.timeout=e,o.setRequestHeader("Accept","text/html,application/xhtml+xml,application/xml"),o.setRequestHeader("x-barba","yes"),o.send()})}function M(t,e){return void 0===e&&(e={}),function(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];var o=!1;return new Promise(function(r,i){e.async=function(){return o=!0,function(t,e){t?i(t):r(e)}};var s=t.apply(e,n);o||(s&&("object"==typeof s||"function"==typeof s)&&"function"==typeof s.then?s.then(r,i):r(s))})}}var q=new(function(t){function e(){var e;return(e=t.call(this)||this).logger=new f("@barba/core"),e.all=["ready","page","reset","currentAdded","currentRemoved","nextAdded","nextRemoved","beforeOnce","once","afterOnce","before","beforeLeave","leave","afterLeave","beforeEnter","enter","afterEnter","after"],e.registered=new Map,e.init(),e}n(e,t);var r=e.prototype;return r.init=function(){var t=this;this.registered.clear(),this.all.forEach(function(e){t[e]||(t[e]=function(r,n){t.registered.has(e)||t.registered.set(e,new Set),t.registered.get(e).add({ctx:n||{},fn:r})})})},r.do=function(t){for(var e=this,r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];if(this.registered.has(t)){var o=Promise.resolve();return this.registered.get(t).forEach(function(t){o=o.then(function(){return M(t.fn,t.ctx).apply(void 0,n)})}),o.catch(function(r){e.logger.debug("Hook error ["+t+"]"),e.logger.error(r)})}return Promise.resolve()},r.clear=function(){var t=this;this.all.forEach(function(e){delete t[e]}),this.init()},r.help=function(){this.logger.info("Available hooks: "+this.all.join(","));var t=[];this.registered.forEach(function(e,r){return t.push(r)}),this.logger.info("Registered hooks: "+t.join(","))},e}(function(){})),z=function(){function t(t){if(this.P=[],"boolean"==typeof t)this.g=t;else{var e=Array.isArray(t)?t:[t];this.P=e.map(function(t){return b(t)})}}return t.prototype.checkHref=function(t){if("boolean"==typeof this.g)return this.g;var e=j(t).path;return this.P.some(function(t){return null!==t.exec(e)})},t}(),C=function(t){function e(e){var r;return(r=t.call(this,e)||this).k=new Map,r}n(e,t);var i=e.prototype;return i.set=function(t,e,r){return this.k.set(t,{action:r,request:e}),{action:r,request:e}},i.get=function(t){return this.k.get(t)},i.getRequest=function(t){return this.k.get(t).request},i.getAction=function(t){return this.k.get(t).action},i.has=function(t){return!this.checkHref(t)&&this.k.has(t)},i.delete=function(t){return this.k.delete(t)},i.update=function(t,e){var n=r({},this.k.get(t),{},e);return this.k.set(t,n),n},e}(z),H=function(){return!window.history.pushState},N=function(t){return!t.el||!t.href},D=function(t){var e=t.event;return e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey},W=function(t){var e=t.el;return e.hasAttribute("target")&&"_blank"===e.target},I=function(t){var e=t.el;return void 0!==e.protocol&&window.location.protocol!==e.protocol||void 0!==e.hostname&&window.location.hostname!==e.hostname},B=function(t){var e=t.el;return void 0!==e.port&&O()!==O(e.href)},U=function(t){var e=t.el;return e.getAttribute&&"string"==typeof e.getAttribute("download")},F=function(t){return t.el.hasAttribute(S.prefix+"-"+S.prevent)},$=function(t){return!!t.el.closest("["+S.prefix+"-"+S.prevent+'="all"]')},X=function(t){var e=t.href;return R(e)===R()&&O(e)===O()},Y=function(t){function e(e){var r;return(r=t.call(this,e)||this).suite=[],r.tests=new Map,r.init(),r}n(e,t);var r=e.prototype;return r.init=function(){this.add("pushState",H),this.add("exists",N),this.add("newTab",D),this.add("blank",W),this.add("corsDomain",I),this.add("corsPort",B),this.add("download",U),this.add("preventSelf",F),this.add("preventAll",$),this.add("sameUrl",X,!1)},r.add=function(t,e,r){void 0===r&&(r=!0),this.tests.set(t,e),r&&this.suite.push(t)},r.run=function(t,e,r,n){return this.tests.get(t)({el:e,event:r,href:n})},r.checkLink=function(t,e,r){var n=this;return this.suite.some(function(i){return n.run(i,t,e,r)})},e}(z),V=function(t){function e(r,n){var i;void 0===n&&(n="Barba error");for(var o=arguments.length,s=Array(o>2?o-2:0),a=2;a<o;a++)s[a-2]=arguments[a];return(i=t.call.apply(t,[this].concat(s))||this).error=r,i.label=n,Error.captureStackTrace&&Error.captureStackTrace(function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(i),e),i.name="BarbaError",i}return n(e,t),e}(a(Error)),K=function(){function t(t){void 0===t&&(t=[]),this.logger=new f("@barba/core"),this.all=[],this.page=[],this.once=[],this.A=[{name:"namespace",type:"strings"},{name:"custom",type:"function"}],t&&(this.all=this.all.concat(t)),this.update()}var e=t.prototype;return e.add=function(t,e){"rule"===t?this.A.splice(e.position||0,0,e.value):this.all.push(e),this.update()},e.resolve=function(t,e){var r=this;void 0===e&&(e={});var n=e.once?this.once:this.page;n=n.filter(e.self?function(t){return t.name&&"self"===t.name}:function(t){return!t.name||"self"!==t.name});var i=new Map,o=n.find(function(n){var o=!0,s={};return!(!e.self||"self"!==n.name)||(r.A.reverse().forEach(function(e){o&&(o=r.R(n,e,t,s),n.from&&n.to&&(o=r.R(n,e,t,s,"from")&&r.R(n,e,t,s,"to")),n.from&&!n.to&&(o=r.R(n,e,t,s,"from")),!n.from&&n.to&&(o=r.R(n,e,t,s,"to")))}),i.set(n,s),o)}),s=i.get(o),a=[];if(a.push(e.once?"once":"page"),e.self&&a.push("self"),s){var u,c=[o];Object.keys(s).length>0&&c.push(s),(u=this.logger).info.apply(u,["Transition found ["+a.join(",")+"]"].concat(c))}else this.logger.info("No transition found ["+a.join(",")+"]");return o},e.update=function(){var t=this;this.all=this.all.map(function(e){return t.T(e)}).sort(function(t,e){return t.priority-e.priority}).reverse().map(function(t){return delete t.priority,t}),this.page=this.all.filter(function(t){return void 0!==t.leave||void 0!==t.enter}),this.once=this.all.filter(function(t){return void 0!==t.once})},e.R=function(t,e,r,n,i){var o=!0,s=!1,a=e.name,u=i?t[i]:t,c="to"===i?r.next:r.current;if(i?u&&u[a]:u[a]){switch(e.type){case"strings":default:var l=Array.isArray(u[a])?u[a]:[u[a]];c[a]&&-1!==l.indexOf(c[a])&&(s=!0),-1===l.indexOf(c[a])&&(o=!1);break;case"object":var h=Array.isArray(u[a])?u[a]:[u[a]];c[a]?(c[a].name&&-1!==h.indexOf(c[a].name)&&(s=!0),-1===h.indexOf(c[a].name)&&(o=!1)):o=!1;break;case"function":u[a](r)?s=!0:o=!1}s&&(i?(n[i]=n[i]||{},n[i][a]=t[i][a]):n[a]=t[a])}return o},e.O=function(t,e,r){var n=0;return(t[e]||t.from&&t.from[e]||t.to&&t.to[e])&&(n+=Math.pow(10,r),t.from&&t.from[e]&&(n+=1),t.to&&t.to[e]&&(n+=2)),n},e.T=function(t){var e=this;t.priority=0;var r=0;return this.A.forEach(function(n,i){r+=e.O(t,n.name,i+1)}),t.priority=r,t},t}(),Z=function(){function t(t){void 0===t&&(t=[]),this.logger=new f("@barba/core"),this.S=!1,this.store=new K(t)}var r=t.prototype;return r.get=function(t,e){return this.store.resolve(t,e)},r.doOnce=function(t){var e=t.data,r=t.transition;try{var n=function(){i.S=!1},i=this,o=r||{};i.S=!0;var s=u(function(){return Promise.resolve(i.j("beforeOnce",e,o)).then(function(){return Promise.resolve(i.once(e,o)).then(function(){return Promise.resolve(i.j("afterOnce",e,o)).then(function(){})})})},function(t){i.S=!1,i.logger.debug("Transition error [before/after/once]"),i.logger.error(t)});return Promise.resolve(s&&s.then?s.then(n):n())}catch(t){return Promise.reject(t)}},r.doPage=function(t){var e=t.data,r=t.transition,n=t.page,i=t.wrapper;try{var o=function(t){if(s)return t;a.S=!1},s=!1,a=this,c=r||{},l=!0===c.sync;a.S=!0;var h=u(function(){function t(){return Promise.resolve(a.j("before",e,c)).then(function(){function t(t){return Promise.resolve(a.remove(e)).then(function(){return Promise.resolve(a.j("after",e,c)).then(function(){})})}var r=function(){if(l)return u(function(){return Promise.resolve(a.add(e,i)).then(function(){return Promise.resolve(a.j("beforeLeave",e,c)).then(function(){return Promise.resolve(a.j("beforeEnter",e,c)).then(function(){return Promise.resolve(Promise.all([a.leave(e,c),a.enter(e,c)])).then(function(){return Promise.resolve(a.j("afterLeave",e,c)).then(function(){return Promise.resolve(a.j("afterEnter",e,c)).then(function(){})})})})})})},function(t){if(a.M(t))throw new V(t,"Transition error [sync]")});var t=function(t){return u(function(){var t=function(){if(!1!==r)return Promise.resolve(a.add(e,i)).then(function(){return Promise.resolve(a.j("beforeEnter",e,c)).then(function(){return Promise.resolve(a.enter(e,c,r)).then(function(){return Promise.resolve(a.j("afterEnter",e,c)).then(function(){})})})})}();if(t&&t.then)return t.then(function(){})},function(t){if(a.M(t))throw new V(t,"Transition error [before/after/enter]")})},r=!1,o=u(function(){return Promise.resolve(a.j("beforeLeave",e,c)).then(function(){return Promise.resolve(Promise.all([a.leave(e,c),P(n,e)]).then(function(t){return t[0]})).then(function(t){return r=t,Promise.resolve(a.j("afterLeave",e,c)).then(function(){})})})},function(t){if(a.M(t))throw new V(t,"Transition error [before/after/leave]")});return o&&o.then?o.then(t):t(o)}();return r&&r.then?r.then(t):t(r)})}var r=function(){if(l)return Promise.resolve(P(n,e)).then(function(){})}();return r&&r.then?r.then(t):t()},function(t){if(a.S=!1,t.name&&"BarbaError"===t.name)throw a.logger.debug(t.label),a.logger.error(t.error),t;throw a.logger.debug("Transition error [page]"),a.logger.error(t),t});return Promise.resolve(h&&h.then?h.then(o):o(h))}catch(t){return Promise.reject(t)}},r.once=function(t,e){try{return Promise.resolve(q.do("once",t,e)).then(function(){return e.once?M(e.once,e)(t):Promise.resolve()})}catch(t){return Promise.reject(t)}},r.leave=function(t,e){try{return Promise.resolve(q.do("leave",t,e)).then(function(){return e.leave?M(e.leave,e)(t):Promise.resolve()})}catch(t){return Promise.reject(t)}},r.enter=function(t,e,r){try{return Promise.resolve(q.do("enter",t,e)).then(function(){return e.enter?M(e.enter,e)(t,r):Promise.resolve()})}catch(t){return Promise.reject(t)}},r.add=function(t,e){try{return E.addContainer(t.next.container,e),q.do("nextAdded",t),Promise.resolve()}catch(t){return Promise.reject(t)}},r.remove=function(t){try{return E.removeContainer(t.current.container),q.do("currentRemoved",t),Promise.resolve()}catch(t){return Promise.reject(t)}},r.M=function(t){return t.message?!/Timeout error|Fetch error/.test(t.message):!t.status},r.j=function(t,e,r){try{return Promise.resolve(q.do(t,e,r)).then(function(){return r[t]?M(r[t],r)(e):Promise.resolve()})}catch(t){return Promise.reject(t)}},e(t,[{key:"isRunning",get:function(){return this.S},set:function(t){this.S=t}},{key:"hasOnce",get:function(){return this.store.once.length>0}},{key:"hasSelf",get:function(){return this.store.all.some(function(t){return"self"===t.name})}},{key:"shouldWait",get:function(){return this.store.all.some(function(t){return t.to&&!t.to.route||t.sync})}}]),t}(),G=function(){function t(t){var e=this;this.names=["beforeLeave","afterLeave","beforeEnter","afterEnter"],this.byNamespace=new Map,0!==t.length&&(t.forEach(function(t){e.byNamespace.set(t.namespace,t)}),this.names.forEach(function(t){q[t](e.L(t))}))}return t.prototype.L=function(t){var e=this;return function(r){var n=t.match(/enter/i)?r.next:r.current,i=e.byNamespace.get(n.namespace);return i&&i[t]?M(i[t],i)(r):Promise.resolve()}},t}();Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType)return null});var J={container:null,html:"",namespace:"",url:{hash:"",href:"",path:"",port:null,query:{}}};return new(function(){function t(){this.version="2.9.7",this.schemaPage=J,this.Logger=f,this.logger=new f("@barba/core"),this.plugins=[],this.hooks=q,this.dom=E,this.helpers=k,this.history=x,this.request=A,this.url=_}var n=t.prototype;return n.use=function(t,e){var r=this.plugins;r.indexOf(t)>-1?this.logger.warn("Plugin ["+t.name+"] already installed."):"function"==typeof t.install?(t.install(this,e),r.push(t)):this.logger.warn("Plugin ["+t.name+'] has no "install" method.')},n.init=function(t){var e=void 0===t?{}:t,n=e.transitions,i=e.views,o=e.schema,s=void 0===o?S:o,a=e.requestError,u=e.timeout,c=e.cacheIgnore,l=void 0!==c&&c,h=e.prefetchIgnore,p=void 0!==h&&h,d=e.preventRunning,v=e.prevent,m=void 0===v?null:v,g=e.debug,y=e.logLevel;if(f.setLevel(!0===(void 0!==g&&g)?"debug":void 0===y?"off":y),this.logger.info(this.version),Object.keys(s).forEach(function(t){S[t]&&(S[t]=s[t])}),this.$=a,this.timeout=void 0===u?2e3:u,this.cacheIgnore=l,this.prefetchIgnore=p,this.preventRunning=void 0!==d&&d,this._=this.dom.getWrapper(),!this._)throw Error("[@barba/core] No Barba wrapper found");this._.setAttribute("aria-live","polite"),this.q();var w=this.data.current;if(!w.container)throw Error("[@barba/core] No Barba container found");if(this.cache=new C(l),this.prevent=new Y(p),this.transitions=new Z(void 0===n?[]:n),this.views=new G(void 0===i?[]:i),null!==m){if("function"!=typeof m)throw Error("[@barba/core] Prevent should be a function");this.prevent.add("preventCustom",m)}this.history.init(w.url.href,w.namespace),this.B=this.B.bind(this),this.U=this.U.bind(this),this.D=this.D.bind(this),this.F(),this.plugins.forEach(function(t){return t.init()});var b=this.data;b.trigger="barba",b.next=b.current,b.current=r({},this.schemaPage),this.hooks.do("ready",b),this.once(b),this.q()},n.destroy=function(){this.q(),this.H(),this.history.clear(),this.hooks.clear(),this.plugins=[]},n.force=function(t){window.location.assign(t)},n.go=function(t,e,r){var n;if(void 0===e&&(e="barba"),this.transitions.isRunning)this.force(t);else if(!(n="popstate"===e?this.history.current&&this.url.getPath(this.history.current.url)===this.url.getPath(t):this.prevent.run("sameUrl",null,null,t))||this.transitions.hasSelf)return e=this.history.change(t,e,r),r&&(r.stopPropagation(),r.preventDefault()),this.page(t,e,n)},n.once=function(t){try{var e=this;return Promise.resolve(e.hooks.do("beforeEnter",t)).then(function(){function r(){return Promise.resolve(e.hooks.do("afterEnter",t)).then(function(){})}var n=function(){if(e.transitions.hasOnce){var r=e.transitions.get(t,{once:!0});return Promise.resolve(e.transitions.doOnce({transition:r,data:t})).then(function(){})}}();return n&&n.then?n.then(r):r()})}catch(t){return Promise.reject(t)}},n.page=function(t,e,n){try{var i=function(){var t=o.data;return Promise.resolve(o.hooks.do("page",t)).then(function(){var e=u(function(){var e=o.transitions.get(t,{once:!1,self:n});return Promise.resolve(o.transitions.doPage({data:t,page:s,transition:e,wrapper:o._})).then(function(){o.q()})},function(){0===f.getLevel()&&o.force(t.current.url.href)});if(e&&e.then)return e.then(function(){})})},o=this;o.data.next.url=r({href:t},o.url.parse(t)),o.data.trigger=e;var s=o.cache.has(t)?o.cache.update(t,{action:"click"}).request:o.cache.set(t,o.request(t,o.timeout,o.onRequestError.bind(o,e)),"click").request,a=function(){if(o.transitions.shouldWait)return Promise.resolve(P(s,o.data)).then(function(){})}();return Promise.resolve(a&&a.then?a.then(i):i())}catch(t){return Promise.reject(t)}},n.onRequestError=function(t){this.transitions.isRunning=!1;for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var i=r[0],o=r[1],s=this.cache.getAction(i);return this.cache.delete(i),this.$&&!1===this.$(t,s,i,o)||"click"===s&&this.force(i),!1},n.prefetch=function(t){var e=this;this.cache.has(t)||this.cache.set(t,this.request(t,this.timeout,this.onRequestError.bind(this,"barba")).catch(function(t){e.logger.error(t)}),"prefetch")},n.F=function(){!0!==this.prefetchIgnore&&(document.addEventListener("mouseover",this.B),document.addEventListener("touchstart",this.B)),document.addEventListener("click",this.U),window.addEventListener("popstate",this.D)},n.H=function(){!0!==this.prefetchIgnore&&(document.removeEventListener("mouseover",this.B),document.removeEventListener("touchstart",this.B)),document.removeEventListener("click",this.U),window.removeEventListener("popstate",this.D)},n.B=function(t){var e=this,r=this.I(t);if(r){var n=this.dom.getHref(r);this.prevent.checkHref(n)||this.cache.has(n)||this.cache.set(n,this.request(n,this.timeout,this.onRequestError.bind(this,r)).catch(function(t){e.logger.error(t)}),"enter")}},n.U=function(t){var e=this.I(t);if(e)return this.transitions.isRunning&&this.preventRunning?(t.preventDefault(),void t.stopPropagation()):void this.go(this.dom.getHref(e),e,t)},n.D=function(t){this.go(this.url.getHref(),"popstate",t)},n.I=function(t){for(var e=t.target;e&&!this.dom.getHref(e);)e=e.parentNode;if(e&&!this.prevent.checkLink(e,t,this.dom.getHref(e)))return e},n.q=function(){var t=this.url.getHref(),e={container:this.dom.getContainer(),html:this.dom.getHtml(),namespace:this.dom.getNamespace(),url:r({href:t},this.url.parse(t))};this.C={current:e,next:r({},this.schemaPage),trigger:void 0},this.hooks.do("reset",this.data)},e(t,[{key:"data",get:function(){return this.C}},{key:"wrapper",get:function(){return this._}}]),t}())}()},{}]},["55jtx"],"55jtx","parcelRequire405f");
//# sourceMappingURL=index.70781a76.js.map
