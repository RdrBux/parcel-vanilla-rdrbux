{"mappings":"C,A,S,C,C,C,C,C,C,C,C,C,E,I,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,E,A,Y,O,C,C,E,E,C,C,E,C,E,E,K,E,C,E,E,A,a,O,Q,A,Y,O,O,O,E,O,O,C,I,C,Q,S,E,C,C,C,E,G,C,C,C,E,C,C,G,C,C,C,E,C,C,I,E,A,Y,O,C,C,E,E,C,C,E,C,G,C,G,E,O,E,E,C,G,G,E,O,E,E,C,G,G,G,A,U,O,E,O,E,G,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,O,C,S,C,E,I,E,C,C,E,C,E,C,E,C,O,A,M,E,E,C,E,E,K,C,C,E,I,E,C,C,E,C,I,E,M,C,G,C,C,E,C,E,C,I,C,E,O,C,E,E,E,O,C,I,C,C,O,C,C,E,C,O,C,S,E,C,E,I,E,E,O,C,G,M,A,C,I,E,C,E,E,E,C,C,E,e,C,C,E,E,M,C,S,C,E,I,C,E,C,E,I,C,M,C,E,I,C,O,C,C,C,E,E,O,C,E,E,K,C,E,E,M,C,E,E,Q,C,S,C,C,C,E,C,C,E,C,C,S,C,C,C,E,E,O,C,C,E,C,E,A,E,O,c,C,E,O,C,I,W,O,C,C,E,A,C,G,C,C,E,C,E,I,I,E,E,E,E,M,C,I,E,C,C,E,E,G,E,C,I,E,E,E,A,C,U,O,S,A,a,O,O,O,O,C,E,A,Y,O,Q,O,G,C,O,W,O,C,G,G,C,I,C,E,C,C,C,C,E,C,Q,C,S,C,C,C,C,C,E,I,E,E,kDCAA,EAAA,EAAA,yB,E,E,c,C,GACA,EAAA,EAAA,e,E,E,c,C,GACA,EAAA,EAAA,Q,E,E,c,C,GACA,EAAA,EAAA,YACA,EAAA,EAAA,SACA,AAAA,CAAA,EAAA,EAAA,OAAI,AAAJ,EAAK,cAAc,CAAC,EAAA,cAAa,EAGjC,IAAM,EAAQ,IAAI,EAAA,OAAI,CAAE,CACtB,KAAM,GACR,GAOA,sBALA,SAAS,EAAI,CAAI,EACf,EAAM,GAAG,CAAC,GACV,sBAAsB,EACxB,GAiCA,AAAA,CAAA,EAAA,EAAA,OAAI,AAAJ,EAAM,IAAI,CAAC,CACT,KAAM,CAAA,EACN,YAAa,CACX,CACE,MAAM,MAAM,CAAI,EACd,EAAM,IAAI,GACV,IAAM,EAAO,IAAI,CAAC,KA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","sources":["<anon>","src/animation.js","node_modules/@studio-freight/lenis/dist/lenis.mjs","node_modules/@studio-freight/lenis/src/maths.js","node_modules/@studio-freight/lenis/src/animate.js","node_modules/@studio-freight/lenis/src/dimensions.js","node_modules/@studio-freight/lenis/src/debounce.js","node_modules/@studio-freight/lenis/src/emitter.js","node_modules/@studio-freight/lenis/src/virtual-scroll.js","node_modules/@studio-freight/lenis/src/index.js","node_modules/@barba/core/dist/barba.umd.js","node_modules/node_modules/babel-plugin-transform-async-to-promises/helpers.js","node_modules/@barba/core/src/modules/Logger.ts","node_modules/@barba/core/src/defs/hooks.ts","node_modules/node_modules/path-to-regexp/index.js","node_modules/@barba/core/src/schemas/attribute.ts","node_modules/@barba/core/src/utils/dom.ts","node_modules/@barba/core/src/utils/history.ts","node_modules/@barba/core/src/utils/helpers.ts","node_modules/@barba/core/src/utils/url.ts","node_modules/@barba/core/src/utils/request.ts","node_modules/node_modules/is-promise/index.js","node_modules/@barba/core/src/utils/run-async.ts","node_modules/@barba/core/src/hooks.ts","node_modules/@barba/core/src/modules/Ignore.ts","node_modules/@barba/core/src/modules/Cache.ts","node_modules/@barba/core/src/modules/Prevent.ts","node_modules/@barba/core/src/modules/Error.ts","node_modules/@barba/core/src/modules/Store.ts","node_modules/@barba/core/src/modules/Transitions.ts","node_modules/@barba/core/src/modules/Views.ts","node_modules/@barba/core/src/polyfills/index.ts","node_modules/@barba/core/src/schemas/page.ts","node_modules/@barba/core/src/core.ts"],"sourcesContent":["// modules are defined as an array\n// [ module function, map of requires ]\n//\n// map of requires is short require name -> numeric require\n//\n// anything defined in a previous bundle is accessed via the\n// orig method which is the require for previous bundles\n\n(function (modules, entry, mainEntry, parcelRequireName, globalName) {\n  /* eslint-disable no-undef */\n  var globalObject =\n    typeof globalThis !== 'undefined'\n      ? globalThis\n      : typeof self !== 'undefined'\n      ? self\n      : typeof window !== 'undefined'\n      ? window\n      : typeof global !== 'undefined'\n      ? global\n      : {};\n  /* eslint-enable no-undef */\n\n  // Save the require from previous bundle to this closure if any\n  var previousRequire =\n    typeof globalObject[parcelRequireName] === 'function' &&\n    globalObject[parcelRequireName];\n\n  var cache = previousRequire.cache || {};\n  // Do not use `require` to prevent Webpack from trying to bundle this call\n  var nodeRequire =\n    typeof module !== 'undefined' &&\n    typeof module.require === 'function' &&\n    module.require.bind(module);\n\n  function newRequire(name, jumped) {\n    if (!cache[name]) {\n      if (!modules[name]) {\n        // if we cannot find the module within our internal map or\n        // cache jump to the current global require ie. the last bundle\n        // that was added to the page.\n        var currentRequire =\n          typeof globalObject[parcelRequireName] === 'function' &&\n          globalObject[parcelRequireName];\n        if (!jumped && currentRequire) {\n          return currentRequire(name, true);\n        }\n\n        // If there are other bundles on this page the require from the\n        // previous one is saved to 'previousRequire'. Repeat this as\n        // many times as there are bundles until the module is found or\n        // we exhaust the require chain.\n        if (previousRequire) {\n          return previousRequire(name, true);\n        }\n\n        // Try the node require function if it exists.\n        if (nodeRequire && typeof name === 'string') {\n          return nodeRequire(name);\n        }\n\n        var err = new Error(\"Cannot find module '\" + name + \"'\");\n        err.code = 'MODULE_NOT_FOUND';\n        throw err;\n      }\n\n      localRequire.resolve = resolve;\n      localRequire.cache = {};\n\n      var module = (cache[name] = new newRequire.Module(name));\n\n      modules[name][0].call(\n        module.exports,\n        localRequire,\n        module,\n        module.exports,\n        this\n      );\n    }\n\n    return cache[name].exports;\n\n    function localRequire(x) {\n      var res = localRequire.resolve(x);\n      return res === false ? {} : newRequire(res);\n    }\n\n    function resolve(x) {\n      var id = modules[name][1][x];\n      return id != null ? id : x;\n    }\n  }\n\n  function Module(moduleName) {\n    this.id = moduleName;\n    this.bundle = newRequire;\n    this.exports = {};\n  }\n\n  newRequire.isParcelRequire = true;\n  newRequire.Module = Module;\n  newRequire.modules = modules;\n  newRequire.cache = cache;\n  newRequire.parent = previousRequire;\n  newRequire.register = function (id, exports) {\n    modules[id] = [\n      function (require, module) {\n        module.exports = exports;\n      },\n      {},\n    ];\n  };\n\n  Object.defineProperty(newRequire, 'root', {\n    get: function () {\n      return globalObject[parcelRequireName];\n    },\n  });\n\n  globalObject[parcelRequireName] = newRequire;\n\n  for (var i = 0; i < entry.length; i++) {\n    newRequire(entry[i]);\n  }\n\n  if (mainEntry) {\n    // Expose entry point to Node, AMD or browser globals\n    // Based on https://github.com/ForbesLindesay/umd/blob/master/template.js\n    var mainExports = newRequire(mainEntry);\n\n    // CommonJS\n    if (typeof exports === 'object' && typeof module !== 'undefined') {\n      module.exports = mainExports;\n\n      // RequireJS\n    } else if (typeof define === 'function' && define.amd) {\n      define(function () {\n        return mainExports;\n      });\n\n      // <script>\n    } else if (globalName) {\n      this[globalName] = mainExports;\n    }\n  }\n})({\"55jtx\":[function(require,module,exports) {\nvar parcelHelpers = require(\"@parcel/transformer-js/src/esmodule-helpers.js\");\nvar _lenis = require(\"@studio-freight/lenis\");\nvar _lenisDefault = parcelHelpers.interopDefault(_lenis);\nvar _core = require(\"@barba/core\");\nvar _coreDefault = parcelHelpers.interopDefault(_core);\nvar _gsap = require(\"gsap\");\nvar _gsapDefault = parcelHelpers.interopDefault(_gsap);\nvar _all = require(\"gsap/all\");\nvar _app = require(\"./app\");\n(0, _gsapDefault.default).registerPlugin((0, _all.ScrollToPlugin));\n// Lenis\nconst lenis = new (0, _lenisDefault.default)({\n    lerp: 0.05\n});\nfunction raf(time) {\n    lenis.raf(time);\n    requestAnimationFrame(raf);\n}\nrequestAnimationFrame(raf);\n// Barba\nfunction delay(n = 0) {\n    return new Promise((resolve)=>{\n        setTimeout(resolve, n);\n    });\n}\nfunction pageTransition() {\n    const tl = (0, _gsapDefault.default).timeline({\n        defaults: {\n            ease: \"power4.inOut\"\n        }\n    });\n    tl.to(\".curtain\", {\n        scaleY: 1,\n        duration: 0.5,\n        transformOrigin: \"bottom\",\n        stagger: 0.1\n    }).to(\".curtain\", {\n        scaleY: 0,\n        duration: 0.5,\n        transformOrigin: \"top\",\n        stagger: 0.1,\n        delay: 0.2\n    });\n}\nfunction contentAnimation() {}\n(0, _coreDefault.default).init({\n    sync: true,\n    transitions: [\n        {\n            async leave (data) {\n                lenis.stop();\n                const done = this.async();\n                pageTransition();\n                await delay(1000);\n                done();\n            },\n            async enter (data) {\n                lenis.start();\n                contentAnimation();\n                if (data.next.namespace === \"home\") (0, _app.init)();\n            },\n            async once (data) {\n                contentAnimation();\n            }\n        }\n    ]\n});\n(0, _coreDefault.default).hooks.enter((data)=>{\n    if (data.next.namespace === \"home\") return;\n    window.scrollTo(0, 0);\n});\n(0, _coreDefault.default).hooks.afterEnter((data)=>{\n    if (data.next.namespace === \"home\") {\n        (0, _app.navButtons)();\n        (0, _app.projectsAnim)();\n        window.addEventListener(\"scroll\", (0, _app.scrollAnim));\n    } else window.removeEventListener(\"scroll\", (0, _app.scrollAnim));\n});\n\n},{\"@studio-freight/lenis\":\"7xHVI\",\"@barba/core\":\"fBszZ\",\"gsap\":\"cZTBM\",\"gsap/all\":\"dWuqe\",\"./app\":\"6JBnf\",\"@parcel/transformer-js/src/esmodule-helpers.js\":\"k3151\"}],\"7xHVI\":[function(require,module,exports) {\nvar parcelHelpers = require(\"@parcel/transformer-js/src/esmodule-helpers.js\");\nparcelHelpers.defineInteropFlag(exports);\nparcelHelpers.export(exports, \"default\", ()=>h);\nfunction t(t, e) {\n    for(var i = 0; i < e.length; i++){\n        var o = e[i];\n        o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(t, \"symbol\" == typeof (n = function(t, e) {\n            if (\"object\" != typeof t || null === t) return t;\n            var i = t[Symbol.toPrimitive];\n            if (void 0 !== i) {\n                var o = i.call(t, \"string\");\n                if (\"object\" != typeof o) return o;\n                throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n            }\n            return String(t);\n        }(o.key)) ? n : String(n), o);\n    }\n    var n;\n}\nfunction e(e, i, o) {\n    return i && t(e.prototype, i), o && t(e, o), Object.defineProperty(e, \"prototype\", {\n        writable: !1\n    }), e;\n}\nfunction i() {\n    return i = Object.assign ? Object.assign.bind() : function(t) {\n        for(var e = 1; e < arguments.length; e++){\n            var i = arguments[e];\n            for(var o in i)Object.prototype.hasOwnProperty.call(i, o) && (t[o] = i[o]);\n        }\n        return t;\n    }, i.apply(this, arguments);\n}\nfunction o(t, e, i) {\n    return Math.max(t, Math.min(e, i));\n}\nvar n = /*#__PURE__*/ function() {\n    function t() {}\n    var e = t.prototype;\n    return e.advance = function(t) {\n        var e, i, n, s;\n        if (this.isRunning) {\n            var r = !1;\n            if (this.lerp) this.value = (i = this.value, n = this.to, (1 - (s = 1 - Math.exp(-60 * this.lerp * t))) * i + s * n), Math.round(this.value) === this.to && (this.value = this.to, r = !0);\n            else {\n                this.currentTime += t;\n                var l = o(0, this.currentTime / this.duration, 1), h = (r = l >= 1) ? 1 : this.easing(l);\n                this.value = this.from + (this.to - this.from) * h;\n            }\n            null == (e = this.onUpdate) || e.call(this, this.value, r), r && this.stop();\n        }\n    }, e.stop = function() {\n        this.isRunning = !1;\n    }, e.fromTo = function(t, e, i) {\n        var o = i.lerp, n = void 0 === o ? .1 : o, s = i.duration, r = void 0 === s ? 1 : s, l = i.easing, h = void 0 === l ? function(t) {\n            return t;\n        } : l, a = i.onStart, c = i.onUpdate;\n        this.from = this.value = t, this.to = e, this.lerp = n, this.duration = r, this.easing = h, this.currentTime = 0, this.isRunning = !0, null == a || a(), this.onUpdate = c;\n    }, t;\n}(), s = /*#__PURE__*/ function() {\n    function t(t) {\n        var e, i, o = this, n = void 0 === t ? {} : t, s = n.wrapper, r = n.content, l = n.autoResize, h = void 0 === l || l;\n        if (this.resize = function() {\n            o.onWrapperResize(), o.onContentResize();\n        }, this.onWrapperResize = function() {\n            o.wrapper === window ? (o.width = window.innerWidth, o.height = window.innerHeight) : (o.width = o.wrapper.clientWidth, o.height = o.wrapper.clientHeight);\n        }, this.onContentResize = function() {\n            o.scrollHeight = o.content.scrollHeight, o.scrollWidth = o.content.scrollWidth;\n        }, this.wrapper = s, this.content = r, h) {\n            var a = (e = this.resize, function() {\n                var t = arguments, o = this;\n                clearTimeout(i), i = setTimeout(function() {\n                    e.apply(o, t);\n                }, 250);\n            });\n            this.wrapper !== window && (this.wrapperResizeObserver = new ResizeObserver(a), this.wrapperResizeObserver.observe(this.wrapper)), this.contentResizeObserver = new ResizeObserver(a), this.contentResizeObserver.observe(this.content);\n        }\n        this.resize();\n    }\n    return t.prototype.destroy = function() {\n        var t, e;\n        null == (t = this.wrapperResizeObserver) || t.disconnect(), null == (e = this.contentResizeObserver) || e.disconnect();\n    }, e(t, [\n        {\n            key: \"limit\",\n            get: function() {\n                return {\n                    x: this.scrollWidth - this.width,\n                    y: this.scrollHeight - this.height\n                };\n            }\n        }\n    ]), t;\n}(), r = /*#__PURE__*/ function() {\n    function t() {\n        this.events = {};\n    }\n    var e = t.prototype;\n    return e.emit = function(t) {\n        for(var e = this.events[t] || [], i = 0, o = e.length; i < o; i++)e[i].apply(e, [].slice.call(arguments, 1));\n    }, e.on = function(t, e) {\n        var i, o = this;\n        return (null == (i = this.events[t]) ? void 0 : i.push(e)) || (this.events[t] = [\n            e\n        ]), function() {\n            var i;\n            o.events[t] = null == (i = o.events[t]) ? void 0 : i.filter(function(t) {\n                return e !== t;\n            });\n        };\n    }, e.off = function(t, e) {\n        var i;\n        this.events[t] = null == (i = this.events[t]) ? void 0 : i.filter(function(t) {\n            return e !== t;\n        });\n    }, e.destroy = function() {\n        this.events = {};\n    }, t;\n}(), l = /*#__PURE__*/ function() {\n    function t(t, e) {\n        var i = this, n = e.wheelMultiplier, s = void 0 === n ? 1 : n, l = e.touchMultiplier, h = void 0 === l ? 2 : l, a = e.normalizeWheel, c = void 0 !== a && a;\n        this.onTouchStart = function(t) {\n            var e = t.targetTouches ? t.targetTouches[0] : t, o = e.clientY;\n            i.touchStart.x = e.clientX, i.touchStart.y = o, i.lastDelta = {\n                x: 0,\n                y: 0\n            };\n        }, this.onTouchMove = function(t) {\n            var e = t.targetTouches ? t.targetTouches[0] : t, o = e.clientX, n = e.clientY, s = -(o - i.touchStart.x) * i.touchMultiplier, r = -(n - i.touchStart.y) * i.touchMultiplier;\n            i.touchStart.x = o, i.touchStart.y = n, i.lastDelta = {\n                x: s,\n                y: r\n            }, i.emitter.emit(\"scroll\", {\n                deltaX: s,\n                deltaY: r,\n                event: t\n            });\n        }, this.onTouchEnd = function(t) {\n            i.emitter.emit(\"scroll\", {\n                deltaX: i.lastDelta.x,\n                deltaY: i.lastDelta.y,\n                event: t\n            });\n        }, this.onWheel = function(t) {\n            var e = t.deltaX, n = t.deltaY;\n            i.normalizeWheel && (e = o(-100, e, 100), n = o(-100, n, 100)), i.emitter.emit(\"scroll\", {\n                deltaX: e *= i.wheelMultiplier,\n                deltaY: n *= i.wheelMultiplier,\n                event: t\n            });\n        }, this.element = t, this.wheelMultiplier = s, this.touchMultiplier = h, this.normalizeWheel = c, this.touchStart = {\n            x: null,\n            y: null\n        }, this.emitter = new r, this.element.addEventListener(\"wheel\", this.onWheel, {\n            passive: !1\n        }), this.element.addEventListener(\"touchstart\", this.onTouchStart, {\n            passive: !1\n        }), this.element.addEventListener(\"touchmove\", this.onTouchMove, {\n            passive: !1\n        }), this.element.addEventListener(\"touchend\", this.onTouchEnd, {\n            passive: !1\n        });\n    }\n    var e = t.prototype;\n    return e.on = function(t, e) {\n        return this.emitter.on(t, e);\n    }, e.destroy = function() {\n        this.emitter.destroy(), this.element.removeEventListener(\"wheel\", this.onWheel, {\n            passive: !1\n        }), this.element.removeEventListener(\"touchstart\", this.onTouchStart, {\n            passive: !1\n        }), this.element.removeEventListener(\"touchmove\", this.onTouchMove, {\n            passive: !1\n        }), this.element.removeEventListener(\"touchend\", this.onTouchEnd, {\n            passive: !1\n        });\n    }, t;\n}(), h = /*#__PURE__*/ function() {\n    function t(t) {\n        var e = this, o = void 0 === t ? {} : t, h = o.wrapper, a = void 0 === h ? window : h, c = o.content, u = void 0 === c ? document.documentElement : c, p = o.wheelEventsTarget, d = void 0 === p ? a : p, v = o.eventsTarget, m = void 0 === v ? d : v, f = o.smoothWheel, g = void 0 === f || f, S = o.smoothTouch, y = void 0 !== S && S, w = o.syncTouch, T = void 0 !== w && w, b = o.syncTouchLerp, z = void 0 === b ? .1 : b, _ = o.__iosNoInertiaSyncTouchLerp, M = void 0 === _ ? .4 : _, L = o.touchInertiaMultiplier, E = void 0 === L ? 35 : L, k = o.duration, O = o.easing, R = void 0 === O ? function(t) {\n            return Math.min(1, 1.001 - Math.pow(2, -10 * t));\n        } : O, W = o.lerp, x = void 0 === W ? !k && .1 : W, C = o.infinite, H = void 0 !== C && C, N = o.orientation, j = void 0 === N ? \"vertical\" : N, A = o.gestureOrientation, X = void 0 === A ? \"vertical\" : A, Y = o.touchMultiplier, D = void 0 === Y ? 1 : Y, I = o.wheelMultiplier, P = void 0 === I ? 1 : I, U = o.normalizeWheel, V = void 0 !== U && U, q = o.autoResize, B = void 0 === q || q;\n        this.onVirtualScroll = function(t) {\n            var o = t.deltaX, n = t.deltaY, s = t.event;\n            if (!s.ctrlKey) {\n                var r = s.type.includes(\"touch\"), l = s.type.includes(\"wheel\");\n                if (!(\"both\" === e.options.gestureOrientation && 0 === o && 0 === n || \"vertical\" === e.options.gestureOrientation && 0 === n || \"horizontal\" === e.options.gestureOrientation && 0 === o || r && \"vertical\" === e.options.gestureOrientation && 0 === e.scroll && !e.options.infinite && n <= 0)) {\n                    var h = s.composedPath();\n                    if (!(h = h.slice(0, h.indexOf(e.rootElement))).find(function(t) {\n                        var e;\n                        return (null == t.hasAttribute ? void 0 : t.hasAttribute(\"data-lenis-prevent\")) || r && (null == t.hasAttribute ? void 0 : t.hasAttribute(\"data-lenis-prevent-touch\")) || l && (null == t.hasAttribute ? void 0 : t.hasAttribute(\"data-lenis-prevent-wheel\")) || (null == (e = t.classList) ? void 0 : e.contains(\"lenis\"));\n                    })) {\n                        if (e.isStopped || e.isLocked) s.preventDefault();\n                        else {\n                            if (e.isSmooth = (e.options.smoothTouch || e.options.syncTouch) && r || e.options.smoothWheel && l, !e.isSmooth) return e.isScrolling = !1, void e.animate.stop();\n                            s.preventDefault();\n                            var a = n;\n                            \"both\" === e.options.gestureOrientation ? a = Math.abs(n) > Math.abs(o) ? n : o : \"horizontal\" === e.options.gestureOrientation && (a = o);\n                            var c = r && e.options.syncTouch, u = r && \"touchend\" === s.type && Math.abs(a) > 1;\n                            u && (a = e.velocity * e.options.touchInertiaMultiplier), e.scrollTo(e.targetScroll + a, i({\n                                programmatic: !1\n                            }, c && {\n                                lerp: u ? e.syncTouchLerp : e.options.__iosNoInertiaSyncTouchLerp\n                            }));\n                        }\n                    }\n                }\n            }\n        }, this.onNativeScroll = function() {\n            if (!e.__preventNextScrollEvent && !e.isScrolling) {\n                var t = e.animatedScroll;\n                e.animatedScroll = e.targetScroll = e.actualScroll, e.velocity = 0, e.direction = Math.sign(e.animatedScroll - t), e.emit();\n            }\n        }, window.lenisVersion = \"1.0.29\", a !== document.documentElement && a !== document.body || (a = window), this.options = {\n            wrapper: a,\n            content: u,\n            wheelEventsTarget: d,\n            eventsTarget: m,\n            smoothWheel: g,\n            smoothTouch: y,\n            syncTouch: T,\n            syncTouchLerp: z,\n            __iosNoInertiaSyncTouchLerp: M,\n            touchInertiaMultiplier: E,\n            duration: k,\n            easing: R,\n            lerp: x,\n            infinite: H,\n            gestureOrientation: X,\n            orientation: j,\n            touchMultiplier: D,\n            wheelMultiplier: P,\n            normalizeWheel: V,\n            autoResize: B\n        }, this.animate = new n, this.emitter = new r, this.dimensions = new s({\n            wrapper: a,\n            content: u,\n            autoResize: B\n        }), this.toggleClass(\"lenis\", !0), this.velocity = 0, this.isLocked = !1, this.isStopped = !1, this.isSmooth = T || g || y, this.isScrolling = !1, this.targetScroll = this.animatedScroll = this.actualScroll, this.options.wrapper.addEventListener(\"scroll\", this.onNativeScroll, {\n            passive: !1\n        }), this.virtualScroll = new l(m, {\n            touchMultiplier: D,\n            wheelMultiplier: P,\n            normalizeWheel: V\n        }), this.virtualScroll.on(\"scroll\", this.onVirtualScroll);\n    }\n    var h = t.prototype;\n    return h.destroy = function() {\n        this.emitter.destroy(), this.options.wrapper.removeEventListener(\"scroll\", this.onNativeScroll, {\n            passive: !1\n        }), this.virtualScroll.destroy(), this.dimensions.destroy(), this.toggleClass(\"lenis\", !1), this.toggleClass(\"lenis-smooth\", !1), this.toggleClass(\"lenis-scrolling\", !1), this.toggleClass(\"lenis-stopped\", !1), this.toggleClass(\"lenis-locked\", !1);\n    }, h.on = function(t, e) {\n        return this.emitter.on(t, e);\n    }, h.off = function(t, e) {\n        return this.emitter.off(t, e);\n    }, h.setScroll = function(t) {\n        this.isHorizontal ? this.rootElement.scrollLeft = t : this.rootElement.scrollTop = t;\n    }, h.resize = function() {\n        this.dimensions.resize();\n    }, h.emit = function() {\n        this.emitter.emit(\"scroll\", this);\n    }, h.reset = function() {\n        this.isLocked = !1, this.isScrolling = !1, this.animatedScroll = this.targetScroll = this.actualScroll, this.velocity = 0, this.animate.stop();\n    }, h.start = function() {\n        this.isStopped = !1, this.reset();\n    }, h.stop = function() {\n        this.isStopped = !0, this.animate.stop(), this.reset();\n    }, h.raf = function(t) {\n        var e = t - (this.time || t);\n        this.time = t, this.animate.advance(.001 * e);\n    }, h.scrollTo = function(t, e) {\n        var i = this, n = void 0 === e ? {} : e, s = n.offset, r = void 0 === s ? 0 : s, l = n.immediate, h = void 0 !== l && l, a = n.lock, c = void 0 !== a && a, u = n.duration, p = void 0 === u ? this.options.duration : u, d = n.easing, v = void 0 === d ? this.options.easing : d, m = n.lerp, f = void 0 === m ? !p && this.options.lerp : m, g = n.onComplete, S = void 0 === g ? null : g, y = n.force, w = n.programmatic, T = void 0 === w || w;\n        if (!this.isStopped && !this.isLocked || void 0 !== y && y) {\n            if ([\n                \"top\",\n                \"left\",\n                \"start\"\n            ].includes(t)) t = 0;\n            else if ([\n                \"bottom\",\n                \"right\",\n                \"end\"\n            ].includes(t)) t = this.limit;\n            else {\n                var b, z;\n                if (\"string\" == typeof t ? z = document.querySelector(t) : null != (b = t) && b.nodeType && (z = t), z) {\n                    if (this.options.wrapper !== window) {\n                        var _ = this.options.wrapper.getBoundingClientRect();\n                        r -= this.isHorizontal ? _.left : _.top;\n                    }\n                    var M = z.getBoundingClientRect();\n                    t = (this.isHorizontal ? M.left : M.top) + this.animatedScroll;\n                }\n            }\n            if (\"number\" == typeof t) {\n                if (t += r, t = Math.round(t), this.options.infinite ? T && (this.targetScroll = this.animatedScroll = this.scroll) : t = o(0, t, this.limit), h) return this.animatedScroll = this.targetScroll = t, this.setScroll(this.scroll), this.reset(), void (null == S || S(this));\n                if (!T) {\n                    if (t === this.targetScroll) return;\n                    this.targetScroll = t;\n                }\n                this.animate.fromTo(this.animatedScroll, t, {\n                    duration: p,\n                    easing: v,\n                    lerp: f,\n                    onStart: function() {\n                        c && (i.isLocked = !0), i.isScrolling = !0;\n                    },\n                    onUpdate: function(t, e) {\n                        i.isScrolling = !0, i.velocity = t - i.animatedScroll, i.direction = Math.sign(i.velocity), i.animatedScroll = t, i.setScroll(i.scroll), T && (i.targetScroll = t), e || i.emit(), e && (i.reset(), i.emit(), null == S || S(i), i.__preventNextScrollEvent = !0, requestAnimationFrame(function() {\n                            delete i.__preventNextScrollEvent;\n                        }));\n                    }\n                });\n            }\n        }\n    }, h.toggleClass = function(t, e) {\n        this.rootElement.classList.toggle(t, e), this.emitter.emit(\"className change\", this);\n    }, e(t, [\n        {\n            key: \"rootElement\",\n            get: function() {\n                return this.options.wrapper === window ? document.documentElement : this.options.wrapper;\n            }\n        },\n        {\n            key: \"limit\",\n            get: function() {\n                return this.dimensions.limit[this.isHorizontal ? \"x\" : \"y\"];\n            }\n        },\n        {\n            key: \"isHorizontal\",\n            get: function() {\n                return \"horizontal\" === this.options.orientation;\n            }\n        },\n        {\n            key: \"actualScroll\",\n            get: function() {\n                return this.isHorizontal ? this.rootElement.scrollLeft : this.rootElement.scrollTop;\n            }\n        },\n        {\n            key: \"scroll\",\n            get: function() {\n                var t;\n                return this.options.infinite ? (this.animatedScroll % (t = this.limit) + t) % t : this.animatedScroll;\n            }\n        },\n        {\n            key: \"progress\",\n            get: function() {\n                return 0 === this.limit ? 1 : this.scroll / this.limit;\n            }\n        },\n        {\n            key: \"isSmooth\",\n            get: function() {\n                return this.__isSmooth;\n            },\n            set: function(t) {\n                this.__isSmooth !== t && (this.__isSmooth = t, this.toggleClass(\"lenis-smooth\", t));\n            }\n        },\n        {\n            key: \"isScrolling\",\n            get: function() {\n                return this.__isScrolling;\n            },\n            set: function(t) {\n                this.__isScrolling !== t && (this.__isScrolling = t, this.toggleClass(\"lenis-scrolling\", t));\n            }\n        },\n        {\n            key: \"isStopped\",\n            get: function() {\n                return this.__isStopped;\n            },\n            set: function(t) {\n                this.__isStopped !== t && (this.__isStopped = t, this.toggleClass(\"lenis-stopped\", t));\n            }\n        },\n        {\n            key: \"isLocked\",\n            get: function() {\n                return this.__isLocked;\n            },\n            set: function(t) {\n                this.__isLocked !== t && (this.__isLocked = t, this.toggleClass(\"lenis-locked\", t));\n            }\n        },\n        {\n            key: \"className\",\n            get: function() {\n                var t = \"lenis\";\n                return this.isStopped && (t += \" lenis-stopped\"), this.isLocked && (t += \" lenis-locked\"), this.isScrolling && (t += \" lenis-scrolling\"), this.isSmooth && (t += \" lenis-smooth\"), t;\n            }\n        }\n    ]), t;\n}();\n\n},{\"@parcel/transformer-js/src/esmodule-helpers.js\":\"k3151\"}],\"fBszZ\":[function(require,module,exports) {\n!function(t, n) {\n    module.exports = n();\n}(this, function() {\n    function t(t, n) {\n        for(var r = 0; r < n.length; r++){\n            var e = n[r];\n            e.enumerable = e.enumerable || !1, e.configurable = !0, \"value\" in e && (e.writable = !0), Object.defineProperty(t, e.key, e);\n        }\n    }\n    function n(n, r, e) {\n        return r && t(n.prototype, r), e && t(n, e), n;\n    }\n    function r() {\n        return (r = Object.assign || function(t) {\n            for(var n = 1; n < arguments.length; n++){\n                var r = arguments[n];\n                for(var e in r)Object.prototype.hasOwnProperty.call(r, e) && (t[e] = r[e]);\n            }\n            return t;\n        }).apply(this, arguments);\n    }\n    function e(t, n) {\n        t.prototype = Object.create(n.prototype), t.prototype.constructor = t, t.__proto__ = n;\n    }\n    function i(t) {\n        return (i = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {\n            return t.__proto__ || Object.getPrototypeOf(t);\n        })(t);\n    }\n    function o(t, n) {\n        return (o = Object.setPrototypeOf || function(t, n) {\n            return t.__proto__ = n, t;\n        })(t, n);\n    }\n    function u(t, n, r) {\n        return (u = function() {\n            if (\"undefined\" == typeof Reflect || !Reflect.construct) return !1;\n            if (Reflect.construct.sham) return !1;\n            if (\"function\" == typeof Proxy) return !0;\n            try {\n                return Date.prototype.toString.call(Reflect.construct(Date, [], function() {})), !0;\n            } catch (t) {\n                return !1;\n            }\n        }() ? Reflect.construct : function(t, n, r) {\n            var e = [\n                null\n            ];\n            e.push.apply(e, n);\n            var i = new (Function.bind.apply(t, e));\n            return r && o(i, r.prototype), i;\n        }).apply(null, arguments);\n    }\n    function f(t) {\n        var n = \"function\" == typeof Map ? new Map : void 0;\n        return (f = function(t) {\n            if (null === t || -1 === Function.toString.call(t).indexOf(\"[native code]\")) return t;\n            if (\"function\" != typeof t) throw new TypeError(\"Super expression must either be null or a function\");\n            if (void 0 !== n) {\n                if (n.has(t)) return n.get(t);\n                n.set(t, r);\n            }\n            function r() {\n                return u(t, arguments, i(this).constructor);\n            }\n            return r.prototype = Object.create(t.prototype, {\n                constructor: {\n                    value: r,\n                    enumerable: !1,\n                    writable: !0,\n                    configurable: !0\n                }\n            }), o(r, t);\n        })(t);\n    }\n    function s(t, n) {\n        try {\n            var r = t();\n        } catch (t) {\n            return n(t);\n        }\n        return r && r.then ? r.then(void 0, n) : r;\n    }\n    \"undefined\" != typeof Symbol && (Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\"))), \"undefined\" != typeof Symbol && (Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\")));\n    var c, a = \"2.9.7\", h = function() {};\n    !function(t) {\n        t[t.off = 0] = \"off\", t[t.error = 1] = \"error\", t[t.warning = 2] = \"warning\", t[t.info = 3] = \"info\", t[t.debug = 4] = \"debug\";\n    }(c || (c = {}));\n    var v = c.off, l = function() {\n        function t(t) {\n            this.t = t;\n        }\n        t.getLevel = function() {\n            return v;\n        }, t.setLevel = function(t) {\n            return v = c[t];\n        };\n        var n = t.prototype;\n        return n.error = function() {\n            for(var t = arguments.length, n = new Array(t), r = 0; r < t; r++)n[r] = arguments[r];\n            this.i(console.error, c.error, n);\n        }, n.warn = function() {\n            for(var t = arguments.length, n = new Array(t), r = 0; r < t; r++)n[r] = arguments[r];\n            this.i(console.warn, c.warning, n);\n        }, n.info = function() {\n            for(var t = arguments.length, n = new Array(t), r = 0; r < t; r++)n[r] = arguments[r];\n            this.i(console.info, c.info, n);\n        }, n.debug = function() {\n            for(var t = arguments.length, n = new Array(t), r = 0; r < t; r++)n[r] = arguments[r];\n            this.i(console.log, c.debug, n);\n        }, n.i = function(n, r, e) {\n            r <= t.getLevel() && n.apply(console, [\n                \"[\" + this.t + \"] \"\n            ].concat(e));\n        }, t;\n    }(), d = O, m = E, p = g, w = x, b = T, y = \"/\", P = new RegExp([\n        \"(\\\\\\\\.)\",\n        \"(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?\"\n    ].join(\"|\"), \"g\");\n    function g(t, n) {\n        for(var r, e = [], i = 0, o = 0, u = \"\", f = n && n.delimiter || y, s = n && n.whitelist || void 0, c = !1; null !== (r = P.exec(t));){\n            var a = r[0], h = r[1], v = r.index;\n            if (u += t.slice(o, v), o = v + a.length, h) u += h[1], c = !0;\n            else {\n                var l = \"\", d = r[2], m = r[3], p = r[4], w = r[5];\n                if (!c && u.length) {\n                    var b = u.length - 1, g = u[b];\n                    (!s || s.indexOf(g) > -1) && (l = g, u = u.slice(0, b));\n                }\n                u && (e.push(u), u = \"\", c = !1);\n                var E = m || p, x = l || f;\n                e.push({\n                    name: d || i++,\n                    prefix: l,\n                    delimiter: x,\n                    optional: \"?\" === w || \"*\" === w,\n                    repeat: \"+\" === w || \"*\" === w,\n                    pattern: E ? A(E) : \"[^\" + k(x === f ? x : x + f) + \"]+?\"\n                });\n            }\n        }\n        return (u || o < t.length) && e.push(u + t.substr(o)), e;\n    }\n    function E(t, n) {\n        return function(r, e) {\n            var i = t.exec(r);\n            if (!i) return !1;\n            for(var o = i[0], u = i.index, f = {}, s = e && e.decode || decodeURIComponent, c = 1; c < i.length; c++)if (void 0 !== i[c]) {\n                var a = n[c - 1];\n                f[a.name] = a.repeat ? i[c].split(a.delimiter).map(function(t) {\n                    return s(t, a);\n                }) : s(i[c], a);\n            }\n            return {\n                path: o,\n                index: u,\n                params: f\n            };\n        };\n    }\n    function x(t, n) {\n        for(var r = new Array(t.length), e = 0; e < t.length; e++)\"object\" == typeof t[e] && (r[e] = new RegExp(\"^(?:\" + t[e].pattern + \")$\", R(n)));\n        return function(n, e) {\n            for(var i = \"\", o = e && e.encode || encodeURIComponent, u = !e || !1 !== e.validate, f = 0; f < t.length; f++){\n                var s = t[f];\n                if (\"string\" != typeof s) {\n                    var c, a = n ? n[s.name] : void 0;\n                    if (Array.isArray(a)) {\n                        if (!s.repeat) throw new TypeError('Expected \"' + s.name + '\" to not repeat, but got array');\n                        if (0 === a.length) {\n                            if (s.optional) continue;\n                            throw new TypeError('Expected \"' + s.name + '\" to not be empty');\n                        }\n                        for(var h = 0; h < a.length; h++){\n                            if (c = o(a[h], s), u && !r[f].test(c)) throw new TypeError('Expected all \"' + s.name + '\" to match \"' + s.pattern + '\"');\n                            i += (0 === h ? s.prefix : s.delimiter) + c;\n                        }\n                    } else if (\"string\" != typeof a && \"number\" != typeof a && \"boolean\" != typeof a) {\n                        if (!s.optional) throw new TypeError('Expected \"' + s.name + '\" to be ' + (s.repeat ? \"an array\" : \"a string\"));\n                    } else {\n                        if (c = o(String(a), s), u && !r[f].test(c)) throw new TypeError('Expected \"' + s.name + '\" to match \"' + s.pattern + '\", but got \"' + c + '\"');\n                        i += s.prefix + c;\n                    }\n                } else i += s;\n            }\n            return i;\n        };\n    }\n    function k(t) {\n        return t.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, \"\\\\$1\");\n    }\n    function A(t) {\n        return t.replace(/([=!:$/()])/g, \"\\\\$1\");\n    }\n    function R(t) {\n        return t && t.sensitive ? \"\" : \"i\";\n    }\n    function T(t, n, r) {\n        for(var e = (r = r || {}).strict, i = !1 !== r.start, o = !1 !== r.end, u = r.delimiter || y, f = [].concat(r.endsWith || []).map(k).concat(\"$\").join(\"|\"), s = i ? \"^\" : \"\", c = 0; c < t.length; c++){\n            var a = t[c];\n            if (\"string\" == typeof a) s += k(a);\n            else {\n                var h = a.repeat ? \"(?:\" + a.pattern + \")(?:\" + k(a.delimiter) + \"(?:\" + a.pattern + \"))*\" : a.pattern;\n                n && n.push(a), s += a.optional ? a.prefix ? \"(?:\" + k(a.prefix) + \"(\" + h + \"))?\" : \"(\" + h + \")?\" : k(a.prefix) + \"(\" + h + \")\";\n            }\n        }\n        if (o) e || (s += \"(?:\" + k(u) + \")?\"), s += \"$\" === f ? \"$\" : \"(?=\" + f + \")\";\n        else {\n            var v = t[t.length - 1], l = \"string\" == typeof v ? v[v.length - 1] === u : void 0 === v;\n            e || (s += \"(?:\" + k(u) + \"(?=\" + f + \"))?\"), l || (s += \"(?=\" + k(u) + \"|\" + f + \")\");\n        }\n        return new RegExp(s, R(r));\n    }\n    function O(t, n, r) {\n        return t instanceof RegExp ? function(t, n) {\n            if (!n) return t;\n            var r = t.source.match(/\\((?!\\?)/g);\n            if (r) for(var e = 0; e < r.length; e++)n.push({\n                name: e,\n                prefix: null,\n                delimiter: null,\n                optional: !1,\n                repeat: !1,\n                pattern: null\n            });\n            return t;\n        }(t, n) : Array.isArray(t) ? function(t, n, r) {\n            for(var e = [], i = 0; i < t.length; i++)e.push(O(t[i], n, r).source);\n            return new RegExp(\"(?:\" + e.join(\"|\") + \")\", R(r));\n        }(t, n, r) : function(t, n, r) {\n            return T(g(t, r), n, r);\n        }(t, n, r);\n    }\n    d.match = function(t, n) {\n        var r = [];\n        return E(O(t, r, n), r);\n    }, d.regexpToFunction = m, d.parse = p, d.compile = function(t, n) {\n        return x(g(t, n), n);\n    }, d.tokensToFunction = w, d.tokensToRegExp = b;\n    var S = {\n        container: \"container\",\n        history: \"history\",\n        namespace: \"namespace\",\n        prefix: \"data-barba\",\n        prevent: \"prevent\",\n        wrapper: \"wrapper\"\n    }, j = new (function() {\n        function t() {\n            this.o = S, this.u = new DOMParser;\n        }\n        var n = t.prototype;\n        return n.toString = function(t) {\n            return t.outerHTML;\n        }, n.toDocument = function(t) {\n            return this.u.parseFromString(t, \"text/html\");\n        }, n.toElement = function(t) {\n            var n = document.createElement(\"div\");\n            return n.innerHTML = t, n;\n        }, n.getHtml = function(t) {\n            return void 0 === t && (t = document), this.toString(t.documentElement);\n        }, n.getWrapper = function(t) {\n            return void 0 === t && (t = document), t.querySelector(\"[\" + this.o.prefix + '=\"' + this.o.wrapper + '\"]');\n        }, n.getContainer = function(t) {\n            return void 0 === t && (t = document), t.querySelector(\"[\" + this.o.prefix + '=\"' + this.o.container + '\"]');\n        }, n.removeContainer = function(t) {\n            document.body.contains(t) && t.parentNode.removeChild(t);\n        }, n.addContainer = function(t, n) {\n            var r = this.getContainer();\n            r ? this.s(t, r) : n.appendChild(t);\n        }, n.getNamespace = function(t) {\n            void 0 === t && (t = document);\n            var n = t.querySelector(\"[\" + this.o.prefix + \"-\" + this.o.namespace + \"]\");\n            return n ? n.getAttribute(this.o.prefix + \"-\" + this.o.namespace) : null;\n        }, n.getHref = function(t) {\n            if (t.tagName && \"a\" === t.tagName.toLowerCase()) {\n                if (\"string\" == typeof t.href) return t.href;\n                var n = t.getAttribute(\"href\") || t.getAttribute(\"xlink:href\");\n                if (n) return this.resolveUrl(n.baseVal || n);\n            }\n            return null;\n        }, n.resolveUrl = function() {\n            for(var t = arguments.length, n = new Array(t), r = 0; r < t; r++)n[r] = arguments[r];\n            var e = n.length;\n            if (0 === e) throw new Error(\"resolveUrl requires at least one argument; got none.\");\n            var i = document.createElement(\"base\");\n            if (i.href = arguments[0], 1 === e) return i.href;\n            var o = document.getElementsByTagName(\"head\")[0];\n            o.insertBefore(i, o.firstChild);\n            for(var u, f = document.createElement(\"a\"), s = 1; s < e; s++)f.href = arguments[s], i.href = u = f.href;\n            return o.removeChild(i), u;\n        }, n.s = function(t, n) {\n            n.parentNode.insertBefore(t, n.nextSibling);\n        }, t;\n    }()), M = new (function() {\n        function t() {\n            this.h = [], this.v = -1;\n        }\n        var e = t.prototype;\n        return e.init = function(t, n) {\n            this.l = \"barba\";\n            var r = {\n                ns: n,\n                scroll: {\n                    x: window.scrollX,\n                    y: window.scrollY\n                },\n                url: t\n            };\n            this.h.push(r), this.v = 0;\n            var e = {\n                from: this.l,\n                index: 0,\n                states: [].concat(this.h)\n            };\n            window.history && window.history.replaceState(e, \"\", t);\n        }, e.change = function(t, n, r) {\n            if (r && r.state) {\n                var e = r.state, i = e.index;\n                n = this.m(this.v - i), this.replace(e.states), this.v = i;\n            } else this.add(t, n);\n            return n;\n        }, e.add = function(t, n) {\n            var r = this.size, e = this.p(n), i = {\n                ns: \"tmp\",\n                scroll: {\n                    x: window.scrollX,\n                    y: window.scrollY\n                },\n                url: t\n            };\n            this.h.push(i), this.v = r;\n            var o = {\n                from: this.l,\n                index: r,\n                states: [].concat(this.h)\n            };\n            switch(e){\n                case \"push\":\n                    window.history && window.history.pushState(o, \"\", t);\n                    break;\n                case \"replace\":\n                    window.history && window.history.replaceState(o, \"\", t);\n            }\n        }, e.update = function(t, n) {\n            var e = n || this.v, i = r({}, this.get(e), {}, t);\n            this.set(e, i);\n        }, e.remove = function(t) {\n            t ? this.h.splice(t, 1) : this.h.pop(), this.v--;\n        }, e.clear = function() {\n            this.h = [], this.v = -1;\n        }, e.replace = function(t) {\n            this.h = t;\n        }, e.get = function(t) {\n            return this.h[t];\n        }, e.set = function(t, n) {\n            return this.h[t] = n;\n        }, e.p = function(t) {\n            var n = \"push\", r = t, e = S.prefix + \"-\" + S.history;\n            return r.hasAttribute && r.hasAttribute(e) && (n = r.getAttribute(e)), n;\n        }, e.m = function(t) {\n            return Math.abs(t) > 1 ? t > 0 ? \"forward\" : \"back\" : 0 === t ? \"popstate\" : t > 0 ? \"back\" : \"forward\";\n        }, n(t, [\n            {\n                key: \"current\",\n                get: function() {\n                    return this.h[this.v];\n                }\n            },\n            {\n                key: \"state\",\n                get: function() {\n                    return this.h[this.h.length - 1];\n                }\n            },\n            {\n                key: \"previous\",\n                get: function() {\n                    return this.v < 1 ? null : this.h[this.v - 1];\n                }\n            },\n            {\n                key: \"size\",\n                get: function() {\n                    return this.h.length;\n                }\n            }\n        ]), t;\n    }()), L = function(t, n) {\n        try {\n            var r = function() {\n                if (!n.next.html) return Promise.resolve(t).then(function(t) {\n                    var r = n.next;\n                    if (t) {\n                        var e = j.toElement(t);\n                        r.namespace = j.getNamespace(e), r.container = j.getContainer(e), r.html = t, M.update({\n                            ns: r.namespace\n                        });\n                        var i = j.toDocument(t);\n                        document.title = i.title;\n                    }\n                });\n            }();\n            return Promise.resolve(r && r.then ? r.then(function() {}) : void 0);\n        } catch (t) {\n            return Promise.reject(t);\n        }\n    }, $ = d, _ = {\n        __proto__: null,\n        update: L,\n        nextTick: function() {\n            return new Promise(function(t) {\n                window.requestAnimationFrame(t);\n            });\n        },\n        pathToRegexp: $\n    }, q = function() {\n        return window.location.origin;\n    }, B = function(t) {\n        return void 0 === t && (t = window.location.href), U(t).port;\n    }, U = function(t) {\n        var n, r = t.match(/:\\d+/);\n        if (null === r) /^http/.test(t) && (n = 80), /^https/.test(t) && (n = 443);\n        else {\n            var e = r[0].substring(1);\n            n = parseInt(e, 10);\n        }\n        var i, o = t.replace(q(), \"\"), u = {}, f = o.indexOf(\"#\");\n        f >= 0 && (i = o.slice(f + 1), o = o.slice(0, f));\n        var s = o.indexOf(\"?\");\n        return s >= 0 && (u = D(o.slice(s + 1)), o = o.slice(0, s)), {\n            hash: i,\n            path: o,\n            port: n,\n            query: u\n        };\n    }, D = function(t) {\n        return t.split(\"&\").reduce(function(t, n) {\n            var r = n.split(\"=\");\n            return t[r[0]] = r[1], t;\n        }, {});\n    }, F = function(t) {\n        return void 0 === t && (t = window.location.href), t.replace(/(\\/#.*|\\/|#.*)$/, \"\");\n    }, H = {\n        __proto__: null,\n        getHref: function() {\n            return window.location.href;\n        },\n        getOrigin: q,\n        getPort: B,\n        getPath: function(t) {\n            return void 0 === t && (t = window.location.href), U(t).path;\n        },\n        parse: U,\n        parseQuery: D,\n        clean: F\n    };\n    function I(t, n, r) {\n        return void 0 === n && (n = 2e3), new Promise(function(e, i) {\n            var o = new XMLHttpRequest;\n            o.onreadystatechange = function() {\n                if (o.readyState === XMLHttpRequest.DONE) {\n                    if (200 === o.status) e(o.responseText);\n                    else if (o.status) {\n                        var n = {\n                            status: o.status,\n                            statusText: o.statusText\n                        };\n                        r(t, n), i(n);\n                    }\n                }\n            }, o.ontimeout = function() {\n                var e = new Error(\"Timeout error [\" + n + \"]\");\n                r(t, e), i(e);\n            }, o.onerror = function() {\n                var n = new Error(\"Fetch error\");\n                r(t, n), i(n);\n            }, o.open(\"GET\", t), o.timeout = n, o.setRequestHeader(\"Accept\", \"text/html,application/xhtml+xml,application/xml\"), o.setRequestHeader(\"x-barba\", \"yes\"), o.send();\n        });\n    }\n    var C = function(t) {\n        return !!t && (\"object\" == typeof t || \"function\" == typeof t) && \"function\" == typeof t.then;\n    };\n    function N(t, n) {\n        return void 0 === n && (n = {}), function() {\n            for(var r = arguments.length, e = new Array(r), i = 0; i < r; i++)e[i] = arguments[i];\n            var o = !1, u = new Promise(function(r, i) {\n                n.async = function() {\n                    return o = !0, function(t, n) {\n                        t ? i(t) : r(n);\n                    };\n                };\n                var u = t.apply(n, e);\n                o || (C(u) ? u.then(r, i) : r(u));\n            });\n            return u;\n        };\n    }\n    var X = new (function(t) {\n        function n() {\n            var n;\n            return (n = t.call(this) || this).logger = new l(\"@barba/core\"), n.all = [\n                \"ready\",\n                \"page\",\n                \"reset\",\n                \"currentAdded\",\n                \"currentRemoved\",\n                \"nextAdded\",\n                \"nextRemoved\",\n                \"beforeOnce\",\n                \"once\",\n                \"afterOnce\",\n                \"before\",\n                \"beforeLeave\",\n                \"leave\",\n                \"afterLeave\",\n                \"beforeEnter\",\n                \"enter\",\n                \"afterEnter\",\n                \"after\"\n            ], n.registered = new Map, n.init(), n;\n        }\n        e(n, t);\n        var r = n.prototype;\n        return r.init = function() {\n            var t = this;\n            this.registered.clear(), this.all.forEach(function(n) {\n                t[n] || (t[n] = function(r, e) {\n                    t.registered.has(n) || t.registered.set(n, new Set), t.registered.get(n).add({\n                        ctx: e || {},\n                        fn: r\n                    });\n                });\n            });\n        }, r.do = function(t) {\n            for(var n = this, r = arguments.length, e = new Array(r > 1 ? r - 1 : 0), i = 1; i < r; i++)e[i - 1] = arguments[i];\n            if (this.registered.has(t)) {\n                var o = Promise.resolve();\n                return this.registered.get(t).forEach(function(t) {\n                    o = o.then(function() {\n                        return N(t.fn, t.ctx).apply(void 0, e);\n                    });\n                }), o.catch(function(r) {\n                    n.logger.debug(\"Hook error [\" + t + \"]\"), n.logger.error(r);\n                });\n            }\n            return Promise.resolve();\n        }, r.clear = function() {\n            var t = this;\n            this.all.forEach(function(n) {\n                delete t[n];\n            }), this.init();\n        }, r.help = function() {\n            this.logger.info(\"Available hooks: \" + this.all.join(\",\"));\n            var t = [];\n            this.registered.forEach(function(n, r) {\n                return t.push(r);\n            }), this.logger.info(\"Registered hooks: \" + t.join(\",\"));\n        }, n;\n    }(h)), z = function() {\n        function t(t) {\n            if (this.P = [], \"boolean\" == typeof t) this.g = t;\n            else {\n                var n = Array.isArray(t) ? t : [\n                    t\n                ];\n                this.P = n.map(function(t) {\n                    return $(t);\n                });\n            }\n        }\n        return t.prototype.checkHref = function(t) {\n            if (\"boolean\" == typeof this.g) return this.g;\n            var n = U(t).path;\n            return this.P.some(function(t) {\n                return null !== t.exec(n);\n            });\n        }, t;\n    }(), G = function(t) {\n        function n(n) {\n            var r;\n            return (r = t.call(this, n) || this).k = new Map, r;\n        }\n        e(n, t);\n        var i = n.prototype;\n        return i.set = function(t, n, r) {\n            return this.k.set(t, {\n                action: r,\n                request: n\n            }), {\n                action: r,\n                request: n\n            };\n        }, i.get = function(t) {\n            return this.k.get(t);\n        }, i.getRequest = function(t) {\n            return this.k.get(t).request;\n        }, i.getAction = function(t) {\n            return this.k.get(t).action;\n        }, i.has = function(t) {\n            return !this.checkHref(t) && this.k.has(t);\n        }, i.delete = function(t) {\n            return this.k.delete(t);\n        }, i.update = function(t, n) {\n            var e = r({}, this.k.get(t), {}, n);\n            return this.k.set(t, e), e;\n        }, n;\n    }(z), Q = function() {\n        return !window.history.pushState;\n    }, W = function(t) {\n        return !t.el || !t.href;\n    }, J = function(t) {\n        var n = t.event;\n        return n.which > 1 || n.metaKey || n.ctrlKey || n.shiftKey || n.altKey;\n    }, K = function(t) {\n        var n = t.el;\n        return n.hasAttribute(\"target\") && \"_blank\" === n.target;\n    }, V = function(t) {\n        var n = t.el;\n        return void 0 !== n.protocol && window.location.protocol !== n.protocol || void 0 !== n.hostname && window.location.hostname !== n.hostname;\n    }, Y = function(t) {\n        var n = t.el;\n        return void 0 !== n.port && B() !== B(n.href);\n    }, Z = function(t) {\n        var n = t.el;\n        return n.getAttribute && \"string\" == typeof n.getAttribute(\"download\");\n    }, tt = function(t) {\n        return t.el.hasAttribute(S.prefix + \"-\" + S.prevent);\n    }, nt = function(t) {\n        return Boolean(t.el.closest(\"[\" + S.prefix + \"-\" + S.prevent + '=\"all\"]'));\n    }, rt = function(t) {\n        var n = t.href;\n        return F(n) === F() && B(n) === B();\n    }, et = function(t) {\n        function n(n) {\n            var r;\n            return (r = t.call(this, n) || this).suite = [], r.tests = new Map, r.init(), r;\n        }\n        e(n, t);\n        var r = n.prototype;\n        return r.init = function() {\n            this.add(\"pushState\", Q), this.add(\"exists\", W), this.add(\"newTab\", J), this.add(\"blank\", K), this.add(\"corsDomain\", V), this.add(\"corsPort\", Y), this.add(\"download\", Z), this.add(\"preventSelf\", tt), this.add(\"preventAll\", nt), this.add(\"sameUrl\", rt, !1);\n        }, r.add = function(t, n, r) {\n            void 0 === r && (r = !0), this.tests.set(t, n), r && this.suite.push(t);\n        }, r.run = function(t, n, r, e) {\n            return this.tests.get(t)({\n                el: n,\n                event: r,\n                href: e\n            });\n        }, r.checkLink = function(t, n, r) {\n            var e = this;\n            return this.suite.some(function(i) {\n                return e.run(i, t, n, r);\n            });\n        }, n;\n    }(z), it = function(t) {\n        function n(r, e) {\n            var i;\n            void 0 === e && (e = \"Barba error\");\n            for(var o = arguments.length, u = new Array(o > 2 ? o - 2 : 0), f = 2; f < o; f++)u[f - 2] = arguments[f];\n            return (i = t.call.apply(t, [\n                this\n            ].concat(u)) || this).error = r, i.label = e, Error.captureStackTrace && Error.captureStackTrace(function(t) {\n                if (void 0 === t) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n                return t;\n            }(i), n), i.name = \"BarbaError\", i;\n        }\n        return e(n, t), n;\n    }(f(Error)), ot = function() {\n        function t(t) {\n            void 0 === t && (t = []), this.logger = new l(\"@barba/core\"), this.all = [], this.page = [], this.once = [], this.A = [\n                {\n                    name: \"namespace\",\n                    type: \"strings\"\n                },\n                {\n                    name: \"custom\",\n                    type: \"function\"\n                }\n            ], t && (this.all = this.all.concat(t)), this.update();\n        }\n        var n = t.prototype;\n        return n.add = function(t, n) {\n            switch(t){\n                case \"rule\":\n                    this.A.splice(n.position || 0, 0, n.value);\n                    break;\n                case \"transition\":\n                default:\n                    this.all.push(n);\n            }\n            this.update();\n        }, n.resolve = function(t, n) {\n            var r = this;\n            void 0 === n && (n = {});\n            var e = n.once ? this.once : this.page;\n            e = e.filter(n.self ? function(t) {\n                return t.name && \"self\" === t.name;\n            } : function(t) {\n                return !t.name || \"self\" !== t.name;\n            });\n            var i = new Map, o = e.find(function(e) {\n                var o = !0, u = {};\n                return !(!n.self || \"self\" !== e.name) || (r.A.reverse().forEach(function(n) {\n                    o && (o = r.R(e, n, t, u), e.from && e.to && (o = r.R(e, n, t, u, \"from\") && r.R(e, n, t, u, \"to\")), e.from && !e.to && (o = r.R(e, n, t, u, \"from\")), !e.from && e.to && (o = r.R(e, n, t, u, \"to\")));\n                }), i.set(e, u), o);\n            }), u = i.get(o), f = [];\n            if (f.push(n.once ? \"once\" : \"page\"), n.self && f.push(\"self\"), u) {\n                var s, c = [\n                    o\n                ];\n                Object.keys(u).length > 0 && c.push(u), (s = this.logger).info.apply(s, [\n                    \"Transition found [\" + f.join(\",\") + \"]\"\n                ].concat(c));\n            } else this.logger.info(\"No transition found [\" + f.join(\",\") + \"]\");\n            return o;\n        }, n.update = function() {\n            var t = this;\n            this.all = this.all.map(function(n) {\n                return t.T(n);\n            }).sort(function(t, n) {\n                return t.priority - n.priority;\n            }).reverse().map(function(t) {\n                return delete t.priority, t;\n            }), this.page = this.all.filter(function(t) {\n                return void 0 !== t.leave || void 0 !== t.enter;\n            }), this.once = this.all.filter(function(t) {\n                return void 0 !== t.once;\n            });\n        }, n.R = function(t, n, r, e, i) {\n            var o = !0, u = !1, f = t, s = n.name, c = s, a = s, h = s, v = i ? f[i] : f, l = \"to\" === i ? r.next : r.current;\n            if (i ? v && v[s] : v[s]) {\n                switch(n.type){\n                    case \"strings\":\n                    default:\n                        var d = Array.isArray(v[c]) ? v[c] : [\n                            v[c]\n                        ];\n                        l[c] && -1 !== d.indexOf(l[c]) && (u = !0), -1 === d.indexOf(l[c]) && (o = !1);\n                        break;\n                    case \"object\":\n                        var m = Array.isArray(v[a]) ? v[a] : [\n                            v[a]\n                        ];\n                        l[a] ? (l[a].name && -1 !== m.indexOf(l[a].name) && (u = !0), -1 === m.indexOf(l[a].name) && (o = !1)) : o = !1;\n                        break;\n                    case \"function\":\n                        v[h](r) ? u = !0 : o = !1;\n                }\n                u && (i ? (e[i] = e[i] || {}, e[i][s] = f[i][s]) : e[s] = f[s]);\n            }\n            return o;\n        }, n.O = function(t, n, r) {\n            var e = 0;\n            return (t[n] || t.from && t.from[n] || t.to && t.to[n]) && (e += Math.pow(10, r), t.from && t.from[n] && (e += 1), t.to && t.to[n] && (e += 2)), e;\n        }, n.T = function(t) {\n            var n = this;\n            t.priority = 0;\n            var r = 0;\n            return this.A.forEach(function(e, i) {\n                r += n.O(t, e.name, i + 1);\n            }), t.priority = r, t;\n        }, t;\n    }(), ut = function() {\n        function t(t) {\n            void 0 === t && (t = []), this.logger = new l(\"@barba/core\"), this.S = !1, this.store = new ot(t);\n        }\n        var r = t.prototype;\n        return r.get = function(t, n) {\n            return this.store.resolve(t, n);\n        }, r.doOnce = function(t) {\n            var n = t.data, r = t.transition;\n            try {\n                var e = function() {\n                    i.S = !1;\n                }, i = this, o = r || {};\n                i.S = !0;\n                var u = s(function() {\n                    return Promise.resolve(i.j(\"beforeOnce\", n, o)).then(function() {\n                        return Promise.resolve(i.once(n, o)).then(function() {\n                            return Promise.resolve(i.j(\"afterOnce\", n, o)).then(function() {});\n                        });\n                    });\n                }, function(t) {\n                    i.S = !1, i.logger.debug(\"Transition error [before/after/once]\"), i.logger.error(t);\n                });\n                return Promise.resolve(u && u.then ? u.then(e) : e());\n            } catch (t) {\n                return Promise.reject(t);\n            }\n        }, r.doPage = function(t) {\n            var n = t.data, r = t.transition, e = t.page, i = t.wrapper;\n            try {\n                var o = function(t) {\n                    if (u) return t;\n                    f.S = !1;\n                }, u = !1, f = this, c = r || {}, a = !0 === c.sync || !1;\n                f.S = !0;\n                var h = s(function() {\n                    function t() {\n                        return Promise.resolve(f.j(\"before\", n, c)).then(function() {\n                            var t = !1;\n                            function r(r) {\n                                return t ? r : Promise.resolve(f.remove(n)).then(function() {\n                                    return Promise.resolve(f.j(\"after\", n, c)).then(function() {});\n                                });\n                            }\n                            var o = function() {\n                                if (a) return s(function() {\n                                    return Promise.resolve(f.add(n, i)).then(function() {\n                                        return Promise.resolve(f.j(\"beforeLeave\", n, c)).then(function() {\n                                            return Promise.resolve(f.j(\"beforeEnter\", n, c)).then(function() {\n                                                return Promise.resolve(Promise.all([\n                                                    f.leave(n, c),\n                                                    f.enter(n, c)\n                                                ])).then(function() {\n                                                    return Promise.resolve(f.j(\"afterLeave\", n, c)).then(function() {\n                                                        return Promise.resolve(f.j(\"afterEnter\", n, c)).then(function() {});\n                                                    });\n                                                });\n                                            });\n                                        });\n                                    });\n                                }, function(t) {\n                                    if (f.M(t)) throw new it(t, \"Transition error [sync]\");\n                                });\n                                var r = function(r) {\n                                    return t ? r : s(function() {\n                                        var t = function() {\n                                            if (!1 !== o) return Promise.resolve(f.add(n, i)).then(function() {\n                                                return Promise.resolve(f.j(\"beforeEnter\", n, c)).then(function() {\n                                                    return Promise.resolve(f.enter(n, c, o)).then(function() {\n                                                        return Promise.resolve(f.j(\"afterEnter\", n, c)).then(function() {});\n                                                    });\n                                                });\n                                            });\n                                        }();\n                                        if (t && t.then) return t.then(function() {});\n                                    }, function(t) {\n                                        if (f.M(t)) throw new it(t, \"Transition error [before/after/enter]\");\n                                    });\n                                }, o = !1, u = s(function() {\n                                    return Promise.resolve(f.j(\"beforeLeave\", n, c)).then(function() {\n                                        return Promise.resolve(Promise.all([\n                                            f.leave(n, c),\n                                            L(e, n)\n                                        ]).then(function(t) {\n                                            return t[0];\n                                        })).then(function(t) {\n                                            return o = t, Promise.resolve(f.j(\"afterLeave\", n, c)).then(function() {});\n                                        });\n                                    });\n                                }, function(t) {\n                                    if (f.M(t)) throw new it(t, \"Transition error [before/after/leave]\");\n                                });\n                                return u && u.then ? u.then(r) : r(u);\n                            }();\n                            return o && o.then ? o.then(r) : r(o);\n                        });\n                    }\n                    var r = function() {\n                        if (a) return Promise.resolve(L(e, n)).then(function() {});\n                    }();\n                    return r && r.then ? r.then(t) : t();\n                }, function(t) {\n                    if (f.S = !1, t.name && \"BarbaError\" === t.name) throw f.logger.debug(t.label), f.logger.error(t.error), t;\n                    throw f.logger.debug(\"Transition error [page]\"), f.logger.error(t), t;\n                });\n                return Promise.resolve(h && h.then ? h.then(o) : o(h));\n            } catch (t) {\n                return Promise.reject(t);\n            }\n        }, r.once = function(t, n) {\n            try {\n                return Promise.resolve(X.do(\"once\", t, n)).then(function() {\n                    return n.once ? N(n.once, n)(t) : Promise.resolve();\n                });\n            } catch (t) {\n                return Promise.reject(t);\n            }\n        }, r.leave = function(t, n) {\n            try {\n                return Promise.resolve(X.do(\"leave\", t, n)).then(function() {\n                    return n.leave ? N(n.leave, n)(t) : Promise.resolve();\n                });\n            } catch (t) {\n                return Promise.reject(t);\n            }\n        }, r.enter = function(t, n, r) {\n            try {\n                return Promise.resolve(X.do(\"enter\", t, n)).then(function() {\n                    return n.enter ? N(n.enter, n)(t, r) : Promise.resolve();\n                });\n            } catch (t) {\n                return Promise.reject(t);\n            }\n        }, r.add = function(t, n) {\n            try {\n                return j.addContainer(t.next.container, n), X.do(\"nextAdded\", t), Promise.resolve();\n            } catch (t) {\n                return Promise.reject(t);\n            }\n        }, r.remove = function(t) {\n            try {\n                return j.removeContainer(t.current.container), X.do(\"currentRemoved\", t), Promise.resolve();\n            } catch (t) {\n                return Promise.reject(t);\n            }\n        }, r.M = function(t) {\n            return t.message ? !/Timeout error|Fetch error/.test(t.message) : !t.status;\n        }, r.j = function(t, n, r) {\n            try {\n                return Promise.resolve(X.do(t, n, r)).then(function() {\n                    return r[t] ? N(r[t], r)(n) : Promise.resolve();\n                });\n            } catch (t) {\n                return Promise.reject(t);\n            }\n        }, n(t, [\n            {\n                key: \"isRunning\",\n                get: function() {\n                    return this.S;\n                },\n                set: function(t) {\n                    this.S = t;\n                }\n            },\n            {\n                key: \"hasOnce\",\n                get: function() {\n                    return this.store.once.length > 0;\n                }\n            },\n            {\n                key: \"hasSelf\",\n                get: function() {\n                    return this.store.all.some(function(t) {\n                        return \"self\" === t.name;\n                    });\n                }\n            },\n            {\n                key: \"shouldWait\",\n                get: function() {\n                    return this.store.all.some(function(t) {\n                        return t.to && !t.to.route || t.sync;\n                    });\n                }\n            }\n        ]), t;\n    }(), ft = function() {\n        function t(t) {\n            var n = this;\n            this.names = [\n                \"beforeLeave\",\n                \"afterLeave\",\n                \"beforeEnter\",\n                \"afterEnter\"\n            ], this.byNamespace = new Map, 0 !== t.length && (t.forEach(function(t) {\n                n.byNamespace.set(t.namespace, t);\n            }), this.names.forEach(function(t) {\n                X[t](n.L(t));\n            }));\n        }\n        return t.prototype.L = function(t) {\n            var n = this;\n            return function(r) {\n                var e = t.match(/enter/i) ? r.next : r.current, i = n.byNamespace.get(e.namespace);\n                return i && i[t] ? N(i[t], i)(r) : Promise.resolve();\n            };\n        }, t;\n    }();\n    Element.prototype.matches || (Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector), Element.prototype.closest || (Element.prototype.closest = function(t) {\n        var n = this;\n        do {\n            if (n.matches(t)) return n;\n            n = n.parentElement || n.parentNode;\n        }while (null !== n && 1 === n.nodeType);\n        return null;\n    });\n    var st = {\n        container: null,\n        html: \"\",\n        namespace: \"\",\n        url: {\n            hash: \"\",\n            href: \"\",\n            path: \"\",\n            port: null,\n            query: {}\n        }\n    };\n    return new (function() {\n        function t() {\n            this.version = a, this.schemaPage = st, this.Logger = l, this.logger = new l(\"@barba/core\"), this.plugins = [], this.hooks = X, this.dom = j, this.helpers = _, this.history = M, this.request = I, this.url = H;\n        }\n        var e = t.prototype;\n        return e.use = function(t, n) {\n            var r = this.plugins;\n            r.indexOf(t) > -1 ? this.logger.warn(\"Plugin [\" + t.name + \"] already installed.\") : \"function\" == typeof t.install ? (t.install(this, n), r.push(t)) : this.logger.warn(\"Plugin [\" + t.name + '] has no \"install\" method.');\n        }, e.init = function(t) {\n            var n = void 0 === t ? {} : t, e = n.transitions, i = void 0 === e ? [] : e, o = n.views, u = void 0 === o ? [] : o, f = n.schema, s = void 0 === f ? S : f, c = n.requestError, a = n.timeout, h = void 0 === a ? 2e3 : a, v = n.cacheIgnore, d = void 0 !== v && v, m = n.prefetchIgnore, p = void 0 !== m && m, w = n.preventRunning, b = void 0 !== w && w, y = n.prevent, P = void 0 === y ? null : y, g = n.debug, E = n.logLevel;\n            if (l.setLevel(!0 === (void 0 !== g && g) ? \"debug\" : void 0 === E ? \"off\" : E), this.logger.info(this.version), Object.keys(s).forEach(function(t) {\n                S[t] && (S[t] = s[t]);\n            }), this.$ = c, this.timeout = h, this.cacheIgnore = d, this.prefetchIgnore = p, this.preventRunning = b, this._ = this.dom.getWrapper(), !this._) throw new Error(\"[@barba/core] No Barba wrapper found\");\n            this._.setAttribute(\"aria-live\", \"polite\"), this.q();\n            var x = this.data.current;\n            if (!x.container) throw new Error(\"[@barba/core] No Barba container found\");\n            if (this.cache = new G(d), this.prevent = new et(p), this.transitions = new ut(i), this.views = new ft(u), null !== P) {\n                if (\"function\" != typeof P) throw new Error(\"[@barba/core] Prevent should be a function\");\n                this.prevent.add(\"preventCustom\", P);\n            }\n            this.history.init(x.url.href, x.namespace), this.B = this.B.bind(this), this.U = this.U.bind(this), this.D = this.D.bind(this), this.F(), this.plugins.forEach(function(t) {\n                return t.init();\n            });\n            var k = this.data;\n            k.trigger = \"barba\", k.next = k.current, k.current = r({}, this.schemaPage), this.hooks.do(\"ready\", k), this.once(k), this.q();\n        }, e.destroy = function() {\n            this.q(), this.H(), this.history.clear(), this.hooks.clear(), this.plugins = [];\n        }, e.force = function(t) {\n            window.location.assign(t);\n        }, e.go = function(t, n, r) {\n            var e;\n            if (void 0 === n && (n = \"barba\"), this.transitions.isRunning) this.force(t);\n            else if (!(e = \"popstate\" === n ? this.history.current && this.url.getPath(this.history.current.url) === this.url.getPath(t) : this.prevent.run(\"sameUrl\", null, null, t)) || this.transitions.hasSelf) return n = this.history.change(t, n, r), r && (r.stopPropagation(), r.preventDefault()), this.page(t, n, e);\n        }, e.once = function(t) {\n            try {\n                var n = this;\n                return Promise.resolve(n.hooks.do(\"beforeEnter\", t)).then(function() {\n                    function r() {\n                        return Promise.resolve(n.hooks.do(\"afterEnter\", t)).then(function() {});\n                    }\n                    var e = function() {\n                        if (n.transitions.hasOnce) {\n                            var r = n.transitions.get(t, {\n                                once: !0\n                            });\n                            return Promise.resolve(n.transitions.doOnce({\n                                transition: r,\n                                data: t\n                            })).then(function() {});\n                        }\n                    }();\n                    return e && e.then ? e.then(r) : r();\n                });\n            } catch (t) {\n                return Promise.reject(t);\n            }\n        }, e.page = function(t, n, e) {\n            try {\n                var i = function() {\n                    var t = o.data;\n                    return Promise.resolve(o.hooks.do(\"page\", t)).then(function() {\n                        var n = s(function() {\n                            var n = o.transitions.get(t, {\n                                once: !1,\n                                self: e\n                            });\n                            return Promise.resolve(o.transitions.doPage({\n                                data: t,\n                                page: u,\n                                transition: n,\n                                wrapper: o._\n                            })).then(function() {\n                                o.q();\n                            });\n                        }, function() {\n                            0 === l.getLevel() && o.force(t.current.url.href);\n                        });\n                        if (n && n.then) return n.then(function() {});\n                    });\n                }, o = this;\n                o.data.next.url = r({\n                    href: t\n                }, o.url.parse(t)), o.data.trigger = n;\n                var u = o.cache.has(t) ? o.cache.update(t, {\n                    action: \"click\"\n                }).request : o.cache.set(t, o.request(t, o.timeout, o.onRequestError.bind(o, n)), \"click\").request, f = function() {\n                    if (o.transitions.shouldWait) return Promise.resolve(L(u, o.data)).then(function() {});\n                }();\n                return Promise.resolve(f && f.then ? f.then(i) : i());\n            } catch (t) {\n                return Promise.reject(t);\n            }\n        }, e.onRequestError = function(t) {\n            this.transitions.isRunning = !1;\n            for(var n = arguments.length, r = new Array(n > 1 ? n - 1 : 0), e = 1; e < n; e++)r[e - 1] = arguments[e];\n            var i = r[0], o = r[1], u = this.cache.getAction(i);\n            return this.cache.delete(i), this.$ && !1 === this.$(t, u, i, o) || \"click\" === u && this.force(i), false;\n        }, e.prefetch = function(t) {\n            var n = this;\n            this.cache.has(t) || this.cache.set(t, this.request(t, this.timeout, this.onRequestError.bind(this, \"barba\")).catch(function(t) {\n                n.logger.error(t);\n            }), \"prefetch\");\n        }, e.F = function() {\n            !0 !== this.prefetchIgnore && (document.addEventListener(\"mouseover\", this.B), document.addEventListener(\"touchstart\", this.B)), document.addEventListener(\"click\", this.U), window.addEventListener(\"popstate\", this.D);\n        }, e.H = function() {\n            !0 !== this.prefetchIgnore && (document.removeEventListener(\"mouseover\", this.B), document.removeEventListener(\"touchstart\", this.B)), document.removeEventListener(\"click\", this.U), window.removeEventListener(\"popstate\", this.D);\n        }, e.B = function(t) {\n            var n = this, r = this.I(t);\n            if (r) {\n                var e = this.dom.getHref(r);\n                this.prevent.checkHref(e) || this.cache.has(e) || this.cache.set(e, this.request(e, this.timeout, this.onRequestError.bind(this, r)).catch(function(t) {\n                    n.logger.error(t);\n                }), \"enter\");\n            }\n        }, e.U = function(t) {\n            var n = this.I(t);\n            if (n) return this.transitions.isRunning && this.preventRunning ? (t.preventDefault(), void t.stopPropagation()) : void this.go(this.dom.getHref(n), n, t);\n        }, e.D = function(t) {\n            this.go(this.url.getHref(), \"popstate\", t);\n        }, e.I = function(t) {\n            for(var n = t.target; n && !this.dom.getHref(n);)n = n.parentNode;\n            if (n && !this.prevent.checkLink(n, t, this.dom.getHref(n))) return n;\n        }, e.q = function() {\n            var t = this.url.getHref(), n = {\n                container: this.dom.getContainer(),\n                html: this.dom.getHtml(),\n                namespace: this.dom.getNamespace(),\n                url: r({\n                    href: t\n                }, this.url.parse(t))\n            };\n            this.C = {\n                current: n,\n                next: r({}, this.schemaPage),\n                trigger: void 0\n            }, this.hooks.do(\"reset\", this.data);\n        }, n(t, [\n            {\n                key: \"data\",\n                get: function() {\n                    return this.C;\n                }\n            },\n            {\n                key: \"wrapper\",\n                get: function() {\n                    return this._;\n                }\n            }\n        ]), t;\n    }());\n});\n\n},{}]},[\"55jtx\"], \"55jtx\", \"parcelRequire405f\")\n\n//# sourceMappingURL=index.70781a76.js.map\n","import Lenis from '@studio-freight/lenis';\r\nimport barba from '@barba/core';\r\nimport gsap from 'gsap';\r\nimport { ScrollToPlugin } from 'gsap/all';\r\nimport { init, navButtons, projectsAnim, scrollAnim } from './app';\r\ngsap.registerPlugin(ScrollToPlugin);\r\n\r\n// Lenis\r\nconst lenis = new Lenis({\r\n  lerp: 0.05,\r\n});\r\n\r\nfunction raf(time) {\r\n  lenis.raf(time);\r\n  requestAnimationFrame(raf);\r\n}\r\n\r\nrequestAnimationFrame(raf);\r\n\r\n// Barba\r\nfunction delay(n = 0) {\r\n  return new Promise((resolve) => {\r\n    setTimeout(resolve, n);\r\n  });\r\n}\r\n\r\nfunction pageTransition() {\r\n  const tl = gsap.timeline({\r\n    defaults: {\r\n      ease: 'power4.inOut',\r\n    },\r\n  });\r\n  tl.to('.curtain', {\r\n    scaleY: 1,\r\n    duration: 0.5,\r\n    transformOrigin: 'bottom',\r\n    stagger: 0.1,\r\n  }).to('.curtain', {\r\n    scaleY: 0,\r\n    duration: 0.5,\r\n    transformOrigin: 'top',\r\n    stagger: 0.1,\r\n    delay: 0.2,\r\n  });\r\n}\r\n\r\nfunction contentAnimation() {}\r\n\r\nbarba.init({\r\n  sync: true,\r\n  transitions: [\r\n    {\r\n      async leave(data) {\r\n        lenis.stop();\r\n        const done = this.async();\r\n        pageTransition();\r\n        await delay(1000);\r\n        done();\r\n      },\r\n      async enter(data) {\r\n        lenis.start();\r\n        contentAnimation();\r\n        if (data.next.namespace === 'home') init();\r\n      },\r\n      async once(data) {\r\n        contentAnimation();\r\n      },\r\n    },\r\n  ],\r\n});\r\n\r\nbarba.hooks.enter((data) => {\r\n  if (data.next.namespace === 'home') return;\r\n  window.scrollTo(0, 0);\r\n});\r\n\r\nbarba.hooks.afterEnter((data) => {\r\n  if (data.next.namespace === 'home') {\r\n    navButtons();\r\n    projectsAnim();\r\n    window.addEventListener('scroll', scrollAnim);\r\n  } else {\r\n    window.removeEventListener('scroll', scrollAnim);\r\n  }\r\n});\r\n","function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(t,\"symbol\"==typeof(n=function(t,e){if(\"object\"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,\"string\");if(\"object\"!=typeof o)return o;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}(o.key))?n:String(n),o)}var n}function e(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),Object.defineProperty(e,\"prototype\",{writable:!1}),e}function i(){return i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},i.apply(this,arguments)}function o(t,e,i){return Math.max(t,Math.min(e,i))}var n=/*#__PURE__*/function(){function t(){}var e=t.prototype;return e.advance=function(t){var e,i,n,s;if(this.isRunning){var r=!1;if(this.lerp)this.value=(i=this.value,n=this.to,(1-(s=1-Math.exp(-60*this.lerp*t)))*i+s*n),Math.round(this.value)===this.to&&(this.value=this.to,r=!0);else{this.currentTime+=t;var l=o(0,this.currentTime/this.duration,1),h=(r=l>=1)?1:this.easing(l);this.value=this.from+(this.to-this.from)*h}null==(e=this.onUpdate)||e.call(this,this.value,r),r&&this.stop()}},e.stop=function(){this.isRunning=!1},e.fromTo=function(t,e,i){var o=i.lerp,n=void 0===o?.1:o,s=i.duration,r=void 0===s?1:s,l=i.easing,h=void 0===l?function(t){return t}:l,a=i.onStart,c=i.onUpdate;this.from=this.value=t,this.to=e,this.lerp=n,this.duration=r,this.easing=h,this.currentTime=0,this.isRunning=!0,null==a||a(),this.onUpdate=c},t}(),s=/*#__PURE__*/function(){function t(t){var e,i,o=this,n=void 0===t?{}:t,s=n.wrapper,r=n.content,l=n.autoResize,h=void 0===l||l;if(this.resize=function(){o.onWrapperResize(),o.onContentResize()},this.onWrapperResize=function(){o.wrapper===window?(o.width=window.innerWidth,o.height=window.innerHeight):(o.width=o.wrapper.clientWidth,o.height=o.wrapper.clientHeight)},this.onContentResize=function(){o.scrollHeight=o.content.scrollHeight,o.scrollWidth=o.content.scrollWidth},this.wrapper=s,this.content=r,h){var a=(e=this.resize,function(){var t=arguments,o=this;clearTimeout(i),i=setTimeout(function(){e.apply(o,t)},250)});this.wrapper!==window&&(this.wrapperResizeObserver=new ResizeObserver(a),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(a),this.contentResizeObserver.observe(this.content)}this.resize()}return t.prototype.destroy=function(){var t,e;null==(t=this.wrapperResizeObserver)||t.disconnect(),null==(e=this.contentResizeObserver)||e.disconnect()},e(t,[{key:\"limit\",get:function(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}}]),t}(),r=/*#__PURE__*/function(){function t(){this.events={}}var e=t.prototype;return e.emit=function(t){for(var e=this.events[t]||[],i=0,o=e.length;i<o;i++)e[i].apply(e,[].slice.call(arguments,1))},e.on=function(t,e){var i,o=this;return(null==(i=this.events[t])?void 0:i.push(e))||(this.events[t]=[e]),function(){var i;o.events[t]=null==(i=o.events[t])?void 0:i.filter(function(t){return e!==t})}},e.off=function(t,e){var i;this.events[t]=null==(i=this.events[t])?void 0:i.filter(function(t){return e!==t})},e.destroy=function(){this.events={}},t}(),l=/*#__PURE__*/function(){function t(t,e){var i=this,n=e.wheelMultiplier,s=void 0===n?1:n,l=e.touchMultiplier,h=void 0===l?2:l,a=e.normalizeWheel,c=void 0!==a&&a;this.onTouchStart=function(t){var e=t.targetTouches?t.targetTouches[0]:t,o=e.clientY;i.touchStart.x=e.clientX,i.touchStart.y=o,i.lastDelta={x:0,y:0}},this.onTouchMove=function(t){var e=t.targetTouches?t.targetTouches[0]:t,o=e.clientX,n=e.clientY,s=-(o-i.touchStart.x)*i.touchMultiplier,r=-(n-i.touchStart.y)*i.touchMultiplier;i.touchStart.x=o,i.touchStart.y=n,i.lastDelta={x:s,y:r},i.emitter.emit(\"scroll\",{deltaX:s,deltaY:r,event:t})},this.onTouchEnd=function(t){i.emitter.emit(\"scroll\",{deltaX:i.lastDelta.x,deltaY:i.lastDelta.y,event:t})},this.onWheel=function(t){var e=t.deltaX,n=t.deltaY;i.normalizeWheel&&(e=o(-100,e,100),n=o(-100,n,100)),i.emitter.emit(\"scroll\",{deltaX:e*=i.wheelMultiplier,deltaY:n*=i.wheelMultiplier,event:t})},this.element=t,this.wheelMultiplier=s,this.touchMultiplier=h,this.normalizeWheel=c,this.touchStart={x:null,y:null},this.emitter=new r,this.element.addEventListener(\"wheel\",this.onWheel,{passive:!1}),this.element.addEventListener(\"touchstart\",this.onTouchStart,{passive:!1}),this.element.addEventListener(\"touchmove\",this.onTouchMove,{passive:!1}),this.element.addEventListener(\"touchend\",this.onTouchEnd,{passive:!1})}var e=t.prototype;return e.on=function(t,e){return this.emitter.on(t,e)},e.destroy=function(){this.emitter.destroy(),this.element.removeEventListener(\"wheel\",this.onWheel,{passive:!1}),this.element.removeEventListener(\"touchstart\",this.onTouchStart,{passive:!1}),this.element.removeEventListener(\"touchmove\",this.onTouchMove,{passive:!1}),this.element.removeEventListener(\"touchend\",this.onTouchEnd,{passive:!1})},t}(),h=/*#__PURE__*/function(){function t(t){var e=this,o=void 0===t?{}:t,h=o.wrapper,a=void 0===h?window:h,c=o.content,u=void 0===c?document.documentElement:c,p=o.wheelEventsTarget,d=void 0===p?a:p,v=o.eventsTarget,m=void 0===v?d:v,f=o.smoothWheel,g=void 0===f||f,S=o.smoothTouch,y=void 0!==S&&S,w=o.syncTouch,T=void 0!==w&&w,b=o.syncTouchLerp,z=void 0===b?.1:b,_=o.__iosNoInertiaSyncTouchLerp,M=void 0===_?.4:_,L=o.touchInertiaMultiplier,E=void 0===L?35:L,k=o.duration,O=o.easing,R=void 0===O?function(t){return Math.min(1,1.001-Math.pow(2,-10*t))}:O,W=o.lerp,x=void 0===W?!k&&.1:W,C=o.infinite,H=void 0!==C&&C,N=o.orientation,j=void 0===N?\"vertical\":N,A=o.gestureOrientation,X=void 0===A?\"vertical\":A,Y=o.touchMultiplier,D=void 0===Y?1:Y,I=o.wheelMultiplier,P=void 0===I?1:I,U=o.normalizeWheel,V=void 0!==U&&U,q=o.autoResize,B=void 0===q||q;this.onVirtualScroll=function(t){var o=t.deltaX,n=t.deltaY,s=t.event;if(!s.ctrlKey){var r=s.type.includes(\"touch\"),l=s.type.includes(\"wheel\");if(!(\"both\"===e.options.gestureOrientation&&0===o&&0===n||\"vertical\"===e.options.gestureOrientation&&0===n||\"horizontal\"===e.options.gestureOrientation&&0===o||r&&\"vertical\"===e.options.gestureOrientation&&0===e.scroll&&!e.options.infinite&&n<=0)){var h=s.composedPath();if(!(h=h.slice(0,h.indexOf(e.rootElement))).find(function(t){var e;return(null==t.hasAttribute?void 0:t.hasAttribute(\"data-lenis-prevent\"))||r&&(null==t.hasAttribute?void 0:t.hasAttribute(\"data-lenis-prevent-touch\"))||l&&(null==t.hasAttribute?void 0:t.hasAttribute(\"data-lenis-prevent-wheel\"))||(null==(e=t.classList)?void 0:e.contains(\"lenis\"))}))if(e.isStopped||e.isLocked)s.preventDefault();else{if(e.isSmooth=(e.options.smoothTouch||e.options.syncTouch)&&r||e.options.smoothWheel&&l,!e.isSmooth)return e.isScrolling=!1,void e.animate.stop();s.preventDefault();var a=n;\"both\"===e.options.gestureOrientation?a=Math.abs(n)>Math.abs(o)?n:o:\"horizontal\"===e.options.gestureOrientation&&(a=o);var c=r&&e.options.syncTouch,u=r&&\"touchend\"===s.type&&Math.abs(a)>1;u&&(a=e.velocity*e.options.touchInertiaMultiplier),e.scrollTo(e.targetScroll+a,i({programmatic:!1},c&&{lerp:u?e.syncTouchLerp:e.options.__iosNoInertiaSyncTouchLerp}))}}}},this.onNativeScroll=function(){if(!e.__preventNextScrollEvent&&!e.isScrolling){var t=e.animatedScroll;e.animatedScroll=e.targetScroll=e.actualScroll,e.velocity=0,e.direction=Math.sign(e.animatedScroll-t),e.emit()}},window.lenisVersion=\"1.0.29\",a!==document.documentElement&&a!==document.body||(a=window),this.options={wrapper:a,content:u,wheelEventsTarget:d,eventsTarget:m,smoothWheel:g,smoothTouch:y,syncTouch:T,syncTouchLerp:z,__iosNoInertiaSyncTouchLerp:M,touchInertiaMultiplier:E,duration:k,easing:R,lerp:x,infinite:H,gestureOrientation:X,orientation:j,touchMultiplier:D,wheelMultiplier:P,normalizeWheel:V,autoResize:B},this.animate=new n,this.emitter=new r,this.dimensions=new s({wrapper:a,content:u,autoResize:B}),this.toggleClass(\"lenis\",!0),this.velocity=0,this.isLocked=!1,this.isStopped=!1,this.isSmooth=T||g||y,this.isScrolling=!1,this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener(\"scroll\",this.onNativeScroll,{passive:!1}),this.virtualScroll=new l(m,{touchMultiplier:D,wheelMultiplier:P,normalizeWheel:V}),this.virtualScroll.on(\"scroll\",this.onVirtualScroll)}var h=t.prototype;return h.destroy=function(){this.emitter.destroy(),this.options.wrapper.removeEventListener(\"scroll\",this.onNativeScroll,{passive:!1}),this.virtualScroll.destroy(),this.dimensions.destroy(),this.toggleClass(\"lenis\",!1),this.toggleClass(\"lenis-smooth\",!1),this.toggleClass(\"lenis-scrolling\",!1),this.toggleClass(\"lenis-stopped\",!1),this.toggleClass(\"lenis-locked\",!1)},h.on=function(t,e){return this.emitter.on(t,e)},h.off=function(t,e){return this.emitter.off(t,e)},h.setScroll=function(t){this.isHorizontal?this.rootElement.scrollLeft=t:this.rootElement.scrollTop=t},h.resize=function(){this.dimensions.resize()},h.emit=function(){this.emitter.emit(\"scroll\",this)},h.reset=function(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.animate.stop()},h.start=function(){this.isStopped=!1,this.reset()},h.stop=function(){this.isStopped=!0,this.animate.stop(),this.reset()},h.raf=function(t){var e=t-(this.time||t);this.time=t,this.animate.advance(.001*e)},h.scrollTo=function(t,e){var i=this,n=void 0===e?{}:e,s=n.offset,r=void 0===s?0:s,l=n.immediate,h=void 0!==l&&l,a=n.lock,c=void 0!==a&&a,u=n.duration,p=void 0===u?this.options.duration:u,d=n.easing,v=void 0===d?this.options.easing:d,m=n.lerp,f=void 0===m?!p&&this.options.lerp:m,g=n.onComplete,S=void 0===g?null:g,y=n.force,w=n.programmatic,T=void 0===w||w;if(!this.isStopped&&!this.isLocked||void 0!==y&&y){if([\"top\",\"left\",\"start\"].includes(t))t=0;else if([\"bottom\",\"right\",\"end\"].includes(t))t=this.limit;else{var b,z;if(\"string\"==typeof t?z=document.querySelector(t):null!=(b=t)&&b.nodeType&&(z=t),z){if(this.options.wrapper!==window){var _=this.options.wrapper.getBoundingClientRect();r-=this.isHorizontal?_.left:_.top}var M=z.getBoundingClientRect();t=(this.isHorizontal?M.left:M.top)+this.animatedScroll}}if(\"number\"==typeof t){if(t+=r,t=Math.round(t),this.options.infinite?T&&(this.targetScroll=this.animatedScroll=this.scroll):t=o(0,t,this.limit),h)return this.animatedScroll=this.targetScroll=t,this.setScroll(this.scroll),this.reset(),void(null==S||S(this));if(!T){if(t===this.targetScroll)return;this.targetScroll=t}this.animate.fromTo(this.animatedScroll,t,{duration:p,easing:v,lerp:f,onStart:function(){c&&(i.isLocked=!0),i.isScrolling=!0},onUpdate:function(t,e){i.isScrolling=!0,i.velocity=t-i.animatedScroll,i.direction=Math.sign(i.velocity),i.animatedScroll=t,i.setScroll(i.scroll),T&&(i.targetScroll=t),e||i.emit(),e&&(i.reset(),i.emit(),null==S||S(i),i.__preventNextScrollEvent=!0,requestAnimationFrame(function(){delete i.__preventNextScrollEvent}))}})}}},h.toggleClass=function(t,e){this.rootElement.classList.toggle(t,e),this.emitter.emit(\"className change\",this)},e(t,[{key:\"rootElement\",get:function(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}},{key:\"limit\",get:function(){return this.dimensions.limit[this.isHorizontal?\"x\":\"y\"]}},{key:\"isHorizontal\",get:function(){return\"horizontal\"===this.options.orientation}},{key:\"actualScroll\",get:function(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}},{key:\"scroll\",get:function(){return this.options.infinite?(this.animatedScroll%(t=this.limit)+t)%t:this.animatedScroll;var t}},{key:\"progress\",get:function(){return 0===this.limit?1:this.scroll/this.limit}},{key:\"isSmooth\",get:function(){return this.__isSmooth},set:function(t){this.__isSmooth!==t&&(this.__isSmooth=t,this.toggleClass(\"lenis-smooth\",t))}},{key:\"isScrolling\",get:function(){return this.__isScrolling},set:function(t){this.__isScrolling!==t&&(this.__isScrolling=t,this.toggleClass(\"lenis-scrolling\",t))}},{key:\"isStopped\",get:function(){return this.__isStopped},set:function(t){this.__isStopped!==t&&(this.__isStopped=t,this.toggleClass(\"lenis-stopped\",t))}},{key:\"isLocked\",get:function(){return this.__isLocked},set:function(t){this.__isLocked!==t&&(this.__isLocked=t,this.toggleClass(\"lenis-locked\",t))}},{key:\"className\",get:function(){var t=\"lenis\";return this.isStopped&&(t+=\" lenis-stopped\"),this.isLocked&&(t+=\" lenis-locked\"),this.isScrolling&&(t+=\" lenis-scrolling\"),this.isSmooth&&(t+=\" lenis-smooth\"),t}}]),t}();export{h as default};\n//# sourceMappingURL=lenis.mjs.map\n","// Clamp a value between a minimum and maximum value\r\nexport function clamp(min, input, max) {\r\n  return Math.max(min, Math.min(input, max))\r\n}\r\n\r\n// Truncate a floating-point number to a specified number of decimal places\r\nexport function truncate(value, decimals = 0) {\r\n  return parseFloat(value.toFixed(decimals))\r\n}\r\n\r\n// Linearly interpolate between two values using an amount (0 <= t <= 1)\r\nexport function lerp(x, y, t) {\r\n  return (1 - t) * x + t * y\r\n}\r\n\r\n// http://www.rorydriscoll.com/2016/03/07/frame-rate-independent-damping-using-lerp/\r\nexport function damp(x, y, lambda, dt) {\r\n  return lerp(x, y, 1 - Math.exp(-lambda * dt))\r\n}\r\n\r\n// Calculate the modulo of the dividend and divisor while keeping the result within the same sign as the divisor\r\n// https://anguscroll.com/just/just-modulo\r\nexport function modulo(n, d) {\r\n  return ((n % d) + d) % d\r\n}\r\n","import { clamp, damp } from './maths'\r\n\r\n// Animate class to handle value animations with lerping or easing\r\nexport class Animate {\r\n  // Advance the animation by the given delta time\r\n  advance(deltaTime) {\r\n    if (!this.isRunning) return\r\n\r\n    let completed = false\r\n\r\n    if (this.lerp) {\r\n      this.value = damp(this.value, this.to, this.lerp * 60, deltaTime)\r\n      if (Math.round(this.value) === this.to) {\r\n        this.value = this.to\r\n        completed = true\r\n      }\r\n    } else {\r\n      this.currentTime += deltaTime\r\n      const linearProgress = clamp(0, this.currentTime / this.duration, 1)\r\n\r\n      completed = linearProgress >= 1\r\n      const easedProgress = completed ? 1 : this.easing(linearProgress)\r\n      this.value = this.from + (this.to - this.from) * easedProgress\r\n    }\r\n\r\n    // Call the onUpdate callback with the current value and completed status\r\n    this.onUpdate?.(this.value, completed)\r\n\r\n    if (completed) {\r\n      this.stop()\r\n    }\r\n  }\r\n\r\n  // Stop the animation\r\n  stop() {\r\n    this.isRunning = false\r\n  }\r\n\r\n  // Set up the animation from a starting value to an ending value\r\n  // with optional parameters for lerping, duration, easing, and onUpdate callback\r\n  fromTo(\r\n    from,\r\n    to,\r\n    { lerp = 0.1, duration = 1, easing = (t) => t, onStart, onUpdate }\r\n  ) {\r\n    this.from = this.value = from\r\n    this.to = to\r\n    this.lerp = lerp\r\n    this.duration = duration\r\n    this.easing = easing\r\n    this.currentTime = 0\r\n    this.isRunning = true\r\n\r\n    onStart?.()\r\n    this.onUpdate = onUpdate\r\n  }\r\n}\r\n","import { debounce } from './debounce'\r\n\r\nexport class Dimensions {\r\n  constructor({ wrapper, content, autoResize = true } = {}) {\r\n    this.wrapper = wrapper\r\n    this.content = content\r\n\r\n    if (autoResize) {\r\n      const resize = debounce(this.resize, 250)\r\n\r\n      if (this.wrapper !== window) {\r\n        this.wrapperResizeObserver = new ResizeObserver(resize)\r\n        this.wrapperResizeObserver.observe(this.wrapper)\r\n      }\r\n\r\n      this.contentResizeObserver = new ResizeObserver(resize)\r\n      this.contentResizeObserver.observe(this.content)\r\n    }\r\n\r\n    this.resize()\r\n  }\r\n\r\n  destroy() {\r\n    this.wrapperResizeObserver?.disconnect()\r\n    this.contentResizeObserver?.disconnect()\r\n  }\r\n\r\n  resize = () => {\r\n    this.onWrapperResize()\r\n    this.onContentResize()\r\n  }\r\n\r\n  onWrapperResize = () => {\r\n    if (this.wrapper === window) {\r\n      this.width = window.innerWidth\r\n      this.height = window.innerHeight\r\n    } else {\r\n      this.width = this.wrapper.clientWidth\r\n      this.height = this.wrapper.clientHeight\r\n    }\r\n  }\r\n\r\n  onContentResize = () => {\r\n    this.scrollHeight = this.content.scrollHeight\r\n    this.scrollWidth = this.content.scrollWidth\r\n  }\r\n\r\n  get limit() {\r\n    return {\r\n      x: this.scrollWidth - this.width,\r\n      y: this.scrollHeight - this.height,\r\n    }\r\n  }\r\n}\r\n","export function debounce(callback, delay) {\r\n  let timer\r\n  return function () {\r\n    let args = arguments\r\n    let context = this\r\n    clearTimeout(timer)\r\n    timer = setTimeout(function () {\r\n      callback.apply(context, args)\r\n    }, delay)\r\n  }\r\n}\r\n","export class Emitter {\r\n  constructor() {\r\n    this.events = {}\r\n  }\r\n\r\n  emit(event, ...args) {\r\n    let callbacks = this.events[event] || []\r\n    for (let i = 0, length = callbacks.length; i < length; i++) {\r\n      callbacks[i](...args)\r\n    }\r\n  }\r\n\r\n  on(event, cb) {\r\n    // Add the callback to the event's callback list, or create a new list with the callback\r\n    this.events[event]?.push(cb) || (this.events[event] = [cb])\r\n\r\n    // Return an unsubscribe function\r\n    return () => {\r\n      this.events[event] = this.events[event]?.filter((i) => cb !== i)\r\n    }\r\n  }\r\n\r\n  off(event, callback) {\r\n    this.events[event] = this.events[event]?.filter((i) => callback !== i)\r\n  }\r\n\r\n  destroy() {\r\n    this.events = {}\r\n  }\r\n}\r\n","import { Emitter } from './emitter'\r\nimport { clamp } from './maths'\r\n\r\nexport class VirtualScroll {\r\n  constructor(\r\n    element,\r\n    { wheelMultiplier = 1, touchMultiplier = 2, normalizeWheel = false }\r\n  ) {\r\n    this.element = element\r\n    this.wheelMultiplier = wheelMultiplier\r\n    this.touchMultiplier = touchMultiplier\r\n    this.normalizeWheel = normalizeWheel\r\n\r\n    this.touchStart = {\r\n      x: null,\r\n      y: null,\r\n    }\r\n\r\n    this.emitter = new Emitter()\r\n\r\n    this.element.addEventListener('wheel', this.onWheel, { passive: false })\r\n    this.element.addEventListener('touchstart', this.onTouchStart, {\r\n      passive: false,\r\n    })\r\n    this.element.addEventListener('touchmove', this.onTouchMove, {\r\n      passive: false,\r\n    })\r\n    this.element.addEventListener('touchend', this.onTouchEnd, {\r\n      passive: false,\r\n    })\r\n  }\r\n\r\n  // Add an event listener for the given event and callback\r\n  on(event, callback) {\r\n    return this.emitter.on(event, callback)\r\n  }\r\n\r\n  // Remove all event listeners and clean up\r\n  destroy() {\r\n    this.emitter.destroy()\r\n\r\n    this.element.removeEventListener('wheel', this.onWheel, {\r\n      passive: false,\r\n    })\r\n    this.element.removeEventListener('touchstart', this.onTouchStart, {\r\n      passive: false,\r\n    })\r\n    this.element.removeEventListener('touchmove', this.onTouchMove, {\r\n      passive: false,\r\n    })\r\n    this.element.removeEventListener('touchend', this.onTouchEnd, {\r\n      passive: false,\r\n    })\r\n  }\r\n\r\n  // Event handler for 'touchstart' event\r\n  onTouchStart = (event) => {\r\n    const { clientX, clientY } = event.targetTouches\r\n      ? event.targetTouches[0]\r\n      : event\r\n\r\n    this.touchStart.x = clientX\r\n    this.touchStart.y = clientY\r\n\r\n    this.lastDelta = {\r\n      x: 0,\r\n      y: 0,\r\n    }\r\n  }\r\n\r\n  // Event handler for 'touchmove' event\r\n  onTouchMove = (event) => {\r\n    const { clientX, clientY } = event.targetTouches\r\n      ? event.targetTouches[0]\r\n      : event\r\n\r\n    const deltaX = -(clientX - this.touchStart.x) * this.touchMultiplier\r\n    const deltaY = -(clientY - this.touchStart.y) * this.touchMultiplier\r\n\r\n    this.touchStart.x = clientX\r\n    this.touchStart.y = clientY\r\n\r\n    this.lastDelta = {\r\n      x: deltaX,\r\n      y: deltaY,\r\n    }\r\n\r\n    this.emitter.emit('scroll', {\r\n      deltaX,\r\n      deltaY,\r\n      event,\r\n    })\r\n  }\r\n\r\n  onTouchEnd = (event) => {\r\n    this.emitter.emit('scroll', {\r\n      deltaX: this.lastDelta.x,\r\n      deltaY: this.lastDelta.y,\r\n      event,\r\n    })\r\n  }\r\n\r\n  // Event handler for 'wheel' event\r\n  onWheel = (event) => {\r\n    let { deltaX, deltaY } = event\r\n\r\n    if (this.normalizeWheel) {\r\n      deltaX = clamp(-100, deltaX, 100)\r\n      deltaY = clamp(-100, deltaY, 100)\r\n    }\r\n\r\n    deltaX *= this.wheelMultiplier\r\n    deltaY *= this.wheelMultiplier\r\n\r\n    this.emitter.emit('scroll', { deltaX, deltaY, event })\r\n  }\r\n}\r\n","import { version } from '../package.json'\r\nimport { Animate } from './animate'\r\nimport { Dimensions } from './dimensions'\r\nimport { Emitter } from './emitter'\r\nimport { clamp, modulo } from './maths'\r\nimport { VirtualScroll } from './virtual-scroll'\r\n\r\n// Technical explanation\r\n// - listen to 'wheel' events\r\n// - prevent 'wheel' event to prevent scroll\r\n// - normalize wheel delta\r\n// - add delta to targetScroll\r\n// - animate scroll to targetScroll (smooth context)\r\n// - if animation is not running, listen to 'scroll' events (native context)\r\n\r\nexport default class Lenis {\r\n  // isScrolling = true when scroll is animating\r\n  // isStopped = true if user should not be able to scroll - enable/disable programmatically\r\n  // isSmooth = true if scroll should be animated\r\n  // isLocked = same as isStopped but enabled/disabled when scroll reaches target\r\n\r\n  /**\r\n   * @typedef {(t: number) => number} EasingFunction\r\n   * @typedef {'vertical' | 'horizontal'} Orientation\r\n   * @typedef {'vertical' | 'horizontal' | 'both'} GestureOrientation\r\n   *\r\n   * @typedef LenisOptions\r\n   * @property {Window | HTMLElement} [wrapper]\r\n   * @property {HTMLElement} [content]\r\n   * @property {Window | HTMLElement} [wheelEventsTarget] // deprecated\r\n   * @property {Window | HTMLElement} [eventsTarget]\r\n   * @property {boolean} [smoothWheel]\r\n   * @property {boolean} [smoothTouch]\r\n   * @property {boolean} [syncTouch]\r\n   * @property {number} [syncTouchLerp]\r\n   * @property {number} [__iosNoInertiaSyncTouchLerp]\r\n   * @property {number} [touchInertiaMultiplier]\r\n   * @property {number} [duration]\r\n   * @property {EasingFunction} [easing]\r\n   * @property {number} [lerp]\r\n   * @property {boolean} [infinite]\r\n   * @property {Orientation} [orientation]\r\n   * @property {GestureOrientation} [gestureOrientation]\r\n   * @property {number} [touchMultiplier]\r\n   * @property {number} [wheelMultiplier]\r\n   * @property {boolean} [normalizeWheel]\r\n   * @property {boolean} [autoResize]\r\n   *\r\n   * @param {LenisOptions}\r\n   */\r\n  constructor({\r\n    wrapper = window,\r\n    content = document.documentElement,\r\n    wheelEventsTarget = wrapper, // deprecated\r\n    eventsTarget = wheelEventsTarget,\r\n    smoothWheel = true,\r\n    smoothTouch = false,\r\n    syncTouch = false,\r\n    syncTouchLerp = 0.1,\r\n    __iosNoInertiaSyncTouchLerp = 0.4, // should be 1 but had to leave 0.4 for iOS (testing purpose)\r\n    touchInertiaMultiplier = 35,\r\n    duration, // in seconds\r\n    easing = (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\r\n    lerp = !duration && 0.1,\r\n    infinite = false,\r\n    orientation = 'vertical', // vertical, horizontal\r\n    gestureOrientation = 'vertical', // vertical, horizontal, both\r\n    touchMultiplier = 1,\r\n    wheelMultiplier = 1,\r\n    normalizeWheel = false,\r\n    autoResize = true,\r\n  } = {}) {\r\n    window.lenisVersion = version\r\n\r\n    // if wrapper is html or body, fallback to window\r\n    if (wrapper === document.documentElement || wrapper === document.body) {\r\n      wrapper = window\r\n    }\r\n\r\n    this.options = {\r\n      wrapper,\r\n      content,\r\n      wheelEventsTarget,\r\n      eventsTarget,\r\n      smoothWheel,\r\n      smoothTouch,\r\n      syncTouch,\r\n      syncTouchLerp,\r\n      __iosNoInertiaSyncTouchLerp,\r\n      touchInertiaMultiplier,\r\n      duration,\r\n      easing,\r\n      lerp,\r\n      infinite,\r\n      gestureOrientation,\r\n      orientation,\r\n      touchMultiplier,\r\n      wheelMultiplier,\r\n      normalizeWheel,\r\n      autoResize,\r\n    }\r\n\r\n    this.animate = new Animate()\r\n    this.emitter = new Emitter()\r\n    this.dimensions = new Dimensions({ wrapper, content, autoResize })\r\n    this.toggleClass('lenis', true)\r\n\r\n    this.velocity = 0\r\n    this.isLocked = false\r\n    this.isStopped = false\r\n    this.isSmooth = syncTouch || smoothWheel || smoothTouch\r\n    this.isScrolling = false\r\n    this.targetScroll = this.animatedScroll = this.actualScroll\r\n\r\n    this.options.wrapper.addEventListener('scroll', this.onNativeScroll, {\r\n      passive: false,\r\n    })\r\n\r\n    this.virtualScroll = new VirtualScroll(eventsTarget, {\r\n      touchMultiplier,\r\n      wheelMultiplier,\r\n      normalizeWheel,\r\n    })\r\n    this.virtualScroll.on('scroll', this.onVirtualScroll)\r\n  }\r\n\r\n  destroy() {\r\n    this.emitter.destroy()\r\n\r\n    this.options.wrapper.removeEventListener('scroll', this.onNativeScroll, {\r\n      passive: false,\r\n    })\r\n\r\n    this.virtualScroll.destroy()\r\n    this.dimensions.destroy()\r\n\r\n    this.toggleClass('lenis', false)\r\n    this.toggleClass('lenis-smooth', false)\r\n    this.toggleClass('lenis-scrolling', false)\r\n    this.toggleClass('lenis-stopped', false)\r\n    this.toggleClass('lenis-locked', false)\r\n  }\r\n\r\n  on(event, callback) {\r\n    return this.emitter.on(event, callback)\r\n  }\r\n\r\n  off(event, callback) {\r\n    return this.emitter.off(event, callback)\r\n  }\r\n\r\n  setScroll(scroll) {\r\n    // apply scroll value immediately\r\n    if (this.isHorizontal) {\r\n      this.rootElement.scrollLeft = scroll\r\n    } else {\r\n      this.rootElement.scrollTop = scroll\r\n    }\r\n  }\r\n\r\n  onVirtualScroll = ({ deltaX, deltaY, event }) => {\r\n    // keep zoom feature\r\n    if (event.ctrlKey) return\r\n\r\n    const isTouch = event.type.includes('touch')\r\n    const isWheel = event.type.includes('wheel')\r\n\r\n    if (\r\n      (this.options.gestureOrientation === 'both' &&\r\n        deltaX === 0 &&\r\n        deltaY === 0) || // \"touchend\" events prevents \"click\"\r\n      (this.options.gestureOrientation === 'vertical' && deltaY === 0) || // trackpad previous/next page gesture\r\n      (this.options.gestureOrientation === 'horizontal' && deltaX === 0) ||\r\n      (isTouch &&\r\n        this.options.gestureOrientation === 'vertical' &&\r\n        this.scroll === 0 &&\r\n        !this.options.infinite &&\r\n        deltaY <= 0) // touch pull to refresh\r\n    )\r\n      return\r\n\r\n    // catch if scrolling on nested scroll elements\r\n    let composedPath = event.composedPath()\r\n    composedPath = composedPath.slice(0, composedPath.indexOf(this.rootElement)) // remove parents elements\r\n\r\n    if (\r\n      !!composedPath.find(\r\n        (node) =>\r\n          node.hasAttribute?.('data-lenis-prevent') ||\r\n          (isTouch && node.hasAttribute?.('data-lenis-prevent-touch')) ||\r\n          (isWheel && node.hasAttribute?.('data-lenis-prevent-wheel')) ||\r\n          node.classList?.contains('lenis') // nested lenis instance\r\n      )\r\n    )\r\n      return\r\n\r\n    if (this.isStopped || this.isLocked) {\r\n      event.preventDefault()\r\n      return\r\n    }\r\n\r\n    this.isSmooth =\r\n      ((this.options.smoothTouch || this.options.syncTouch) && isTouch) ||\r\n      (this.options.smoothWheel && isWheel)\r\n\r\n    if (!this.isSmooth) {\r\n      this.isScrolling = false\r\n      this.animate.stop()\r\n      return\r\n    }\r\n\r\n    event.preventDefault()\r\n\r\n    let delta = deltaY\r\n    if (this.options.gestureOrientation === 'both') {\r\n      delta = Math.abs(deltaY) > Math.abs(deltaX) ? deltaY : deltaX\r\n    } else if (this.options.gestureOrientation === 'horizontal') {\r\n      delta = deltaX\r\n    }\r\n\r\n    const syncTouch = isTouch && this.options.syncTouch\r\n    const isTouchEnd = isTouch && event.type === 'touchend'\r\n    const hasTouchInertia = isTouchEnd && Math.abs(delta) > 1\r\n    if (hasTouchInertia) {\r\n      delta = this.velocity * this.options.touchInertiaMultiplier\r\n    }\r\n\r\n    this.scrollTo(this.targetScroll + delta, {\r\n      programmatic: false,\r\n      ...(syncTouch && {\r\n        lerp: hasTouchInertia\r\n          ? this.syncTouchLerp\r\n          : this.options.__iosNoInertiaSyncTouchLerp,\r\n      }),\r\n    })\r\n  }\r\n\r\n  resize() {\r\n    this.dimensions.resize()\r\n  }\r\n\r\n  emit() {\r\n    this.emitter.emit('scroll', this)\r\n  }\r\n\r\n  onNativeScroll = () => {\r\n    if (this.__preventNextScrollEvent) return\r\n\r\n    if (!this.isScrolling) {\r\n      const lastScroll = this.animatedScroll\r\n      this.animatedScroll = this.targetScroll = this.actualScroll\r\n      this.velocity = 0\r\n      this.direction = Math.sign(this.animatedScroll - lastScroll)\r\n      this.emit()\r\n    }\r\n  }\r\n\r\n  reset() {\r\n    this.isLocked = false\r\n    this.isScrolling = false\r\n    this.animatedScroll = this.targetScroll = this.actualScroll\r\n    this.velocity = 0\r\n    this.animate.stop()\r\n  }\r\n\r\n  start() {\r\n    this.isStopped = false\r\n\r\n    this.reset()\r\n  }\r\n\r\n  stop() {\r\n    this.isStopped = true\r\n    this.animate.stop()\r\n\r\n    this.reset()\r\n  }\r\n\r\n  raf(time) {\r\n    const deltaTime = time - (this.time || time)\r\n    this.time = time\r\n\r\n    this.animate.advance(deltaTime * 0.001)\r\n  }\r\n\r\n  scrollTo(\r\n    target,\r\n    {\r\n      offset = 0,\r\n      immediate = false,\r\n      lock = false,\r\n      duration = this.options.duration,\r\n      easing = this.options.easing,\r\n      lerp = !duration && this.options.lerp,\r\n      onComplete = null,\r\n      force = false, // scroll even if stopped\r\n      programmatic = true, // called from outside of the class\r\n    } = {}\r\n  ) {\r\n    if ((this.isStopped || this.isLocked) && !force) return\r\n\r\n    // keywords\r\n    if (['top', 'left', 'start'].includes(target)) {\r\n      target = 0\r\n    } else if (['bottom', 'right', 'end'].includes(target)) {\r\n      target = this.limit\r\n    } else {\r\n      let node\r\n\r\n      if (typeof target === 'string') {\r\n        // CSS selector\r\n        node = document.querySelector(target)\r\n      } else if (target?.nodeType) {\r\n        // Node element\r\n        node = target\r\n      }\r\n\r\n      if (node) {\r\n        if (this.options.wrapper !== window) {\r\n          // nested scroll offset correction\r\n          const wrapperRect = this.options.wrapper.getBoundingClientRect()\r\n          offset -= this.isHorizontal ? wrapperRect.left : wrapperRect.top\r\n        }\r\n\r\n        const rect = node.getBoundingClientRect()\r\n\r\n        target =\r\n          (this.isHorizontal ? rect.left : rect.top) + this.animatedScroll\r\n      }\r\n    }\r\n\r\n    if (typeof target !== 'number') return\r\n\r\n    target += offset\r\n    target = Math.round(target)\r\n\r\n    if (this.options.infinite) {\r\n      if (programmatic) {\r\n        this.targetScroll = this.animatedScroll = this.scroll\r\n      }\r\n    } else {\r\n      target = clamp(0, target, this.limit)\r\n    }\r\n\r\n    if (immediate) {\r\n      this.animatedScroll = this.targetScroll = target\r\n      this.setScroll(this.scroll)\r\n      this.reset()\r\n      onComplete?.(this)\r\n      return\r\n    }\r\n\r\n    if (!programmatic) {\r\n      if (target === this.targetScroll) return\r\n\r\n      this.targetScroll = target\r\n    }\r\n\r\n    this.animate.fromTo(this.animatedScroll, target, {\r\n      duration,\r\n      easing,\r\n      lerp,\r\n      onStart: () => {\r\n        // started\r\n        if (lock) this.isLocked = true\r\n        this.isScrolling = true\r\n      },\r\n      onUpdate: (value, completed) => {\r\n        this.isScrolling = true\r\n\r\n        // updated\r\n        this.velocity = value - this.animatedScroll\r\n        this.direction = Math.sign(this.velocity)\r\n\r\n        this.animatedScroll = value\r\n        this.setScroll(this.scroll)\r\n\r\n        if (programmatic) {\r\n          // wheel during programmatic should stop it\r\n          this.targetScroll = value\r\n        }\r\n\r\n        if (!completed) this.emit()\r\n\r\n        if (completed) {\r\n          this.reset()\r\n          this.emit()\r\n          onComplete?.(this)\r\n\r\n          // avoid emitting event twice\r\n          this.__preventNextScrollEvent = true\r\n          requestAnimationFrame(() => {\r\n            delete this.__preventNextScrollEvent\r\n          })\r\n        }\r\n      },\r\n    })\r\n  }\r\n\r\n  get rootElement() {\r\n    return this.options.wrapper === window\r\n      ? document.documentElement\r\n      : this.options.wrapper\r\n  }\r\n\r\n  get limit() {\r\n    return this.dimensions.limit[this.isHorizontal ? 'x' : 'y']\r\n  }\r\n\r\n  get isHorizontal() {\r\n    return this.options.orientation === 'horizontal'\r\n  }\r\n\r\n  get actualScroll() {\r\n    // value browser takes into account\r\n    return this.isHorizontal\r\n      ? this.rootElement.scrollLeft\r\n      : this.rootElement.scrollTop\r\n  }\r\n\r\n  get scroll() {\r\n    return this.options.infinite\r\n      ? modulo(this.animatedScroll, this.limit)\r\n      : this.animatedScroll\r\n  }\r\n\r\n  get progress() {\r\n    // avoid progress to be NaN\r\n    return this.limit === 0 ? 1 : this.scroll / this.limit\r\n  }\r\n\r\n  get isSmooth() {\r\n    return this.__isSmooth\r\n  }\r\n\r\n  set isSmooth(value) {\r\n    if (this.__isSmooth !== value) {\r\n      this.__isSmooth = value\r\n      this.toggleClass('lenis-smooth', value)\r\n    }\r\n  }\r\n\r\n  get isScrolling() {\r\n    return this.__isScrolling\r\n  }\r\n\r\n  set isScrolling(value) {\r\n    if (this.__isScrolling !== value) {\r\n      this.__isScrolling = value\r\n      this.toggleClass('lenis-scrolling', value)\r\n    }\r\n  }\r\n\r\n  get isStopped() {\r\n    return this.__isStopped\r\n  }\r\n\r\n  set isStopped(value) {\r\n    if (this.__isStopped !== value) {\r\n      this.__isStopped = value\r\n      this.toggleClass('lenis-stopped', value)\r\n    }\r\n  }\r\n\r\n  get isLocked() {\r\n    return this.__isLocked\r\n  }\r\n\r\n  set isLocked(value) {\r\n    if (this.__isLocked !== value) {\r\n      this.__isLocked = value\r\n      this.toggleClass('lenis-locked', value)\r\n    }\r\n  }\r\n\r\n  get className() {\r\n    let className = 'lenis'\r\n    if (this.isStopped) className += ' lenis-stopped'\r\n    if (this.isLocked) className += ' lenis-locked'\r\n    if (this.isScrolling) className += ' lenis-scrolling'\r\n    if (this.isSmooth) className += ' lenis-smooth'\r\n    return className\r\n  }\r\n\r\n  toggleClass(name, value) {\r\n    this.rootElement.classList.toggle(name, value)\r\n    this.emitter.emit('className change', this)\r\n  }\r\n}\r\n","!function(t,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define(n):(t=t||self).barba=n()}(this,(function(){function t(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,\"value\"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function n(n,r,e){return r&&t(n.prototype,r),e&&t(n,e),n}function r(){return(r=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])}return t}).apply(this,arguments)}function e(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,n){return(o=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function u(t,n,r){return(u=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct:function(t,n,r){var e=[null];e.push.apply(e,n);var i=new(Function.bind.apply(t,e));return r&&o(i,r.prototype),i}).apply(null,arguments)}function f(t){var n=\"function\"==typeof Map?new Map:void 0;return(f=function(t){if(null===t||-1===Function.toString.call(t).indexOf(\"[native code]\"))return t;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,r)}function r(){return u(t,arguments,i(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o(r,t)})(t)}function s(t,n){try{var r=t()}catch(t){return n(t)}return r&&r.then?r.then(void 0,n):r}\"undefined\"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol(\"Symbol.iterator\"))),\"undefined\"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol(\"Symbol.asyncIterator\")));var c,a=\"2.9.7\",h=function(){};!function(t){t[t.off=0]=\"off\",t[t.error=1]=\"error\",t[t.warning=2]=\"warning\",t[t.info=3]=\"info\",t[t.debug=4]=\"debug\"}(c||(c={}));var v=c.off,l=function(){function t(t){this.t=t}t.getLevel=function(){return v},t.setLevel=function(t){return v=c[t]};var n=t.prototype;return n.error=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.i(console.error,c.error,n)},n.warn=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.i(console.warn,c.warning,n)},n.info=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.i(console.info,c.info,n)},n.debug=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.i(console.log,c.debug,n)},n.i=function(n,r,e){r<=t.getLevel()&&n.apply(console,[\"[\"+this.t+\"] \"].concat(e))},t}(),d=O,m=E,p=g,w=x,b=T,y=\"/\",P=new RegExp([\"(\\\\\\\\.)\",\"(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?\"].join(\"|\"),\"g\");function g(t,n){for(var r,e=[],i=0,o=0,u=\"\",f=n&&n.delimiter||y,s=n&&n.whitelist||void 0,c=!1;null!==(r=P.exec(t));){var a=r[0],h=r[1],v=r.index;if(u+=t.slice(o,v),o=v+a.length,h)u+=h[1],c=!0;else{var l=\"\",d=r[2],m=r[3],p=r[4],w=r[5];if(!c&&u.length){var b=u.length-1,g=u[b];(!s||s.indexOf(g)>-1)&&(l=g,u=u.slice(0,b))}u&&(e.push(u),u=\"\",c=!1);var E=m||p,x=l||f;e.push({name:d||i++,prefix:l,delimiter:x,optional:\"?\"===w||\"*\"===w,repeat:\"+\"===w||\"*\"===w,pattern:E?A(E):\"[^\"+k(x===f?x:x+f)+\"]+?\"})}}return(u||o<t.length)&&e.push(u+t.substr(o)),e}function E(t,n){return function(r,e){var i=t.exec(r);if(!i)return!1;for(var o=i[0],u=i.index,f={},s=e&&e.decode||decodeURIComponent,c=1;c<i.length;c++)if(void 0!==i[c]){var a=n[c-1];f[a.name]=a.repeat?i[c].split(a.delimiter).map((function(t){return s(t,a)})):s(i[c],a)}return{path:o,index:u,params:f}}}function x(t,n){for(var r=new Array(t.length),e=0;e<t.length;e++)\"object\"==typeof t[e]&&(r[e]=new RegExp(\"^(?:\"+t[e].pattern+\")$\",R(n)));return function(n,e){for(var i=\"\",o=e&&e.encode||encodeURIComponent,u=!e||!1!==e.validate,f=0;f<t.length;f++){var s=t[f];if(\"string\"!=typeof s){var c,a=n?n[s.name]:void 0;if(Array.isArray(a)){if(!s.repeat)throw new TypeError('Expected \"'+s.name+'\" to not repeat, but got array');if(0===a.length){if(s.optional)continue;throw new TypeError('Expected \"'+s.name+'\" to not be empty')}for(var h=0;h<a.length;h++){if(c=o(a[h],s),u&&!r[f].test(c))throw new TypeError('Expected all \"'+s.name+'\" to match \"'+s.pattern+'\"');i+=(0===h?s.prefix:s.delimiter)+c}}else if(\"string\"!=typeof a&&\"number\"!=typeof a&&\"boolean\"!=typeof a){if(!s.optional)throw new TypeError('Expected \"'+s.name+'\" to be '+(s.repeat?\"an array\":\"a string\"))}else{if(c=o(String(a),s),u&&!r[f].test(c))throw new TypeError('Expected \"'+s.name+'\" to match \"'+s.pattern+'\", but got \"'+c+'\"');i+=s.prefix+c}}else i+=s}return i}}function k(t){return t.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g,\"\\\\$1\")}function A(t){return t.replace(/([=!:$/()])/g,\"\\\\$1\")}function R(t){return t&&t.sensitive?\"\":\"i\"}function T(t,n,r){for(var e=(r=r||{}).strict,i=!1!==r.start,o=!1!==r.end,u=r.delimiter||y,f=[].concat(r.endsWith||[]).map(k).concat(\"$\").join(\"|\"),s=i?\"^\":\"\",c=0;c<t.length;c++){var a=t[c];if(\"string\"==typeof a)s+=k(a);else{var h=a.repeat?\"(?:\"+a.pattern+\")(?:\"+k(a.delimiter)+\"(?:\"+a.pattern+\"))*\":a.pattern;n&&n.push(a),s+=a.optional?a.prefix?\"(?:\"+k(a.prefix)+\"(\"+h+\"))?\":\"(\"+h+\")?\":k(a.prefix)+\"(\"+h+\")\"}}if(o)e||(s+=\"(?:\"+k(u)+\")?\"),s+=\"$\"===f?\"$\":\"(?=\"+f+\")\";else{var v=t[t.length-1],l=\"string\"==typeof v?v[v.length-1]===u:void 0===v;e||(s+=\"(?:\"+k(u)+\"(?=\"+f+\"))?\"),l||(s+=\"(?=\"+k(u)+\"|\"+f+\")\")}return new RegExp(s,R(r))}function O(t,n,r){return t instanceof RegExp?function(t,n){if(!n)return t;var r=t.source.match(/\\((?!\\?)/g);if(r)for(var e=0;e<r.length;e++)n.push({name:e,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return t}(t,n):Array.isArray(t)?function(t,n,r){for(var e=[],i=0;i<t.length;i++)e.push(O(t[i],n,r).source);return new RegExp(\"(?:\"+e.join(\"|\")+\")\",R(r))}(t,n,r):function(t,n,r){return T(g(t,r),n,r)}(t,n,r)}d.match=function(t,n){var r=[];return E(O(t,r,n),r)},d.regexpToFunction=m,d.parse=p,d.compile=function(t,n){return x(g(t,n),n)},d.tokensToFunction=w,d.tokensToRegExp=b;var S={container:\"container\",history:\"history\",namespace:\"namespace\",prefix:\"data-barba\",prevent:\"prevent\",wrapper:\"wrapper\"},j=new(function(){function t(){this.o=S,this.u=new DOMParser}var n=t.prototype;return n.toString=function(t){return t.outerHTML},n.toDocument=function(t){return this.u.parseFromString(t,\"text/html\")},n.toElement=function(t){var n=document.createElement(\"div\");return n.innerHTML=t,n},n.getHtml=function(t){return void 0===t&&(t=document),this.toString(t.documentElement)},n.getWrapper=function(t){return void 0===t&&(t=document),t.querySelector(\"[\"+this.o.prefix+'=\"'+this.o.wrapper+'\"]')},n.getContainer=function(t){return void 0===t&&(t=document),t.querySelector(\"[\"+this.o.prefix+'=\"'+this.o.container+'\"]')},n.removeContainer=function(t){document.body.contains(t)&&t.parentNode.removeChild(t)},n.addContainer=function(t,n){var r=this.getContainer();r?this.s(t,r):n.appendChild(t)},n.getNamespace=function(t){void 0===t&&(t=document);var n=t.querySelector(\"[\"+this.o.prefix+\"-\"+this.o.namespace+\"]\");return n?n.getAttribute(this.o.prefix+\"-\"+this.o.namespace):null},n.getHref=function(t){if(t.tagName&&\"a\"===t.tagName.toLowerCase()){if(\"string\"==typeof t.href)return t.href;var n=t.getAttribute(\"href\")||t.getAttribute(\"xlink:href\");if(n)return this.resolveUrl(n.baseVal||n)}return null},n.resolveUrl=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var e=n.length;if(0===e)throw new Error(\"resolveUrl requires at least one argument; got none.\");var i=document.createElement(\"base\");if(i.href=arguments[0],1===e)return i.href;var o=document.getElementsByTagName(\"head\")[0];o.insertBefore(i,o.firstChild);for(var u,f=document.createElement(\"a\"),s=1;s<e;s++)f.href=arguments[s],i.href=u=f.href;return o.removeChild(i),u},n.s=function(t,n){n.parentNode.insertBefore(t,n.nextSibling)},t}()),M=new(function(){function t(){this.h=[],this.v=-1}var e=t.prototype;return e.init=function(t,n){this.l=\"barba\";var r={ns:n,scroll:{x:window.scrollX,y:window.scrollY},url:t};this.h.push(r),this.v=0;var e={from:this.l,index:0,states:[].concat(this.h)};window.history&&window.history.replaceState(e,\"\",t)},e.change=function(t,n,r){if(r&&r.state){var e=r.state,i=e.index;n=this.m(this.v-i),this.replace(e.states),this.v=i}else this.add(t,n);return n},e.add=function(t,n){var r=this.size,e=this.p(n),i={ns:\"tmp\",scroll:{x:window.scrollX,y:window.scrollY},url:t};this.h.push(i),this.v=r;var o={from:this.l,index:r,states:[].concat(this.h)};switch(e){case\"push\":window.history&&window.history.pushState(o,\"\",t);break;case\"replace\":window.history&&window.history.replaceState(o,\"\",t)}},e.update=function(t,n){var e=n||this.v,i=r({},this.get(e),{},t);this.set(e,i)},e.remove=function(t){t?this.h.splice(t,1):this.h.pop(),this.v--},e.clear=function(){this.h=[],this.v=-1},e.replace=function(t){this.h=t},e.get=function(t){return this.h[t]},e.set=function(t,n){return this.h[t]=n},e.p=function(t){var n=\"push\",r=t,e=S.prefix+\"-\"+S.history;return r.hasAttribute&&r.hasAttribute(e)&&(n=r.getAttribute(e)),n},e.m=function(t){return Math.abs(t)>1?t>0?\"forward\":\"back\":0===t?\"popstate\":t>0?\"back\":\"forward\"},n(t,[{key:\"current\",get:function(){return this.h[this.v]}},{key:\"state\",get:function(){return this.h[this.h.length-1]}},{key:\"previous\",get:function(){return this.v<1?null:this.h[this.v-1]}},{key:\"size\",get:function(){return this.h.length}}]),t}()),L=function(t,n){try{var r=function(){if(!n.next.html)return Promise.resolve(t).then((function(t){var r=n.next;if(t){var e=j.toElement(t);r.namespace=j.getNamespace(e),r.container=j.getContainer(e),r.html=t,M.update({ns:r.namespace});var i=j.toDocument(t);document.title=i.title}}))}();return Promise.resolve(r&&r.then?r.then((function(){})):void 0)}catch(t){return Promise.reject(t)}},$=d,_={__proto__:null,update:L,nextTick:function(){return new Promise((function(t){window.requestAnimationFrame(t)}))},pathToRegexp:$},q=function(){return window.location.origin},B=function(t){return void 0===t&&(t=window.location.href),U(t).port},U=function(t){var n,r=t.match(/:\\d+/);if(null===r)/^http/.test(t)&&(n=80),/^https/.test(t)&&(n=443);else{var e=r[0].substring(1);n=parseInt(e,10)}var i,o=t.replace(q(),\"\"),u={},f=o.indexOf(\"#\");f>=0&&(i=o.slice(f+1),o=o.slice(0,f));var s=o.indexOf(\"?\");return s>=0&&(u=D(o.slice(s+1)),o=o.slice(0,s)),{hash:i,path:o,port:n,query:u}},D=function(t){return t.split(\"&\").reduce((function(t,n){var r=n.split(\"=\");return t[r[0]]=r[1],t}),{})},F=function(t){return void 0===t&&(t=window.location.href),t.replace(/(\\/#.*|\\/|#.*)$/,\"\")},H={__proto__:null,getHref:function(){return window.location.href},getOrigin:q,getPort:B,getPath:function(t){return void 0===t&&(t=window.location.href),U(t).path},parse:U,parseQuery:D,clean:F};function I(t,n,r){return void 0===n&&(n=2e3),new Promise((function(e,i){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(o.readyState===XMLHttpRequest.DONE)if(200===o.status)e(o.responseText);else if(o.status){var n={status:o.status,statusText:o.statusText};r(t,n),i(n)}},o.ontimeout=function(){var e=new Error(\"Timeout error [\"+n+\"]\");r(t,e),i(e)},o.onerror=function(){var n=new Error(\"Fetch error\");r(t,n),i(n)},o.open(\"GET\",t),o.timeout=n,o.setRequestHeader(\"Accept\",\"text/html,application/xhtml+xml,application/xml\"),o.setRequestHeader(\"x-barba\",\"yes\"),o.send()}))}var C=function(t){return!!t&&(\"object\"==typeof t||\"function\"==typeof t)&&\"function\"==typeof t.then};function N(t,n){return void 0===n&&(n={}),function(){for(var r=arguments.length,e=new Array(r),i=0;i<r;i++)e[i]=arguments[i];var o=!1,u=new Promise((function(r,i){n.async=function(){return o=!0,function(t,n){t?i(t):r(n)}};var u=t.apply(n,e);o||(C(u)?u.then(r,i):r(u))}));return u}}var X=new(function(t){function n(){var n;return(n=t.call(this)||this).logger=new l(\"@barba/core\"),n.all=[\"ready\",\"page\",\"reset\",\"currentAdded\",\"currentRemoved\",\"nextAdded\",\"nextRemoved\",\"beforeOnce\",\"once\",\"afterOnce\",\"before\",\"beforeLeave\",\"leave\",\"afterLeave\",\"beforeEnter\",\"enter\",\"afterEnter\",\"after\"],n.registered=new Map,n.init(),n}e(n,t);var r=n.prototype;return r.init=function(){var t=this;this.registered.clear(),this.all.forEach((function(n){t[n]||(t[n]=function(r,e){t.registered.has(n)||t.registered.set(n,new Set),t.registered.get(n).add({ctx:e||{},fn:r})})}))},r.do=function(t){for(var n=this,r=arguments.length,e=new Array(r>1?r-1:0),i=1;i<r;i++)e[i-1]=arguments[i];if(this.registered.has(t)){var o=Promise.resolve();return this.registered.get(t).forEach((function(t){o=o.then((function(){return N(t.fn,t.ctx).apply(void 0,e)}))})),o.catch((function(r){n.logger.debug(\"Hook error [\"+t+\"]\"),n.logger.error(r)}))}return Promise.resolve()},r.clear=function(){var t=this;this.all.forEach((function(n){delete t[n]})),this.init()},r.help=function(){this.logger.info(\"Available hooks: \"+this.all.join(\",\"));var t=[];this.registered.forEach((function(n,r){return t.push(r)})),this.logger.info(\"Registered hooks: \"+t.join(\",\"))},n}(h)),z=function(){function t(t){if(this.P=[],\"boolean\"==typeof t)this.g=t;else{var n=Array.isArray(t)?t:[t];this.P=n.map((function(t){return $(t)}))}}return t.prototype.checkHref=function(t){if(\"boolean\"==typeof this.g)return this.g;var n=U(t).path;return this.P.some((function(t){return null!==t.exec(n)}))},t}(),G=function(t){function n(n){var r;return(r=t.call(this,n)||this).k=new Map,r}e(n,t);var i=n.prototype;return i.set=function(t,n,r){return this.k.set(t,{action:r,request:n}),{action:r,request:n}},i.get=function(t){return this.k.get(t)},i.getRequest=function(t){return this.k.get(t).request},i.getAction=function(t){return this.k.get(t).action},i.has=function(t){return!this.checkHref(t)&&this.k.has(t)},i.delete=function(t){return this.k.delete(t)},i.update=function(t,n){var e=r({},this.k.get(t),{},n);return this.k.set(t,e),e},n}(z),Q=function(){return!window.history.pushState},W=function(t){return!t.el||!t.href},J=function(t){var n=t.event;return n.which>1||n.metaKey||n.ctrlKey||n.shiftKey||n.altKey},K=function(t){var n=t.el;return n.hasAttribute(\"target\")&&\"_blank\"===n.target},V=function(t){var n=t.el;return void 0!==n.protocol&&window.location.protocol!==n.protocol||void 0!==n.hostname&&window.location.hostname!==n.hostname},Y=function(t){var n=t.el;return void 0!==n.port&&B()!==B(n.href)},Z=function(t){var n=t.el;return n.getAttribute&&\"string\"==typeof n.getAttribute(\"download\")},tt=function(t){return t.el.hasAttribute(S.prefix+\"-\"+S.prevent)},nt=function(t){return Boolean(t.el.closest(\"[\"+S.prefix+\"-\"+S.prevent+'=\"all\"]'))},rt=function(t){var n=t.href;return F(n)===F()&&B(n)===B()},et=function(t){function n(n){var r;return(r=t.call(this,n)||this).suite=[],r.tests=new Map,r.init(),r}e(n,t);var r=n.prototype;return r.init=function(){this.add(\"pushState\",Q),this.add(\"exists\",W),this.add(\"newTab\",J),this.add(\"blank\",K),this.add(\"corsDomain\",V),this.add(\"corsPort\",Y),this.add(\"download\",Z),this.add(\"preventSelf\",tt),this.add(\"preventAll\",nt),this.add(\"sameUrl\",rt,!1)},r.add=function(t,n,r){void 0===r&&(r=!0),this.tests.set(t,n),r&&this.suite.push(t)},r.run=function(t,n,r,e){return this.tests.get(t)({el:n,event:r,href:e})},r.checkLink=function(t,n,r){var e=this;return this.suite.some((function(i){return e.run(i,t,n,r)}))},n}(z),it=function(t){function n(r,e){var i;void 0===e&&(e=\"Barba error\");for(var o=arguments.length,u=new Array(o>2?o-2:0),f=2;f<o;f++)u[f-2]=arguments[f];return(i=t.call.apply(t,[this].concat(u))||this).error=r,i.label=e,Error.captureStackTrace&&Error.captureStackTrace(function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(i),n),i.name=\"BarbaError\",i}return e(n,t),n}(f(Error)),ot=function(){function t(t){void 0===t&&(t=[]),this.logger=new l(\"@barba/core\"),this.all=[],this.page=[],this.once=[],this.A=[{name:\"namespace\",type:\"strings\"},{name:\"custom\",type:\"function\"}],t&&(this.all=this.all.concat(t)),this.update()}var n=t.prototype;return n.add=function(t,n){switch(t){case\"rule\":this.A.splice(n.position||0,0,n.value);break;case\"transition\":default:this.all.push(n)}this.update()},n.resolve=function(t,n){var r=this;void 0===n&&(n={});var e=n.once?this.once:this.page;e=e.filter(n.self?function(t){return t.name&&\"self\"===t.name}:function(t){return!t.name||\"self\"!==t.name});var i=new Map,o=e.find((function(e){var o=!0,u={};return!(!n.self||\"self\"!==e.name)||(r.A.reverse().forEach((function(n){o&&(o=r.R(e,n,t,u),e.from&&e.to&&(o=r.R(e,n,t,u,\"from\")&&r.R(e,n,t,u,\"to\")),e.from&&!e.to&&(o=r.R(e,n,t,u,\"from\")),!e.from&&e.to&&(o=r.R(e,n,t,u,\"to\")))})),i.set(e,u),o)})),u=i.get(o),f=[];if(f.push(n.once?\"once\":\"page\"),n.self&&f.push(\"self\"),u){var s,c=[o];Object.keys(u).length>0&&c.push(u),(s=this.logger).info.apply(s,[\"Transition found [\"+f.join(\",\")+\"]\"].concat(c))}else this.logger.info(\"No transition found [\"+f.join(\",\")+\"]\");return o},n.update=function(){var t=this;this.all=this.all.map((function(n){return t.T(n)})).sort((function(t,n){return t.priority-n.priority})).reverse().map((function(t){return delete t.priority,t})),this.page=this.all.filter((function(t){return void 0!==t.leave||void 0!==t.enter})),this.once=this.all.filter((function(t){return void 0!==t.once}))},n.R=function(t,n,r,e,i){var o=!0,u=!1,f=t,s=n.name,c=s,a=s,h=s,v=i?f[i]:f,l=\"to\"===i?r.next:r.current;if(i?v&&v[s]:v[s]){switch(n.type){case\"strings\":default:var d=Array.isArray(v[c])?v[c]:[v[c]];l[c]&&-1!==d.indexOf(l[c])&&(u=!0),-1===d.indexOf(l[c])&&(o=!1);break;case\"object\":var m=Array.isArray(v[a])?v[a]:[v[a]];l[a]?(l[a].name&&-1!==m.indexOf(l[a].name)&&(u=!0),-1===m.indexOf(l[a].name)&&(o=!1)):o=!1;break;case\"function\":v[h](r)?u=!0:o=!1}u&&(i?(e[i]=e[i]||{},e[i][s]=f[i][s]):e[s]=f[s])}return o},n.O=function(t,n,r){var e=0;return(t[n]||t.from&&t.from[n]||t.to&&t.to[n])&&(e+=Math.pow(10,r),t.from&&t.from[n]&&(e+=1),t.to&&t.to[n]&&(e+=2)),e},n.T=function(t){var n=this;t.priority=0;var r=0;return this.A.forEach((function(e,i){r+=n.O(t,e.name,i+1)})),t.priority=r,t},t}(),ut=function(){function t(t){void 0===t&&(t=[]),this.logger=new l(\"@barba/core\"),this.S=!1,this.store=new ot(t)}var r=t.prototype;return r.get=function(t,n){return this.store.resolve(t,n)},r.doOnce=function(t){var n=t.data,r=t.transition;try{var e=function(){i.S=!1},i=this,o=r||{};i.S=!0;var u=s((function(){return Promise.resolve(i.j(\"beforeOnce\",n,o)).then((function(){return Promise.resolve(i.once(n,o)).then((function(){return Promise.resolve(i.j(\"afterOnce\",n,o)).then((function(){}))}))}))}),(function(t){i.S=!1,i.logger.debug(\"Transition error [before/after/once]\"),i.logger.error(t)}));return Promise.resolve(u&&u.then?u.then(e):e())}catch(t){return Promise.reject(t)}},r.doPage=function(t){var n=t.data,r=t.transition,e=t.page,i=t.wrapper;try{var o=function(t){if(u)return t;f.S=!1},u=!1,f=this,c=r||{},a=!0===c.sync||!1;f.S=!0;var h=s((function(){function t(){return Promise.resolve(f.j(\"before\",n,c)).then((function(){var t=!1;function r(r){return t?r:Promise.resolve(f.remove(n)).then((function(){return Promise.resolve(f.j(\"after\",n,c)).then((function(){}))}))}var o=function(){if(a)return s((function(){return Promise.resolve(f.add(n,i)).then((function(){return Promise.resolve(f.j(\"beforeLeave\",n,c)).then((function(){return Promise.resolve(f.j(\"beforeEnter\",n,c)).then((function(){return Promise.resolve(Promise.all([f.leave(n,c),f.enter(n,c)])).then((function(){return Promise.resolve(f.j(\"afterLeave\",n,c)).then((function(){return Promise.resolve(f.j(\"afterEnter\",n,c)).then((function(){}))}))}))}))}))}))}),(function(t){if(f.M(t))throw new it(t,\"Transition error [sync]\")}));var r=function(r){return t?r:s((function(){var t=function(){if(!1!==o)return Promise.resolve(f.add(n,i)).then((function(){return Promise.resolve(f.j(\"beforeEnter\",n,c)).then((function(){return Promise.resolve(f.enter(n,c,o)).then((function(){return Promise.resolve(f.j(\"afterEnter\",n,c)).then((function(){}))}))}))}))}();if(t&&t.then)return t.then((function(){}))}),(function(t){if(f.M(t))throw new it(t,\"Transition error [before/after/enter]\")}))},o=!1,u=s((function(){return Promise.resolve(f.j(\"beforeLeave\",n,c)).then((function(){return Promise.resolve(Promise.all([f.leave(n,c),L(e,n)]).then((function(t){return t[0]}))).then((function(t){return o=t,Promise.resolve(f.j(\"afterLeave\",n,c)).then((function(){}))}))}))}),(function(t){if(f.M(t))throw new it(t,\"Transition error [before/after/leave]\")}));return u&&u.then?u.then(r):r(u)}();return o&&o.then?o.then(r):r(o)}))}var r=function(){if(a)return Promise.resolve(L(e,n)).then((function(){}))}();return r&&r.then?r.then(t):t()}),(function(t){if(f.S=!1,t.name&&\"BarbaError\"===t.name)throw f.logger.debug(t.label),f.logger.error(t.error),t;throw f.logger.debug(\"Transition error [page]\"),f.logger.error(t),t}));return Promise.resolve(h&&h.then?h.then(o):o(h))}catch(t){return Promise.reject(t)}},r.once=function(t,n){try{return Promise.resolve(X.do(\"once\",t,n)).then((function(){return n.once?N(n.once,n)(t):Promise.resolve()}))}catch(t){return Promise.reject(t)}},r.leave=function(t,n){try{return Promise.resolve(X.do(\"leave\",t,n)).then((function(){return n.leave?N(n.leave,n)(t):Promise.resolve()}))}catch(t){return Promise.reject(t)}},r.enter=function(t,n,r){try{return Promise.resolve(X.do(\"enter\",t,n)).then((function(){return n.enter?N(n.enter,n)(t,r):Promise.resolve()}))}catch(t){return Promise.reject(t)}},r.add=function(t,n){try{return j.addContainer(t.next.container,n),X.do(\"nextAdded\",t),Promise.resolve()}catch(t){return Promise.reject(t)}},r.remove=function(t){try{return j.removeContainer(t.current.container),X.do(\"currentRemoved\",t),Promise.resolve()}catch(t){return Promise.reject(t)}},r.M=function(t){return t.message?!/Timeout error|Fetch error/.test(t.message):!t.status},r.j=function(t,n,r){try{return Promise.resolve(X.do(t,n,r)).then((function(){return r[t]?N(r[t],r)(n):Promise.resolve()}))}catch(t){return Promise.reject(t)}},n(t,[{key:\"isRunning\",get:function(){return this.S},set:function(t){this.S=t}},{key:\"hasOnce\",get:function(){return this.store.once.length>0}},{key:\"hasSelf\",get:function(){return this.store.all.some((function(t){return\"self\"===t.name}))}},{key:\"shouldWait\",get:function(){return this.store.all.some((function(t){return t.to&&!t.to.route||t.sync}))}}]),t}(),ft=function(){function t(t){var n=this;this.names=[\"beforeLeave\",\"afterLeave\",\"beforeEnter\",\"afterEnter\"],this.byNamespace=new Map,0!==t.length&&(t.forEach((function(t){n.byNamespace.set(t.namespace,t)})),this.names.forEach((function(t){X[t](n.L(t))})))}return t.prototype.L=function(t){var n=this;return function(r){var e=t.match(/enter/i)?r.next:r.current,i=n.byNamespace.get(e.namespace);return i&&i[t]?N(i[t],i)(r):Promise.resolve()}},t}();Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var n=this;do{if(n.matches(t))return n;n=n.parentElement||n.parentNode}while(null!==n&&1===n.nodeType);return null});var st={container:null,html:\"\",namespace:\"\",url:{hash:\"\",href:\"\",path:\"\",port:null,query:{}}};return new(function(){function t(){this.version=a,this.schemaPage=st,this.Logger=l,this.logger=new l(\"@barba/core\"),this.plugins=[],this.hooks=X,this.dom=j,this.helpers=_,this.history=M,this.request=I,this.url=H}var e=t.prototype;return e.use=function(t,n){var r=this.plugins;r.indexOf(t)>-1?this.logger.warn(\"Plugin [\"+t.name+\"] already installed.\"):\"function\"==typeof t.install?(t.install(this,n),r.push(t)):this.logger.warn(\"Plugin [\"+t.name+'] has no \"install\" method.')},e.init=function(t){var n=void 0===t?{}:t,e=n.transitions,i=void 0===e?[]:e,o=n.views,u=void 0===o?[]:o,f=n.schema,s=void 0===f?S:f,c=n.requestError,a=n.timeout,h=void 0===a?2e3:a,v=n.cacheIgnore,d=void 0!==v&&v,m=n.prefetchIgnore,p=void 0!==m&&m,w=n.preventRunning,b=void 0!==w&&w,y=n.prevent,P=void 0===y?null:y,g=n.debug,E=n.logLevel;if(l.setLevel(!0===(void 0!==g&&g)?\"debug\":void 0===E?\"off\":E),this.logger.info(this.version),Object.keys(s).forEach((function(t){S[t]&&(S[t]=s[t])})),this.$=c,this.timeout=h,this.cacheIgnore=d,this.prefetchIgnore=p,this.preventRunning=b,this._=this.dom.getWrapper(),!this._)throw new Error(\"[@barba/core] No Barba wrapper found\");this._.setAttribute(\"aria-live\",\"polite\"),this.q();var x=this.data.current;if(!x.container)throw new Error(\"[@barba/core] No Barba container found\");if(this.cache=new G(d),this.prevent=new et(p),this.transitions=new ut(i),this.views=new ft(u),null!==P){if(\"function\"!=typeof P)throw new Error(\"[@barba/core] Prevent should be a function\");this.prevent.add(\"preventCustom\",P)}this.history.init(x.url.href,x.namespace),this.B=this.B.bind(this),this.U=this.U.bind(this),this.D=this.D.bind(this),this.F(),this.plugins.forEach((function(t){return t.init()}));var k=this.data;k.trigger=\"barba\",k.next=k.current,k.current=r({},this.schemaPage),this.hooks.do(\"ready\",k),this.once(k),this.q()},e.destroy=function(){this.q(),this.H(),this.history.clear(),this.hooks.clear(),this.plugins=[]},e.force=function(t){window.location.assign(t)},e.go=function(t,n,r){var e;if(void 0===n&&(n=\"barba\"),this.transitions.isRunning)this.force(t);else if(!(e=\"popstate\"===n?this.history.current&&this.url.getPath(this.history.current.url)===this.url.getPath(t):this.prevent.run(\"sameUrl\",null,null,t))||this.transitions.hasSelf)return n=this.history.change(t,n,r),r&&(r.stopPropagation(),r.preventDefault()),this.page(t,n,e)},e.once=function(t){try{var n=this;return Promise.resolve(n.hooks.do(\"beforeEnter\",t)).then((function(){function r(){return Promise.resolve(n.hooks.do(\"afterEnter\",t)).then((function(){}))}var e=function(){if(n.transitions.hasOnce){var r=n.transitions.get(t,{once:!0});return Promise.resolve(n.transitions.doOnce({transition:r,data:t})).then((function(){}))}}();return e&&e.then?e.then(r):r()}))}catch(t){return Promise.reject(t)}},e.page=function(t,n,e){try{var i=function(){var t=o.data;return Promise.resolve(o.hooks.do(\"page\",t)).then((function(){var n=s((function(){var n=o.transitions.get(t,{once:!1,self:e});return Promise.resolve(o.transitions.doPage({data:t,page:u,transition:n,wrapper:o._})).then((function(){o.q()}))}),(function(){0===l.getLevel()&&o.force(t.current.url.href)}));if(n&&n.then)return n.then((function(){}))}))},o=this;o.data.next.url=r({href:t},o.url.parse(t)),o.data.trigger=n;var u=o.cache.has(t)?o.cache.update(t,{action:\"click\"}).request:o.cache.set(t,o.request(t,o.timeout,o.onRequestError.bind(o,n)),\"click\").request,f=function(){if(o.transitions.shouldWait)return Promise.resolve(L(u,o.data)).then((function(){}))}();return Promise.resolve(f&&f.then?f.then(i):i())}catch(t){return Promise.reject(t)}},e.onRequestError=function(t){this.transitions.isRunning=!1;for(var n=arguments.length,r=new Array(n>1?n-1:0),e=1;e<n;e++)r[e-1]=arguments[e];var i=r[0],o=r[1],u=this.cache.getAction(i);return this.cache.delete(i),!(this.$&&!1===this.$(t,u,i,o)||(\"click\"===u&&this.force(i),1))},e.prefetch=function(t){var n=this;this.cache.has(t)||this.cache.set(t,this.request(t,this.timeout,this.onRequestError.bind(this,\"barba\")).catch((function(t){n.logger.error(t)})),\"prefetch\")},e.F=function(){!0!==this.prefetchIgnore&&(document.addEventListener(\"mouseover\",this.B),document.addEventListener(\"touchstart\",this.B)),document.addEventListener(\"click\",this.U),window.addEventListener(\"popstate\",this.D)},e.H=function(){!0!==this.prefetchIgnore&&(document.removeEventListener(\"mouseover\",this.B),document.removeEventListener(\"touchstart\",this.B)),document.removeEventListener(\"click\",this.U),window.removeEventListener(\"popstate\",this.D)},e.B=function(t){var n=this,r=this.I(t);if(r){var e=this.dom.getHref(r);this.prevent.checkHref(e)||this.cache.has(e)||this.cache.set(e,this.request(e,this.timeout,this.onRequestError.bind(this,r)).catch((function(t){n.logger.error(t)})),\"enter\")}},e.U=function(t){var n=this.I(t);if(n)return this.transitions.isRunning&&this.preventRunning?(t.preventDefault(),void t.stopPropagation()):void this.go(this.dom.getHref(n),n,t)},e.D=function(t){this.go(this.url.getHref(),\"popstate\",t)},e.I=function(t){for(var n=t.target;n&&!this.dom.getHref(n);)n=n.parentNode;if(n&&!this.prevent.checkLink(n,t,this.dom.getHref(n)))return n},e.q=function(){var t=this.url.getHref(),n={container:this.dom.getContainer(),html:this.dom.getHtml(),namespace:this.dom.getNamespace(),url:r({href:t},this.url.parse(t))};this.C={current:n,next:r({},this.schemaPage),trigger:void 0},this.hooks.do(\"reset\",this.data)},n(t,[{key:\"data\",get:function(){return this.C}},{key:\"wrapper\",get:function(){return this._}}]),t}())}));\n//# sourceMappingURL=barba.umd.js.map\n","// A type of promise-like that resolves synchronously and supports only one observer\nexport const _Pact = /*#__PURE__*/(function() {\n\tfunction _Pact() {}\n\t_Pact.prototype.then = function(onFulfilled, onRejected) {\n\t\tconst result = new _Pact();\n\t\tconst state = this.s;\n\t\tif (state) {\n\t\t\tconst callback = state & 1 ? onFulfilled : onRejected;\n\t\t\tif (callback) {\n\t\t\t\ttry {\n\t\t\t\t\t_settle(result, 1, callback(this.v));\n\t\t\t\t} catch (e) {\n\t\t\t\t\t_settle(result, 2, e);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t\tthis.o = function(_this) {\n\t\t\ttry {\n\t\t\t\tconst value = _this.v;\n\t\t\t\tif (_this.s & 1) {\n\t\t\t\t\t_settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n\t\t\t\t} else if (onRejected) {\n\t\t\t\t\t_settle(result, 1, onRejected(value));\n\t\t\t\t} else {\n\t\t\t\t\t_settle(result, 2, value);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(result, 2, e);\n\t\t\t}\n\t\t};\n\t\treturn result;\n\t}\n\treturn _Pact;\n})();\n\n// Settles a pact synchronously\nexport function _settle(pact, state, value) {\n\tif (!pact.s) {\n\t\tif (value instanceof _Pact) {\n\t\t\tif (value.s) {\n\t\t\t\tif (state & 1) {\n\t\t\t\t\tstate = value.s;\n\t\t\t\t}\n\t\t\t\tvalue = value.v;\n\t\t\t} else {\n\t\t\t\tvalue.o = _settle.bind(null, pact, state);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (value && value.then) {\n\t\t\tvalue.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n\t\t\treturn;\n\t\t}\n\t\tpact.s = state;\n\t\tpact.v = value;\n\t\tconst observer = pact.o;\n\t\tif (observer) {\n\t\t\tobserver(pact);\n\t\t}\n\t}\n}\n\nexport function _isSettledPact(thenable) {\n\treturn thenable instanceof _Pact && thenable.s & 1;\n}\n\n// Converts argument to a function that always returns a Promise\nexport function _async(f) {\n\treturn function() {\n\t\tfor (var args = [], i = 0; i < arguments.length; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\t\ttry {\n\t\t\treturn Promise.resolve(f.apply(this, args));\n\t\t} catch(e) {\n\t\t\treturn Promise.reject(e);\n\t\t}\n\t}\n}\n\n// Awaits on a value that may or may not be a Promise (equivalent to the await keyword in ES2015, with continuations passed explicitly)\nexport function _await(value, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(value) : value;\n\t}\n\tif (!value || !value.then) {\n\t\tvalue = Promise.resolve(value);\n\t}\n\treturn then ? value.then(then) : value;\n}\n\n// Awaits on a value that may or may not be a Promise, then ignores it\nexport function _awaitIgnored(value, direct) {\n\tif (!direct) {\n\t\treturn value && value.then ? value.then(_empty) : Promise.resolve();\n\t}\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continue(value, then) {\n\treturn value && value.then ? value.then(then) : then(value);\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continueIgnored(value) {\n\tif (value && value.then) {\n\t\treturn value.then(_empty);\n\t}\n}\n\n// Asynchronously iterate through an object that has a length property, passing the index as the first argument to the callback (even as the length property changes)\nexport function _forTo(array, body, check) {\n\tvar i = -1, pact, reject;\n\tfunction _cycle(result) {\n\t\ttry {\n\t\t\twhile (++i < array.length && (!check || !check())) {\n\t\t\t\tresult = body(i);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pact) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t} else {\n\t\t\t\tpact = result;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t}\n\t}\n\t_cycle();\n\treturn pact;\n}\n\n// Asynchronously iterate through an object's properties (including properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forIn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tkeys.push(key);\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\n// Asynchronously iterate through an object's own properties (excluding properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forOwn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tif (Object.prototype.hasOwnProperty.call(target, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\nexport const _iteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\"))) : \"@@iterator\";\n\n// Asynchronously iterate through an object's values\n// Uses for...of if the runtime supports it, otherwise iterates until length on a copy\nexport function _forOf(target, body, check) {\n\tif (typeof target[_iteratorSymbol] === \"function\") {\n\t\tvar iterator = target[_iteratorSymbol](), step, pact, reject;\n\t\tfunction _cycle(result) {\n\t\t\ttry {\n\t\t\t\twhile (!(step = iterator.next()).done && (!check || !check())) {\n\t\t\t\t\tresult = body(step.value);\n\t\t\t\t\tif (result && result.then) {\n\t\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pact) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t} else {\n\t\t\t\t\tpact = result;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t\t}\n\t\t}\n\t\t_cycle();\n\t\tif (iterator.return) {\n\t\t\tvar _fixup = function(value) {\n\t\t\t\ttry {\n\t\t\t\t\tif (!step.done) {\n\t\t\t\t\t\titerator.return();\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tif (pact && pact.then) {\n\t\t\t\treturn pact.then(_fixup, function(e) {\n\t\t\t\t\tthrow _fixup(e);\n\t\t\t\t});\n\t\t\t}\n\t\t\t_fixup();\n\t\t}\n\t\treturn pact;\n\t}\n\t// No support for Symbol.iterator\n\tif (!(\"length\" in target)) {\n\t\tthrow new TypeError(\"Object is not iterable\");\n\t}\n\t// Handle live collections properly\n\tvar values = [];\n\tfor (var i = 0; i < target.length; i++) {\n\t\tvalues.push(target[i]);\n\t}\n\treturn _forTo(values, function(i) { return body(values[i]); }, check);\n}\n\nexport const _asyncIteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\"))) : \"@@asyncIterator\";\n\n// Asynchronously iterate on a value using it's async iterator if present, or its synchronous iterator if missing\nexport function _forAwaitOf(target, body, check) {\n\tif (typeof target[_asyncIteratorSymbol] === \"function\") {\n\t\tvar pact = new _Pact();\n\t\tvar iterator = target[_asyncIteratorSymbol]();\n\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\treturn pact;\n\t\tfunction _resumeAfterBody(result) {\n\t\t\tif (check && check()) {\n\t\t\t\treturn _settle(pact, 1, iterator.return ? iterator.return().then(function() { return result; }) : result);\n\t\t\t}\n\t\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\t}\n\t\tfunction _resumeAfterNext(step) {\n\t\t\tif (step.done) {\n\t\t\t\t_settle(pact, 1);\n\t\t\t} else {\n\t\t\t\tPromise.resolve(body(step.value)).then(_resumeAfterBody).then(void 0, _reject);\n\t\t\t}\n\t\t}\n\t\tfunction _reject(error) {\n\t\t\t_settle(pact, 2, iterator.return ? iterator.return().then(function() { return error; }) : error);\n\t\t}\n\t}\n\treturn Promise.resolve(_forOf(target, function(value) { return Promise.resolve(value).then(body); }, check));\n}\n\n// Asynchronously implement a generic for loop\nexport function _for(test, update, body) {\n\tvar stage;\n\tfor (;;) {\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t\tif (shouldContinue.then) {\n\t\t\tstage = 0;\n\t\t\tbreak;\n\t\t}\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.s;\n\t\t\t} else {\n\t\t\t\tstage = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (update) {\n\t\t\tvar updateValue = update();\n\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\tstage = 2;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tvar pact = new _Pact();\n\tvar reject = _settle.bind(null, pact, 2);\n\t(stage === 0 ? shouldContinue.then(_resumeAfterTest) : stage === 1 ? result.then(_resumeAfterBody) : updateValue.then(_resumeAfterUpdate)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tdo {\n\t\t\tif (update) {\n\t\t\t\tupdateValue = update();\n\t\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\t\tupdateValue.then(_resumeAfterUpdate).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tshouldContinue = test();\n\t\t\tif (!shouldContinue || (_isSettledPact(shouldContinue) && !shouldContinue.v)) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t}\n\t\t} while (!result || !result.then);\n\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterBody(result);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n\tfunction _resumeAfterUpdate() {\n\t\tif (shouldContinue = test()) {\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterTest(shouldContinue);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a do ... while loop\nexport function _do(body, test) {\n\tvar awaitBody;\n\tdo {\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t} else {\n\t\t\t\tawaitBody = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t} while (!shouldContinue.then);\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : shouldContinue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tfor (;;) {\n\t\t\tshouldContinue = test();\n\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t}\n\t\t\tif (!shouldContinue) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\tresult = result.v;\n\t\t\t\t} else {\n\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tdo {\n\t\t\t\tresult = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tshouldContinue = test();\n\t\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t\t}\n\t\t\t\tif (!shouldContinue) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} while (!shouldContinue.then);\n\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a switch statement\nexport function _switch(discriminant, cases) {\n\tvar dispatchIndex = -1;\n\tvar awaitBody;\n\touter: {\n\t\tfor (var i = 0; i < cases.length; i++) {\n\t\t\tvar test = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvar testValue = test();\n\t\t\t\tif (testValue && testValue.then) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tif (testValue === discriminant) {\n\t\t\t\t\tdispatchIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Found the default case, set it as the pending dispatch case\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tif (dispatchIndex !== -1) {\n\t\t\tdo {\n\t\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\t\twhile (!body) {\n\t\t\t\t\tdispatchIndex++;\n\t\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t\t}\n\t\t\t\tvar result = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tawaitBody = true;\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\t\tdispatchIndex++;\n\t\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t\treturn result;\n\t\t}\n\t}\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : testValue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterTest(value) {\n\t\tfor (;;) {\n\t\t\tif (value === discriminant) {\n\t\t\t\tdispatchIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (++i === cases.length) {\n\t\t\t\tif (dispatchIndex !== -1) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttest = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvalue = test();\n\t\t\t\tif (value && value.then) {\n\t\t\t\t\tvalue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tdo {\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tvar result = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tdispatchIndex++;\n\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterBody(result) {\n\t\tfor (;;) {\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tif (!fallthroughCheck || fallthroughCheck()) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdispatchIndex++;\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _call(body, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(body()) : body();\n\t}\n\ttry {\n\t\tvar result = Promise.resolve(body());\n\t\treturn then ? result.then(then) : result;\n\t} catch (e) {\n\t\treturn Promise.reject(e);\n\t}\n}\n\n// Asynchronously call a function and swallow the result\nexport function _callIgnored(body, direct) {\n\treturn _call(body, _empty, direct);\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _invoke(body, then) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(then);\n\t}\n\treturn then(result);\n}\n\n// Asynchronously call a function and swallow the result\nexport function _invokeIgnored(body) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(_empty);\n\t}\n}\n\n// Asynchronously call a function and send errors to recovery continuation\nexport function _catch(body, recover) {\n\ttry {\n\t\tvar result = body();\n\t} catch(e) {\n\t\treturn recover(e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(void 0, recover);\n\t}\n\treturn result;\n}\n\n// Asynchronously await a promise and pass the result to a finally continuation\nexport function _finallyRethrows(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer(true, e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n\t}\n\treturn finalizer(false, result);\n}\n\n// Asynchronously await a promise and invoke a finally continuation that always overrides the result\nexport function _finally(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer();\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer, finalizer);\n\t}\n\treturn finalizer();\n}\n\n// Rethrow or return a value from a finally continuation\nexport function _rethrow(thrown, value) {\n\tif (thrown)\n\t\tthrow value;\n\treturn value;\n}\n\n// Empty function to implement break and other control flow that ignores asynchronous results\nexport function _empty() {\n}\n\n// Sentinel value for early returns in generators \nexport const _earlyReturn = /*#__PURE__*/ {};\n\n// Asynchronously call a function and send errors to recovery continuation, skipping early returns\nexport function _catchInGenerator(body, recover) {\n\treturn _catch(body, function(e) {\n\t\tif (e === _earlyReturn) {\n\t\t\tthrow e;\n\t\t}\n\t\treturn recover(e);\n\t});\n}\n\n// Asynchronous generator class; accepts the entrypoint of the generator, to which it passes itself when the generator should start\nexport const _AsyncGenerator = /*#__PURE__*/(function() {\n\tfunction _AsyncGenerator(entry) {\n\t\tthis._entry = entry;\n\t\tthis._pact = null;\n\t\tthis._resolve = null;\n\t\tthis._return = null;\n\t\tthis._promise = null;\n\t}\n\n\tfunction _wrapReturnedValue(value) {\n\t\treturn { value: value, done: true };\n\t}\n\tfunction _wrapYieldedValue(value) {\n\t\treturn { value: value, done: false };\n\t}\n\n\t_AsyncGenerator.prototype._yield = function(value) {\n\t\t// Yield the value to the pending next call\n\t\tthis._resolve(value && value.then ? value.then(_wrapYieldedValue) : _wrapYieldedValue(value));\n\t\t// Return a pact for an upcoming next/return/throw call\n\t\treturn this._pact = new _Pact();\n\t};\n\t_AsyncGenerator.prototype.next = function(value) {\n\t\t// Advance the generator, starting it if it has yet to be started\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tconst _entry = _this._entry;\n\t\t\t\tif (_entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the next call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Start the generator\n\t\t\t\t_this._entry = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\tfunction returnValue(value) {\n\t\t\t\t\t_this._resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t_this._resolve = null;\n\t\t\t\t}\n\t\t\t\tvar result = _entry(_this);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tresult.then(returnValue, function(error) {\n\t\t\t\t\t\tif (error === _earlyReturn) {\n\t\t\t\t\t\t\treturnValue(_this._return);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst pact = new _Pact();\n\t\t\t\t\t\t\t_this._resolve(pact);\n\t\t\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t\t\t_this._resolve = null;\n\t\t\t\t\t\t\t_resolve(pact, 2, error);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturnValue(result);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Generator is started and a yield expression is pending, settle it\n\t\t\t\t_this._pact = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\t_settle(_pact, 1, value);\n\t\t\t}\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.return = function(value) {\n\t\t// Early return from the generator if started, otherwise abandons the generator\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the return call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return the specified value\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t}\n\t\t\t// Settle the yield expression with a rejected \"early return\" value\n\t\t\t_this._return = value;\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, _earlyReturn);\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.throw = function(error) {\n\t\t// Inject an exception into the pending yield expression\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve, reject) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the throw call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return a rejected Promise containing the error\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn reject(error);\n\t\t\t}\n\t\t\t// Settle the yield expression with the value as a rejection\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, error);\n\t\t});\n\t};\n\n\t_AsyncGenerator.prototype[_asyncIteratorSymbol] = function() {\n\t\treturn this;\n\t};\n\t\n\treturn _AsyncGenerator;\n})();\n","/**\n * @barba/core/modules/Logger\n * <br><br>\n * ## Logger.\n *\n * - Display informations via the console\n *\n * @module core/modules/Logger\n * @preferred\n */\n\n/***/\n\n/**\n * Log levels, all lower level messages are printed\n *\n * 0. mute\n * 1. error = `console.error()`\n * 2. warning= `console.warn()`\n * 3. info = `console.info()`\n * 4. debug = `console.log()`\n */\nexport enum LogLevels {\n  off = 0,\n  error = 1,\n  warning = 2,\n  info = 3,\n  debug = 4,\n}\n\n/**\n * Global log level\n */\nlet _level: number = LogLevels.off;\n\nexport class Logger {\n  /**\n   * Get global log level.\n   */\n  public static getLevel(): number {\n    return _level;\n  }\n\n  /**\n   * Set global log level.\n   */\n  public static setLevel(name: keyof typeof LogLevels): number {\n    _level = LogLevels[name];\n\n    return _level;\n  }\n\n  /**\n   * Log \"prefix\".\n   */\n  private _source: string;\n\n  /**\n   * Creates an instance of Logger.\n   */\n  constructor(source: string) {\n    this._source = source;\n  }\n\n  /**\n   * Permanent, unremovable log.\n   */\n  // public print(...objects: any[]): void {\n  //   this._log(console.info, LogLevels.off, objects);\n  // }\n\n  /**\n   * Error log.\n   */\n  public error(...objects: any[]): void {\n    this._log(console.error, LogLevels.error, objects);\n  }\n\n  /**\n   * Warn log.\n   */\n  public warn(...objects: any[]): void {\n    this._log(console.warn, LogLevels.warning, objects);\n  }\n\n  /**\n   * Info log.\n   */\n  public info(...objects: any[]): void {\n    this._log(console.info, LogLevels.info, objects);\n  }\n\n  /**\n   * Debug log.\n   */\n  public debug(...objects: any[]): void {\n    this._log(console.log, LogLevels.debug, objects);\n  }\n\n  /**\n   * Internal logger.\n   */\n  private _log(fn: () => void, level: number, objects: any[]): void {\n    if (level <= Logger.getLevel()) {\n      fn.apply(console, ([`[${this._source}] `].concat(objects) as unknown) as [\n\n      ]);\n    }\n  }\n}\n","/**\n * @module typings/core\n */\nimport { ITransitionData, ITransitionPage, IViewData } from './index';\n\nexport type HooksBarba =\n  | 'ready'\n  | 'page'\n  | 'reset'\n  | 'currentAdded'\n  | 'currentRemoved'\n  | 'nextAdded'\n  | 'nextRemoved';\n\nexport type HooksOnce = 'beforeOnce' | 'once' | 'afterOnce';\n\nexport type HooksPage =\n  | 'before'\n  | 'beforeLeave'\n  | 'leave'\n  | 'afterLeave'\n  | 'beforeEnter'\n  | 'enter'\n  | 'afterEnter'\n  | 'after';\n\nexport type HooksBefore = 'beforeOnce' | 'beforeLeave' | 'beforeEnter';\nexport type HooksAfter = 'afterOnce' | 'afterLeave' | 'afterEnter';\n\nexport type HooksTransition = HooksOnce | HooksPage;\nexport type HooksView = HooksBefore | HooksAfter;\nexport type HooksAll = HooksBarba | HooksTransition;\n\n// Allow optional \"dynamically created\" hooks\nexport type HooksTransitionMap = { [key in HooksTransition]?: any };\n\nexport type HookFunction = (\n  data?: ITransitionData | IViewData,\n  t?: ITransitionPage\n) => Promise<void> | void;\n\nexport class HookMethods {\n  public before: (fn: HookFunction, ctx?: any) => void;\n  public beforeLeave: (fn: HookFunction, ctx?: any) => void;\n  public leave: (fn: HookFunction, ctx?: any) => void;\n  public afterLeave: (fn: HookFunction, ctx?: any) => void;\n  public beforeEnter: (fn: HookFunction, ctx?: any) => void;\n  public enter: (fn: HookFunction, ctx?: any) => void;\n  public afterEnter: (fn: HookFunction, ctx?: any) => void;\n  public after: (fn: HookFunction, ctx?: any) => void;\n}\n","/**\n * Expose `pathToRegexp`.\n */\nmodule.exports = pathToRegexp\nmodule.exports.match = match\nmodule.exports.regexpToFunction = regexpToFunction\nmodule.exports.parse = parse\nmodule.exports.compile = compile\nmodule.exports.tokensToFunction = tokensToFunction\nmodule.exports.tokensToRegExp = tokensToRegExp\n\n/**\n * Default configs.\n */\nvar DEFAULT_DELIMITER = '/'\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \":test(\\\\d+)?\" => [\"test\", \"\\d+\", undefined, \"?\"]\n  // \"(\\\\d+)\"  => [undefined, undefined, \"\\d+\", undefined]\n  '(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?'\n].join('|'), 'g')\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {string}  str\n * @param  {Object=} options\n * @return {!Array}\n */\nfunction parse (str, options) {\n  var tokens = []\n  var key = 0\n  var index = 0\n  var path = ''\n  var defaultDelimiter = (options && options.delimiter) || DEFAULT_DELIMITER\n  var whitelist = (options && options.whitelist) || undefined\n  var pathEscaped = false\n  var res\n\n  while ((res = PATH_REGEXP.exec(str)) !== null) {\n    var m = res[0]\n    var escaped = res[1]\n    var offset = res.index\n    path += str.slice(index, offset)\n    index = offset + m.length\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1]\n      pathEscaped = true\n      continue\n    }\n\n    var prev = ''\n    var name = res[2]\n    var capture = res[3]\n    var group = res[4]\n    var modifier = res[5]\n\n    if (!pathEscaped && path.length) {\n      var k = path.length - 1\n      var c = path[k]\n      var matches = whitelist ? whitelist.indexOf(c) > -1 : true\n\n      if (matches) {\n        prev = c\n        path = path.slice(0, k)\n      }\n    }\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path)\n      path = ''\n      pathEscaped = false\n    }\n\n    var repeat = modifier === '+' || modifier === '*'\n    var optional = modifier === '?' || modifier === '*'\n    var pattern = capture || group\n    var delimiter = prev || defaultDelimiter\n\n    tokens.push({\n      name: name || key++,\n      prefix: prev,\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      pattern: pattern\n        ? escapeGroup(pattern)\n        : '[^' + escapeString(delimiter === defaultDelimiter ? delimiter : (delimiter + defaultDelimiter)) + ']+?'\n    })\n  }\n\n  // Push any remaining characters.\n  if (path || index < str.length) {\n    tokens.push(path + str.substr(index))\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {string}             str\n * @param  {Object=}            options\n * @return {!function(Object=, Object=)}\n */\nfunction compile (str, options) {\n  return tokensToFunction(parse(str, options), options)\n}\n\n/**\n * Create path match function from `path-to-regexp` spec.\n */\nfunction match (str, options) {\n  var keys = []\n  var re = pathToRegexp(str, keys, options)\n  return regexpToFunction(re, keys)\n}\n\n/**\n * Create a path match function from `path-to-regexp` output.\n */\nfunction regexpToFunction (re, keys) {\n  return function (pathname, options) {\n    var m = re.exec(pathname)\n    if (!m) return false\n\n    var path = m[0]\n    var index = m.index\n    var params = {}\n    var decode = (options && options.decode) || decodeURIComponent\n\n    for (var i = 1; i < m.length; i++) {\n      if (m[i] === undefined) continue\n\n      var key = keys[i - 1]\n\n      if (key.repeat) {\n        params[key.name] = m[i].split(key.delimiter).map(function (value) {\n          return decode(value, key)\n        })\n      } else {\n        params[key.name] = decode(m[i], key)\n      }\n    }\n\n    return { path: path, index: index, params: params }\n  }\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens, options) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length)\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^(?:' + tokens[i].pattern + ')$', flags(options))\n    }\n  }\n\n  return function (data, options) {\n    var path = ''\n    var encode = (options && options.encode) || encodeURIComponent\n    var validate = options ? options.validate !== false : true\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i]\n\n      if (typeof token === 'string') {\n        path += token\n        continue\n      }\n\n      var value = data ? data[token.name] : undefined\n      var segment\n\n      if (Array.isArray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but got array')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) continue\n\n          throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encode(value[j], token)\n\n          if (validate && !matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\"')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment\n        }\n\n        continue\n      }\n\n      if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {\n        segment = encode(String(value), token)\n\n        if (validate && !matches[i].test(segment)) {\n          throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but got \"' + segment + '\"')\n        }\n\n        path += token.prefix + segment\n        continue\n      }\n\n      if (token.optional) continue\n\n      throw new TypeError('Expected \"' + token.name + '\" to be ' + (token.repeat ? 'an array' : 'a string'))\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {string} str\n * @return {string}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {string} group\n * @return {string}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$/()])/g, '\\\\$1')\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {string}\n */\nfunction flags (options) {\n  return options && options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {!RegExp} path\n * @param  {Array=}  keys\n * @return {!RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  if (!keys) return path\n\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g)\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        pattern: null\n      })\n    }\n  }\n\n  return path\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {!Array}  path\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = []\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source)\n  }\n\n  return new RegExp('(?:' + parts.join('|') + ')', flags(options))\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {string}  path\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  return tokensToRegExp(parse(path, options), keys, options)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {!Array}  tokens\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction tokensToRegExp (tokens, keys, options) {\n  options = options || {}\n\n  var strict = options.strict\n  var start = options.start !== false\n  var end = options.end !== false\n  var delimiter = options.delimiter || DEFAULT_DELIMITER\n  var endsWith = [].concat(options.endsWith || []).map(escapeString).concat('$').join('|')\n  var route = start ? '^' : ''\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i]\n\n    if (typeof token === 'string') {\n      route += escapeString(token)\n    } else {\n      var capture = token.repeat\n        ? '(?:' + token.pattern + ')(?:' + escapeString(token.delimiter) + '(?:' + token.pattern + '))*'\n        : token.pattern\n\n      if (keys) keys.push(token)\n\n      if (token.optional) {\n        if (!token.prefix) {\n          route += '(' + capture + ')?'\n        } else {\n          route += '(?:' + escapeString(token.prefix) + '(' + capture + '))?'\n        }\n      } else {\n        route += escapeString(token.prefix) + '(' + capture + ')'\n      }\n    }\n  }\n\n  if (end) {\n    if (!strict) route += '(?:' + escapeString(delimiter) + ')?'\n\n    route += endsWith === '$' ? '$' : '(?=' + endsWith + ')'\n  } else {\n    var endToken = tokens[tokens.length - 1]\n    var isEndDelimited = typeof endToken === 'string'\n      ? endToken[endToken.length - 1] === delimiter\n      : endToken === undefined\n\n    if (!strict) route += '(?:' + escapeString(delimiter) + '(?=' + endsWith + '))?'\n    if (!isEndDelimited) route += '(?=' + escapeString(delimiter) + '|' + endsWith + ')'\n  }\n\n  return new RegExp(route, flags(options))\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(string|RegExp|Array)} path\n * @param  {Array=}                keys\n * @param  {Object=}               options\n * @return {!RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, keys)\n  }\n\n  if (Array.isArray(path)) {\n    return arrayToRegexp(/** @type {!Array} */ (path), keys, options)\n  }\n\n  return stringToRegexp(/** @type {string} */ (path), keys, options)\n}\n","/**\n * @barba/core/schemas\n * <br><br>\n * ## Schemas description.\n *\n * @module core/schemas\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport { ISchemaAttribute } from '../defs';\n\n/**\n * See [[ISchemaAttribute]]\n */\nexport const schemaAttribute: ISchemaAttribute = {\n  container: 'container',\n  history: 'history',\n  namespace: 'namespace',\n  prefix: 'data-barba',\n  prevent: 'prevent',\n  wrapper: 'wrapper',\n};\n","/**\n * @barba/core/utils/dom\n * <br><br>\n * ## Dom utils\n *\n * - Access DOM contents\n * - DOM vs string conversions\n *\n * @module core/utils/dom\n * @preferred\n */\n\n/***/\n\nimport path from 'path';\n\n// Definitions\nimport { ISchemaAttribute, Link, Scope, Wrapper } from '../defs';\n// Schemas\nimport { schemaAttribute } from '../schemas/attribute';\n\nexport class Dom {\n  private _attr: ISchemaAttribute = schemaAttribute;\n  private _parser: DOMParser = new DOMParser();\n\n  /**\n   * Convert HTMLDocument to string.\n   */\n  public toString(el: HTMLElement): string {\n    return el.outerHTML;\n  }\n\n  /**\n   * Parse HTML string to HTMLDocument.\n   */\n  // see https://github.com/barbajs/barba/issues/362\n  // Seems that using DOMParser.parseFromString causes this issue.\n  public toDocument(htmlString: string): HTMLDocument {\n    return this._parser.parseFromString(htmlString, 'text/html');\n  }\n\n  /**\n   * Parse HTML string to DIVElement.\n   *\n   * DOMParser.parseFromString fails with img[srcset] on iOS.\n   * see https://github.com/barbajs/barba/issues/362\n   */\n  public toElement(htmlString: string): HTMLDivElement {\n    const div = document.createElement('div');\n\n    div.innerHTML = htmlString;\n    return div;\n  }\n\n  /**\n   * Get HTML content.\n   */\n  public getHtml(doc: HTMLDocument = document): string {\n    return this.toString(doc.documentElement);\n  }\n\n  /**\n   * Get full document content.\n   */\n  // getDocument(el = document.documentElement) {\n  //   return this.toStr(el);\n  // },\n\n  /**\n   * Get `[data-barba=\"wrapper\"]`.\n   */\n  public getWrapper(scope: Scope = document): Wrapper {\n    return scope.querySelector(\n      `[${this._attr.prefix}=\"${this._attr.wrapper}\"]`\n    );\n  }\n\n  /**\n   * Get `[data-barba=\"container\"]`.\n   */\n  public getContainer(scope: Scope = document): HTMLElement | null {\n    return scope.querySelector(\n      `[${this._attr.prefix}=\"${this._attr.container}\"]`\n    );\n  }\n\n  /**\n   * Remove container and store next sibling (if applicable).\n   */\n  public removeContainer(container: HTMLElement) {\n    if (document.body.contains(container)) {\n      container.parentNode.removeChild(container);\n    }\n  }\n\n  /**\n   * Add container before next sibling or at the end of the wrapper.\n   */\n  public addContainer(container: HTMLElement, wrapper: HTMLElement) {\n    const existingContainer = this.getContainer();\n\n    if (existingContainer) {\n      this._insertAfter(container, existingContainer);\n    } else {\n      wrapper.appendChild(container);\n    }\n  }\n\n  /**\n   * Get `[data-barba-namespace]`.\n   */\n  public getNamespace(scope: Scope = document): string | null {\n    const ns = scope.querySelector(\n      `[${this._attr.prefix}-${this._attr.namespace}]`\n    );\n\n    return ns\n      ? ns.getAttribute(`${this._attr.prefix}-${this._attr.namespace}`)\n      : null;\n  }\n\n  /**\n   * Get URL from `href` value.\n   */\n  public getHref(el: Link): string | null {\n    // HTML tagName is UPPERCASE, xhtml tagName keeps existing case.\n    if (el.tagName && el.tagName.toLowerCase() === 'a') {\n      // HTMLAnchorElement, full URL available\n      if (typeof el.href === 'string') {\n        return el.href;\n      }\n\n      // Probably a SVGAElement\n      const href = el.getAttribute('href') || el.getAttribute('xlink:href');\n\n      /* istanbul ignore else */\n      if (href) {\n        // When link comes from SVG, `href` returns an object, not a string.\n        const attr: string =\n          ((href as unknown) as SVGAnimatedString).baseVal || href;\n\n        return this.resolveUrl(attr);\n      }\n    }\n    return null;\n  }\n\n  // Copyright 2014 Simon Lydell\n  // X11 (MIT) Licensed. (See LICENSE\n  // https://github.com/lydell/resolve-url/blob/master/resolve-url.js\n  /* istanbul ignore next */\n  public resolveUrl(...urls: string[]) {\n    const numUrls = urls.length;\n\n    if (numUrls === 0) {\n      throw new Error('resolveUrl requires at least one argument; got none.');\n    }\n\n    const base = document.createElement('base');\n    base.href = arguments[0];\n\n    if (numUrls === 1) {\n      return base.href;\n    }\n\n    const head = document.getElementsByTagName('head')[0];\n    head.insertBefore(base, head.firstChild);\n\n    const a = document.createElement('a');\n    let resolved;\n\n    for (let index = 1; index < numUrls; index++) {\n      a.href = arguments[index];\n      resolved = a.href;\n      base.href = resolved;\n    }\n\n    head.removeChild(base);\n\n    return resolved;\n  }\n\n  /**\n   * Insert node after another node.\n   */\n  private _insertAfter(newNode: Node, referenceNode: Node) {\n    referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);\n  }\n}\n\nconst dom = new Dom();\n\nexport { dom };\n","import { HistoryAction, LinkEvent, Trigger } from '../defs';\n// Schemas\nimport { schemaAttribute } from '../schemas/attribute';\n\n/**\n * @barba/core/utils/history\n * <br><br>\n * ## History manager.\n *\n * - Keep track of the navigation history\n *\n * @module core/utils/history\n * @preferred\n */\n\n/**\n * State item.\n *\n * @property from\n * @property index\n */\ninterface IHistoryItem {\n  /** origin */\n  from: string;\n  /** index */\n  index: number;\n  /** states */\n  states: IStateItem[];\n}\n\n/***/\ninterface ICoords {\n  x: number;\n  y: number;\n}\n\n/**\n * History item.\n *\n * @property namespace\n * @property scroll\n * @property URL\n */\ninterface IStateItem {\n  /** namespace */\n  ns: string | undefined;\n  /** Scroll position */\n  scroll: ICoords;\n  /** URL */\n  url: string;\n}\n\nexport class History {\n  private _session: string;\n  private _states: IStateItem[] = [];\n  private _pointer = -1;\n\n  /**\n   * Init with first state.\n   */\n  public init(url: string, ns: string): void {\n    this._session = 'barba';\n    const index = 0;\n\n    const state: IStateItem = {\n      ns,\n      scroll: {\n        x: window.scrollX,\n        y: window.scrollY,\n      },\n      url,\n    };\n\n    this._states.push(state);\n    this._pointer = index;\n\n    const item: IHistoryItem = {\n      from: this._session,\n      index,\n      states: [...this._states],\n    };\n\n    window.history && window.history.replaceState(item, '', url);\n  }\n\n  public change(\n    url: string,\n    trigger: Trigger,\n    e?: LinkEvent | PopStateEvent\n  ): Trigger {\n    if (e && (e as PopStateEvent).state) {\n      // If popstate, move to existing state\n      // and get back/forward direction.\n      const { state }: { state: IHistoryItem } = e as PopStateEvent;\n      const { index } = state;\n      const diff = this._pointer - index;\n\n      trigger = this._getDirection(diff);\n\n      // Work with previous states\n      this.replace(state.states);\n      this._pointer = index;\n    } else {\n      // Add new state\n      this.add(url, trigger);\n    }\n\n    return trigger;\n  }\n\n  /**\n   * Add a new state.\n   */\n  public add(url: string, trigger: Trigger): void {\n    // If no state, it will be updated later.\n    const ns = 'tmp';\n    const index = this.size;\n    const action = this._getAction(trigger);\n    const state: IStateItem = {\n      ns,\n      scroll: {\n        x: window.scrollX,\n        y: window.scrollY,\n      },\n      url,\n    };\n\n    this._states.push(state);\n    this._pointer = index;\n\n    const item: IHistoryItem = {\n      from: this._session,\n      index,\n      states: [...this._states],\n    };\n\n    switch (action) {\n      case 'push':\n        window.history && window.history.pushState(item, '', url);\n        break;\n      case 'replace':\n        window.history && window.history.replaceState(item, '', url);\n        break;\n      /* istanbul ignore next */\n      default:\n    }\n  }\n\n  /**\n   * Update state.\n   */\n  public update(data: any, i?: number): void {\n    const index = i || this._pointer;\n    const existing = this.get(index);\n    const state: IStateItem = {\n      ...existing,\n      ...data,\n    };\n\n    this.set(index, state);\n  }\n\n  /**\n   * Remove last state.\n   */\n  public remove(i?: number): void {\n    if (i) {\n      this._states.splice(i, 1);\n    } else {\n      this._states.pop();\n    }\n\n    this._pointer--;\n  }\n\n  /**\n   * Delete all states.\n   */\n  public clear(): void {\n    this._states = [];\n    this._pointer = -1;\n  }\n\n  /**\n   * Replace all states.\n   */\n  public replace(newStates: IStateItem[]): void {\n    this._states = newStates;\n  }\n\n  /**\n   * Get state by index.\n   */\n  public get(index: number) {\n    return this._states[index];\n  }\n\n  /**\n   * Set state by index.\n   */\n  public set(i: number, state: IStateItem) {\n    return (this._states[i] = state);\n  }\n\n  /**\n   * Get the current state.\n   */\n  get current(): IStateItem {\n    return this._states[this._pointer];\n  }\n\n  /**\n   * Get the last state (top of the history stack).\n   */\n  get state(): IStateItem {\n    return this._states[this._states.length - 1];\n  }\n\n  /**\n   * Get the previous state.\n   */\n  get previous(): IStateItem | null {\n    return this._pointer < 1 ? null : this._states[this._pointer - 1];\n  }\n\n  /**\n   * Get the state size.\n   */\n  get size(): number {\n    return this._states.length;\n  }\n\n  /**\n   * Get the history action: push vs replace\n   */\n  private _getAction(trigger: Trigger): HistoryAction {\n    let action: HistoryAction = 'push';\n\n    // Manage `data-barba-history` attribute\n    // to get the right action (push vs replace).\n    const el = trigger as HTMLAnchorElement;\n    const attr = `${schemaAttribute.prefix}-${schemaAttribute.history}`;\n\n    if (el.hasAttribute && el.hasAttribute(attr)) {\n      action = el.getAttribute(attr) as HistoryAction;\n    }\n\n    return action;\n  }\n\n  /**\n   * Get the direction of popstate change\n   */\n  private _getDirection(diff: number): Trigger {\n    // Check if \"session switch\"\n    if (Math.abs(diff) > 1) {\n      // Ex 6-0 > 0 -> forward, 0-6 < 0 -> back\n      return diff > 0 ? 'forward' : 'back';\n    } else {\n      if (diff === 0) {\n        return 'popstate';\n      } else {\n        // Ex 6-5 > 0 -> back, 5-6 < 0 -> forward\n        return diff > 0 ? 'back' : 'forward';\n      }\n    }\n  }\n}\n\nconst history = new History();\n\nexport { history };\n","/**\n * @barba/core/utils/helpers\n * <br><br>\n * ## Helpers\n *\n * - Update next page data\n *\n * @module core/utils/helpers\n * @preferred\n */\n\n/***/\n\n// Third-party\nimport ptr from 'path-to-regexp';\n// Definitions\nimport { ITransitionData } from '../defs';\n// Utils\nimport { dom } from './dom';\nimport { history } from './history';\n\n/**\n * Update `data.next`, the title and the history\n */\nexport const update = async (\n  page: Promise<string | void>,\n  data: ITransitionData\n): Promise<void> => {\n  // If not already updated\n  if (!data.next.html) {\n    const html = await page;\n    const { next } = data;\n\n    if (html) {\n      // see: https://github.com/barbajs/barba/issues/362\n      // const nextDocument = dom.toDocument(html);\n      const nextDocument = dom.toElement(html);\n\n      next.namespace = dom.getNamespace(nextDocument);\n      next.container = dom.getContainer(nextDocument);\n      // see https://github.com/barbajs/barba/issues/362\n      // next.html = dom.getHtml(nextDocument);\n      // next.html = nextDocument.innerHTML;\n      next.html = html;\n\n      // Update history namespace (not available when initially set)\n      history.update({ ns: next.namespace });\n\n      // Update title.\n      const { title } = dom.toDocument(html);\n\n      document.title = title;\n    }\n  }\n};\n\n/**\n * Next tick\n */\nexport const nextTick = () =>\n  new Promise(resolve => {\n    window.requestAnimationFrame(resolve);\n    // DEV: same result?\n    // setTimeout(resolve, 0);\n  });\n\n/**\n * Turn a route string such as `/user/:name` into a regular expression.\n *\n * Used for:\n *\n * - routes to ignore\n * - route transition resolution\n *\n * @see https://www.npmjs.com/package/path-to-regexp\n */\nconst pathToRegexp = ptr;\n\nexport { pathToRegexp };\n","/**\n * @barba/core/utils/url\n * <br><br>\n * ## URL utils.\n *\n * - Collect and structure informations from URLs\n *\n * @module core/utils/url\n */\n\n/***/\n\n// Definitions\nimport { IGenericObject, IUrlBase } from '../defs';\n\n/**\n * Get location href.\n */\nexport const getHref = () => window.location.href;\n\n/**\n * Get location origin.\n */\nexport const getOrigin = () => window.location.origin;\n\n/**\n * Get port based on URL or location.\n */\nexport const getPort = (url: string = window.location.href) => parse(url).port;\n\n/**\n * Get path from URL.\n */\nexport const getPath = (url: string = window.location.href) => parse(url).path;\n\n/**\n * Get query object from URL.\n */\n// export const getQuery = (url: string): IGenericObject => parse(url).query;\n\n/**\n * Get hash from URL.\n */\n// export const getHash = (url: string): string => parse(url).hash;\n\n/**\n * Parse URL for path, query and hash and more.\n */\nexport const parse = (url: string): IUrlBase => {\n  // Port\n  let port;\n  const matches = url.match(/:\\d+/);\n\n  if (matches === null) {\n    if (/^http/.test(url)) {\n      port = 80;\n    }\n\n    if (/^https/.test(url)) {\n      port = 443;\n    }\n  } else {\n    const portString = matches[0].substring(1);\n\n    port = parseInt(portString, 10);\n  }\n\n  // Path\n  let path = url.replace(getOrigin(), '');\n  let hash;\n  let query = {};\n\n  // Hash\n  const hashIndex = path.indexOf('#');\n\n  if (hashIndex >= 0) {\n    hash = path.slice(hashIndex + 1);\n    path = path.slice(0, hashIndex);\n  }\n\n  // Query\n  const queryIndex = path.indexOf('?');\n\n  if (queryIndex >= 0) {\n    query = parseQuery(path.slice(queryIndex + 1));\n    path = path.slice(0, queryIndex);\n  }\n\n  return {\n    hash,\n    path,\n    port,\n    query,\n  };\n};\n\n/**\n * Parse a query string to object.\n */\nexport const parseQuery = (str: string) =>\n  str.split('&').reduce((acc: IGenericObject, el: string) => {\n    const [key, value] = el.split('=');\n\n    acc[key] = value;\n\n    return acc;\n  }, {});\n\n/**\n * Clean URL, remove \"hash\" and/or \"trailing slash\".\n */\nexport const clean = (url: string = window.location.href) =>\n  url.replace(/(\\/#.*|\\/|#.*)$/, '');\n","/**\n * @barba/core/utils/request\n * <br><br>\n * ## Fetch pages for transitions.\n *\n * - Includes timeout\n * - Uses Fetch API\n * - Handles errors\n *\n * @module core/utils/request\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport { RequestError } from '../defs';\n\n/**\n * Init a page request.\n * Fetch the page and returns a promise with the text content.\n */\nfunction request(\n  url: string,\n  ttl: number = 2e3,\n  requestError: RequestError\n): Promise<string> {\n  return new Promise((resolve, reject) => {\n    const xhr = new XMLHttpRequest();\n\n    xhr.onreadystatechange = () => {\n      if (xhr.readyState === XMLHttpRequest.DONE) {\n        if (xhr.status === 200) {\n          resolve(xhr.responseText);\n        } else if (xhr.status) {\n          // HTTP code is not 200, reject with response.\n          const res = {\n            status: xhr.status,\n            statusText: xhr.statusText,\n          };\n          requestError(url, res);\n          reject(res);\n        }\n      }\n    };\n    xhr.ontimeout = () => {\n      const err = new Error(`Timeout error [${ttl}]`);\n      requestError(url, err);\n      reject(err);\n    };\n    xhr.onerror = () => {\n      const err = new Error(`Fetch error`);\n      requestError(url, err);\n      reject(err);\n    };\n\n    xhr.open('GET', url);\n    xhr.timeout = ttl;\n    xhr.setRequestHeader(\n      'Accept',\n      'text/html,application/xhtml+xml,application/xml'\n    );\n    xhr.setRequestHeader('x-barba', 'yes');\n    xhr.send();\n  });\n}\n\nexport { request };\n","module.exports = isPromise;\n\nfunction isPromise(obj) {\n  return !!obj && (typeof obj === 'object' || typeof obj === 'function') && typeof obj.then === 'function';\n}\n","import isPromise from 'is-promise';\n\n// https://github.com/SBoudrias/run-async\n/* istanbul ignore next */\nexport function runAsync(\n  func: (...args: any[]) => void | Promise<any>,\n  ctx: any = {}\n): (...args: any[]) => Promise<any> {\n  return (...args: any[]) => {\n    let async = false;\n\n    const promise = new Promise((resolve, reject) => {\n      // Add async to context\n      ctx.async = () => {\n        async = true;\n\n        return (err: any, value: any) => {\n          if (err) {\n            reject(err);\n          } else {\n            resolve(value);\n          }\n        };\n      };\n\n      const answer = func.apply(ctx, args as []);\n\n      if (!async) {\n        if (isPromise(answer)) {\n          (answer as Promise<any>).then(resolve, reject);\n        } else {\n          resolve(answer);\n        }\n      }\n    });\n\n    return promise;\n  };\n}\n","/**\n * @barba/core/modules/hooks\n * <br><br>\n * ## Hooks manager.\n *\n * - Register and trigger hooks\n *\n * Hooks can be easily registered:\n *\n * ```js\n * hooks.leave(callback, context);\n * ```\n *\n * @module core/modules/hooks\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport { HookFunction, HookMethods, HooksAll } from './defs';\n// Modules\nimport { Logger } from './modules/Logger';\n// Utils\nimport { runAsync } from './utils';\n// Types\ninterface IHookInfos {\n  ctx: any;\n  fn: HookFunction;\n}\n\nexport class Hooks extends HookMethods {\n  /**\n   * Allow the use of `hooks[name](cb, ctx)`.\n   */\n  [key: string]: any;\n  // [key in HooksAll]?: any;\n  public logger: Logger = new Logger('@barba/core');\n  /**\n   * All available hooks.\n   *\n   * See [[HooksAll]]\n   */\n  // TODO: get hooks from defs (DRY)?\n  public all: HooksAll[] = [\n    'ready',\n    'page',\n    'reset',\n    'currentAdded',\n    'currentRemoved',\n    'nextAdded',\n    'nextRemoved',\n    'beforeOnce',\n    'once',\n    'afterOnce',\n    'before',\n    'beforeLeave',\n    'leave',\n    'afterLeave',\n    'beforeEnter',\n    'enter',\n    'afterEnter',\n    'after',\n  ];\n  /**\n   * Registered hooks.\n   *\n   * - Unique hook name\n   * - Associated data set(s) (callback + context)\n   */\n  public registered: Map<HooksAll, Set<IHookInfos>> = new Map();\n\n  constructor() {\n    super();\n    this.init();\n  }\n\n  public init() {\n    this.registered.clear();\n    this.all.forEach(hook => {\n      if (!this[hook]) {\n        this[hook] = (fn: HookFunction, ctx?: any) => {\n          if (!this.registered.has(hook)) {\n            this.registered.set(hook, new Set());\n          }\n          const set = this.registered.get(hook);\n\n          set.add({\n            ctx: ctx || {},\n            fn,\n          });\n        };\n      }\n    });\n  }\n\n  /**\n   * Do hook.\n   *\n   * Trigger registered hooks.\n   */\n  public do(name: HooksAll, ...args: any): Promise<any> {\n    if (this.registered.has(name)) {\n      // Let's start a chain of promises\n      let chain = Promise.resolve();\n\n      this.registered.get(name).forEach(hook => {\n        // Chain async hooks promisified\n        chain = chain.then(() => runAsync(hook.fn, hook.ctx)(...args));\n      });\n\n      return chain.catch(error => {\n        this.logger.debug(`Hook error [${name}]`);\n        this.logger.error(error);\n      });\n    }\n\n    return Promise.resolve();\n  }\n\n  public clear(): void {\n    this.all.forEach(hook => {\n      delete this[hook];\n    });\n\n    this.init();\n  }\n\n  /**\n   * Help, print available and registered hooks.\n   */\n  public help(): void {\n    this.logger.info(`Available hooks: ${this.all.join(',')}`);\n    const registered: string[] = [];\n    this.registered.forEach((value, key) => registered.push(key));\n    this.logger.info(`Registered hooks: ${registered.join(',')}`);\n  }\n}\n\nconst hooks = new Hooks();\n\nexport { hooks };\n","/**\n * @barba/core/modules/ignore\n * <br><br>\n * ## Manage ignore options.\n *\n * - cache\n * - prefetch\n *\n * @module core/modules/ignore\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport { IgnoreOption } from '../defs';\n// Utils\nimport { pathToRegexp } from '../utils/helpers';\nimport { parse } from '../utils/url';\n\nexport class Ignore {\n  private _ignoreAll: boolean;\n  private _ignoreRegexes: RegExp[] = [];\n\n  constructor(ignore: IgnoreOption) {\n    if (typeof ignore === 'boolean') {\n      this._ignoreAll = ignore;\n    } else {\n      const paths = Array.isArray(ignore) ? ignore : [ignore];\n\n      this._ignoreRegexes = paths.map(p => pathToRegexp(p));\n    }\n  }\n\n  public checkHref(href: string): boolean {\n    if (typeof this._ignoreAll === 'boolean') {\n      return this._ignoreAll;\n    }\n\n    const { path } = parse(href);\n\n    return this._ignoreRegexes.some(regex => regex.exec(path) !== null);\n  }\n}\n","/**\n * @barba/core/modules/cache\n * <br><br>\n * ## Cache for storing URL / HTML.\n *\n * @module core/modules/cache\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport { CacheAction, CacheRequest, ICacheData, IgnoreOption } from '../defs';\n// Modules\nimport { Ignore } from './Ignore';\n\nexport class Cache extends Ignore {\n  private _state: Map<string, ICacheData> = new Map();\n\n  constructor(ignore: IgnoreOption) {\n    super(ignore);\n  }\n\n  /**\n   * Set value to cache\n   */\n  public set(\n    href: string,\n    request: CacheRequest,\n    action: CacheAction\n  ): ICacheData {\n    this._state.set(href, {\n      action,\n      request,\n    });\n\n    return {\n      action,\n      request,\n    };\n  }\n\n  /**\n   * Get data from cache\n   */\n  public get(href: string): ICacheData {\n    return this._state.get(href);\n  }\n\n  /**\n   * Get request from cache\n   */\n  public getRequest(href: string): CacheRequest {\n    return this._state.get(href).request;\n  }\n\n  /**\n   * Get action from cache\n   */\n  public getAction(href: string): CacheAction {\n    return this._state.get(href).action;\n  }\n\n  /**\n   * Check if value exists into cache\n   */\n  public has(href: string): boolean {\n    /* istanbul ignore else */\n    if (this.checkHref(href)) {\n      return false;\n    }\n    return this._state.has(href);\n  }\n\n  /**\n   * Delete value from cache\n   */\n  public delete(href: string): boolean {\n    return this._state.delete(href);\n  }\n\n  /**\n   * Update cache value\n   */\n  public update(href: string, data: ICacheData): ICacheData {\n    const state = {\n      ...this._state.get(href),\n      ...data,\n    };\n    this._state.set(href, state);\n\n    return state;\n  }\n}\n","/**\n * @barba/core/modules/prevent\n * <br><br>\n * ## Prevent checks.\n *\n * - Gathers all the tests that allow Barba to work and play transitions\n *\n * @module core/modules/prevent\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport { IgnoreOption, Link, PreventCheck } from '../defs';\n// Schemas\nimport { schemaAttribute } from '../schemas/attribute';\n// Utils\nimport { url } from '../utils';\n// Modules\nimport { Ignore } from './Ignore';\n\n/**\n * Make sure the browser supports `history.pushState`.\n */\nconst pushState: PreventCheck = () => !window.history.pushState;\n\n/**\n * Make sure there is an `el` and `href`.\n */\nconst exists: PreventCheck = ({ el, href }) => !el || !href;\n\n/**\n * If the user is pressing ctrl + click, the browser will open a new tab.\n */\nconst newTab: PreventCheck = ({ event }) =>\n  (event as KeyboardEvent).which > 1 ||\n  (event as KeyboardEvent).metaKey ||\n  (event as KeyboardEvent).ctrlKey ||\n  (event as KeyboardEvent).shiftKey ||\n  (event as KeyboardEvent).altKey;\n\n/**\n * If the link has `_blank` target.\n */\nconst blank: PreventCheck = ({ el }) =>\n  el.hasAttribute('target') && (el as Link).target === '_blank';\n\n/**\n * If the domain is the same (in order to avoid pushState cross origin security problem).\n * Note: SVGAElement do not have `protocol` neither `hostname` properties.\n */\nconst corsDomain: PreventCheck = ({ el }) =>\n  ((el as HTMLAnchorElement).protocol !== undefined &&\n    window.location.protocol !== (el as HTMLAnchorElement).protocol) ||\n  ((el as HTMLAnchorElement).hostname !== undefined &&\n    window.location.hostname !== (el as HTMLAnchorElement).hostname);\n\n/**\n * If the port is the same.\n * Note: SVGAElement do not have `port` property.\n */\nconst corsPort: PreventCheck = ({ el }) =>\n  (el as HTMLAnchorElement).port !== undefined &&\n  url.getPort() !== url.getPort((el as HTMLAnchorElement).href);\n\n/**\n * If the link has download attribute.\n */\nconst download: PreventCheck = ({ el }) =>\n  el.getAttribute && typeof el.getAttribute('download') === 'string';\n\n/**\n * If the links contains [data-barba-prevent] or [data-barba-prevent=\"self\"].\n */\nconst preventSelf: PreventCheck = ({ el }) =>\n  el.hasAttribute(`${schemaAttribute.prefix}-${schemaAttribute.prevent}`);\n\n/**\n * If some link ancestor contains [data-barba-prevent=\"all\"].\n */\nconst preventAll: PreventCheck = ({ el }) =>\n  Boolean(\n    el.closest(`[${schemaAttribute.prefix}-${schemaAttribute.prevent}=\"all\"]`)\n  );\n\n/**\n * If the link is the current URL.\n *\n * > Not in the test suite.\n */\nconst sameUrl: PreventCheck = ({ href }) =>\n  url.clean(href) === url.clean() && url.getPort(href) === url.getPort();\n\nexport class Prevent extends Ignore {\n  public suite: string[] = [];\n  public tests: Map<string, PreventCheck> = new Map();\n\n  constructor(ignore: IgnoreOption) {\n    super(ignore);\n    this.init();\n  }\n\n  public init(): void {\n    // Add defaults\n    this.add('pushState', pushState);\n    this.add('exists', exists);\n    this.add('newTab', newTab);\n    this.add('blank', blank);\n    this.add('corsDomain', corsDomain);\n    this.add('corsPort', corsPort);\n    this.add('download', download);\n    this.add('preventSelf', preventSelf);\n    this.add('preventAll', preventAll);\n\n    // Outside of the test suite\n    this.add('sameUrl', sameUrl, false);\n  }\n\n  public add(name: string, check: PreventCheck, suite: boolean = true): void {\n    this.tests.set(name, check);\n    suite && this.suite.push(name);\n  }\n\n  /**\n   * Run individual test\n   */\n  public run(name: string, el: Link, event: Event, href: string): boolean {\n    return this.tests.get(name)({\n      el,\n      event,\n      href,\n    });\n  }\n\n  /**\n   * Run test suite\n   */\n  public checkLink(el: Link, event: Event, href: string): boolean {\n    return this.suite.some(name => this.run(name, el, event, href));\n  }\n}\n","// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error\nexport class BarbaError extends Error {\n  /* istanbul ignore next */\n  constructor(\n    public error: Error,\n    public label = 'Barba error',\n    ...params: any[]\n  ) {\n    // Pass remaining arguments (including vendor specific ones) to parent constructor\n    super(...params);\n\n    // Maintains proper stack trace for where our error was thrown (only available on V8)\n    /* istanbul ignore else */\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, BarbaError);\n    }\n\n    this.name = 'BarbaError';\n  }\n}\n","/**\n * @barba/core/modules/store\n * <br><br>\n * ## Transitions store.\n *\n * - Resolve transition\n * - Manage rules\n *\n * @module core/modules/store\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport {\n  IRule,\n  IRules,\n  ITransitionData,\n  ITransitionFilters,\n  ITransitionOnce,\n  ITransitionPage,\n  RuleName,\n} from '../defs';\n\n// Modules\nimport { Logger } from './Logger';\n\nexport class Store {\n  public logger: Logger = new Logger('@barba/core');\n  /**\n   * All registered transitions.\n   */\n  public all: ITransitionPage[] = [];\n  /**\n   * \"Page only\" registered transitions.\n   */\n  public page: ITransitionPage[] = [];\n  /**\n   * \"Once only\" registered transitions.\n   */\n  public once: ITransitionOnce[] = [];\n  /**\n   * Rules for transition resolution.\n   *\n   * Defaults:\n   *\n   * - namespace\n   * - custom\n   */\n  private _rules: IRule[] = [\n    {\n      name: 'namespace',\n      type: 'strings',\n    },\n    {\n      name: 'custom',\n      type: 'function',\n    },\n  ];\n\n  /**\n   * Init store.\n   */\n  constructor(transitions: ITransitionPage[] = []) {\n    /* istanbul ignore else */\n    if (transitions) {\n      // TODO: add check for valid transitions? criteria? (once || enter && leave)\n      this.all = this.all.concat(transitions);\n    }\n    this.update();\n  }\n\n  /**\n   * Add rule or transition.\n   */\n  public add(type: 'rule' | 'transition', data: any): void {\n    switch (type) {\n      case 'rule':\n        // TODO: check for valid rule\n        this._rules.splice(data.position || 0, 0, data.value);\n        break;\n      case 'transition':\n      default:\n        // TODO: check for valid transition\n        this.all.push(data);\n        break;\n    }\n\n    this.update();\n  }\n\n  /**\n   * Resolve transition.\n   */\n  public resolve(\n    data: ITransitionData,\n    filters: ITransitionFilters = {}\n  ): ITransitionOnce | ITransitionPage {\n    // Filter on \"once\"\n    let transitions = filters.once ? this.once : this.page;\n\n    // Filter on \"self\"\n    if (filters.self) {\n      transitions = transitions.filter(t => t.name && t.name === 'self');\n    } else {\n      transitions = transitions.filter(t => !t.name || t.name !== 'self');\n    }\n\n    // All matching transition infos\n    const matching = new Map();\n\n    // Active = first of valid transitions\n    // sorted by directions (from/to, from || to, )\n    const active = transitions.find(t => {\n      let valid = true;\n      const match = {};\n\n      if (filters.self && t.name === 'self') {\n        return true;\n      }\n\n      // Check rules\n      this._rules.reverse().forEach(rule => {\n        if (valid) {\n          valid = this._check(t, rule, data, match);\n          // From/to check\n          if (t.from && t.to) {\n            valid =\n              this._check(t, rule, data, match, 'from') &&\n              this._check(t, rule, data, match, 'to');\n          }\n          if (t.from && !t.to) {\n            valid = this._check(t, rule, data, match, 'from');\n          }\n          if (!t.from && t.to) {\n            valid = this._check(t, rule, data, match, 'to');\n          }\n        }\n      });\n\n      matching.set(t, match);\n\n      return valid;\n    });\n\n    const activeMatch = matching.get(active);\n    const transitionType = [];\n    if (filters.once) {\n      transitionType.push('once');\n    } else {\n      transitionType.push('page');\n    }\n    if (filters.self) {\n      transitionType.push('self');\n    }\n\n    if (activeMatch) {\n      // Log resolved transition\n      const infos: any[] = [active];\n      // Log if matching criteria\n      Object.keys(activeMatch).length > 0 && infos.push(activeMatch);\n\n      this.logger.info(\n        `Transition found [${transitionType.join(',')}]`,\n        ...infos\n      );\n    } else {\n      this.logger.info(`No transition found [${transitionType.join(',')}]`);\n    }\n\n    return active;\n  }\n\n  /**\n   * ### Update store.\n   *\n   * - Reorder transition by priorities\n   * - Get wait indicator\n   * - Get once transitions\n   */\n  public update(): void {\n    // Reorder by priorities\n    this.all = this.all\n      .map(t => this._addPriority(t))\n      .sort((a, b) => a.priority - b.priority)\n      .reverse()\n      .map(t => {\n        delete t.priority;\n\n        return t;\n      });\n    this.page = this.all.filter(\n      t => t.leave !== undefined || t.enter !== undefined\n    ) as ITransitionPage[];\n    this.once = this.all.filter(t => t.once !== undefined) as ITransitionOnce[];\n  }\n\n  /**\n   * ### Check if transition apply.\n   *\n   * Based on rule, page data and optional direction:\n   *\n   * 1. transition has no rule \"property\":\n   *    - always returns true\n   * 2. transition has rule \"property\":\n   *     - \"strings\" should be present on both side (transition + page) and match\n   *     - \"function\" should return true\n   */\n  private _check(\n    transition: ITransitionPage,\n    rule: IRule,\n    data: ITransitionData,\n    match: any,\n    direction?: 'from' | 'to'\n  ): boolean {\n    let isValid = true;\n    let hasMatch = false;\n    const t = transition;\n    const { name, type } = rule;\n    const strRule = name as IRules['strings'];\n    const objRule = name as IRules['object'];\n    const fnName = name as IRules['function'];\n    const base = direction ? t[direction] : t; // = t || t.from || t.to\n    const page = direction === 'to' ? data.next : data.current; // = current || next\n    const exist = direction ? base && base[name] : base[name];\n\n    // If transition rule exists\n    if (exist) {\n      switch (type) {\n        case 'strings':\n        default: {\n          // Array support\n          const names: string[] = Array.isArray(base[strRule])\n            ? (base[strRule] as string[])\n            : [base[strRule] as string];\n\n          // For matching, prop should be present on both sides and match\n          if (page[strRule] && names.indexOf(page[strRule]) !== -1) {\n            hasMatch = true;\n          }\n          // If transition prop is different from current, not valid\n          if (names.indexOf(page[strRule]) === -1) {\n            isValid = false;\n          }\n          break;\n        }\n\n        case 'object': {\n          // Array support\n          const names: string[] = Array.isArray(base[objRule])\n            ? (base[objRule] as string[])\n            : [base[objRule] as string];\n\n          // For matching, prop should be present on both sides and match\n          if (page[objRule]) {\n            if (\n              page[objRule].name &&\n              names.indexOf(page[objRule].name) !== -1\n            ) {\n              hasMatch = true;\n            }\n            // If transition prop is different from current, not valid\n            if (names.indexOf(page[objRule].name) === -1) {\n              isValid = false;\n            }\n          } else {\n            isValid = false;\n          }\n          break;\n        }\n\n        case 'function':\n          if (base[fnName](data)) {\n            hasMatch = true;\n          } else {\n            isValid = false;\n          }\n          break;\n      }\n\n      if (hasMatch) {\n        if (direction) {\n          match[direction] = match[direction] || {};\n          match[direction][name] = t[direction][name];\n        } else {\n          match[name] = t[name];\n        }\n      }\n    }\n\n    return isValid;\n  }\n\n  /**\n   * ### Calculate transition priority.\n   *\n   * Based on:\n   *\n   * - rule \"position\" (index) give tens, hundreds, thousands, \n   * - from/to properties give units (0, 1 or 2)\n   */\n  private _calculatePriority(\n    t: ITransitionPage,\n    ruleName: RuleName,\n    ruleIndex: number\n  ): number {\n    let priority = 0;\n\n    if (\n      t[ruleName] ||\n      (t.from && t.from[ruleName]) ||\n      (t.to && t.to[ruleName])\n    ) {\n      priority += Math.pow(10, ruleIndex);\n\n      if (t.from && t.from[ruleName]) {\n        priority += 1;\n      }\n      if (t.to && t.to[ruleName]) {\n        priority += 2;\n      }\n    }\n\n    return priority;\n  }\n\n  private _addPriority(t: ITransitionPage): ITransitionPage {\n    t.priority = 0;\n    let priority = 0;\n\n    this._rules.forEach((rule, i) => {\n      const { name } = rule;\n      const index = i + 1;\n\n      priority += this._calculatePriority(t, name, index);\n    });\n\n    t.priority = priority;\n\n    return t;\n  }\n}\n","/**\n * @barba/core/modules/transitions\n * <br><br>\n * ## Transitions manager.\n *\n * - Handle hooks and transition lifecycle\n *\n * @module core/modules/transitions\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport {\n  HooksTransition,\n  HooksTransitionMap,\n  ITransitionData,\n  ITransitionFilters,\n  ITransitionOnce,\n  ITransitionPage,\n  Wrapper,\n} from '../defs';\n// Hooks\nimport { hooks } from '../hooks';\n// Utils\nimport { dom, helpers, runAsync } from '../utils';\n// Modules\nimport { BarbaError } from './Error';\nimport { Logger } from './Logger';\nimport { Store } from './Store';\n\nexport class Transitions {\n  public logger: Logger = new Logger('@barba/core');\n  public store: Store;\n  private _running: boolean = false;\n\n  constructor(transitions: ITransitionPage[] = []) {\n    this.store = new Store(transitions);\n  }\n\n  /**\n   * Get resolved transition\n   *\n   * - based on data\n   */\n  public get(\n    data: ITransitionData,\n    filters?: ITransitionFilters\n  ): ITransitionOnce | ITransitionPage {\n    return this.store.resolve(data, filters);\n  }\n\n  /**\n   * Animation running status.\n   */\n  get isRunning(): boolean {\n    return this._running;\n  }\n  set isRunning(status: boolean) {\n    this._running = status;\n  }\n\n  /**\n   * Check for registered once transition(s).\n   */\n  get hasOnce(): boolean {\n    return this.store.once.length > 0;\n  }\n\n  /**\n   * Check for registered self transition.\n   */\n  get hasSelf(): boolean {\n    return this.store.all.some(t => t.name === 'self');\n  }\n\n  /**\n   * ### Wait indicator.\n   *\n   * Tells Barba to get next page data<br>\n   * before starting the resolution<br>\n   * because some registered transitions need<br>\n   * next page data to be resolved (eg: `sync: true`, `to: { namespace }`, )\n   */\n  get shouldWait(): boolean {\n    return this.store.all.some(t => (t.to && !t.to.route) || t.sync);\n  }\n\n  /**\n   * ### Do \"once\" transition.\n   *\n   * Hooks: see [[HooksOnce]].\n   */\n  public async doOnce({\n    data,\n    transition,\n  }: {\n    data: ITransitionData;\n    transition: ITransitionOnce;\n  }) {\n    const t = transition || {};\n    this._running = true;\n\n    try {\n      await this._doAsyncHook('beforeOnce', data, t);\n      await this.once(data, t);\n      await this._doAsyncHook('afterOnce', data, t);\n    } catch (error) {\n      this._running = false;\n\n      this.logger.debug('Transition error [before/after/once]');\n      this.logger.error(error);\n    }\n\n    this._running = false;\n  }\n\n  /**\n   * ### Do \"page\" transition.\n   *\n   * Hooks: see [[HooksPage]].\n   *\n   * `sync: false` (default) order:\n   *\n   * 1. before\n   * 2. beforeLeave\n   * 3. leave\n   * 4. afterLeave\n   * 5. beforeEnter\n   * 6. enter\n   * 7. afterEnter\n   * 8. after\n   *\n   * `sync: true` order:\n   *\n   * 1. before\n   * 2. beforeLeave\n   * 3. beforeEnter\n   * 4. leave & enter\n   * 5. afterLeave\n   * 6. afterEnter\n   * 7. after\n   */\n  public async doPage({\n    data,\n    transition,\n    page,\n    wrapper,\n  }: {\n    data: ITransitionData;\n    transition: ITransitionPage;\n    page: Promise<string | void>;\n    wrapper: Wrapper;\n  }) {\n    const t = transition || {};\n    const sync = t.sync === true || false;\n\n    this._running = true;\n\n    try {\n      // Check sync mode, wait for next content\n      if (sync) {\n        await helpers.update(page, data);\n      }\n\n      await this._doAsyncHook('before', data, t);\n\n      if (sync) {\n        try {\n          await this.add(data, wrapper);\n          // Before actions\n          await this._doAsyncHook('beforeLeave', data, t);\n          await this._doAsyncHook('beforeEnter', data, t);\n\n          // Actions\n          await Promise.all([this.leave(data, t), this.enter(data, t)]);\n\n          // After actions\n          await this._doAsyncHook('afterLeave', data, t);\n          await this._doAsyncHook('afterEnter', data, t);\n        } catch (error) {\n          // this.logger.debug('Transition error [sync]');\n          // this.logger.error(error);\n          if (this._isTransitionError(error)) {\n            throw new BarbaError(error, 'Transition error [sync]');\n          }\n        }\n      } else {\n        let leaveResult: any = false;\n\n        try {\n          // Leave\n          await this._doAsyncHook('beforeLeave', data, t);\n\n          leaveResult = await Promise.all([\n            this.leave(data, t),\n            helpers.update(page, data),\n          ]).then(values => values[0]);\n\n          await this._doAsyncHook('afterLeave', data, t);\n\n          // TODO: check here \"valid\" page result\n          // before going further\n        } catch (error) {\n          // this.logger.debug('Transition error [before/after/leave]');\n          // this.logger.error(error);\n          if (this._isTransitionError(error)) {\n            throw new BarbaError(\n              error,\n              'Transition error [before/after/leave]'\n            );\n          }\n        }\n\n        try {\n          // Enter\n          /* istanbul ignore else */\n          if (leaveResult !== false) {\n            await this.add(data, wrapper);\n\n            await this._doAsyncHook('beforeEnter', data, t);\n            await this.enter(data, t, leaveResult);\n            await this._doAsyncHook('afterEnter', data, t);\n          }\n        } catch (error) {\n          // this.logger.debug('Transition error [before/after/enter]');\n          // this.logger.error(error);\n          if (this._isTransitionError(error)) {\n            throw new BarbaError(\n              error,\n              'Transition error [before/after/enter]'\n            );\n          }\n        }\n      }\n\n      // Remove current contaienr\n      await this.remove(data);\n\n      await this._doAsyncHook('after', data, t);\n    } catch (error) {\n      this._running = false;\n\n      // If \"custom/specific\" barba error.\n      /* istanbul ignore else */\n      if (error.name && error.name === 'BarbaError') {\n        this.logger.debug(error.label);\n        this.logger.error(error.error);\n\n        throw error;\n      }\n\n      this.logger.debug('Transition error [page]');\n      this.logger.error(error);\n\n      throw error;\n    }\n\n    this._running = false;\n  }\n\n  /**\n   * Once hook + async \"once\" transition.\n   */\n  public async once(data: ITransitionData, t: ITransitionOnce): Promise<void> {\n    await hooks.do('once', data, t);\n\n    return t.once ? runAsync(t.once, t)(data) : Promise.resolve();\n  }\n\n  /**\n   * Leave hook + async \"leave\" transition.\n   */\n  public async leave(data: ITransitionData, t: ITransitionPage): Promise<any> {\n    await hooks.do('leave', data, t);\n\n    return t.leave ? runAsync(t.leave, t)(data) : Promise.resolve();\n  }\n\n  /**\n   * Enter hook + async \"enter\" transition.\n   */\n  public async enter(\n    data: ITransitionData,\n    t: ITransitionPage,\n    leaveResult?: any\n  ): Promise<void> {\n    await hooks.do('enter', data, t);\n\n    return t.enter\n      ? runAsync(t.enter, t)(data, leaveResult)\n      : Promise.resolve();\n  }\n\n  /**\n   * Add next container.\n   */\n  public async add(data: ITransitionData, wrapper: Wrapper): Promise<void> {\n    dom.addContainer(data.next.container, wrapper);\n    hooks.do('nextAdded', data);\n  }\n\n  /**\n   * Remove current container.\n   */\n  public async remove(data: ITransitionData): Promise<void> {\n    dom.removeContainer(data.current.container);\n    hooks.do('currentRemoved', data);\n  }\n\n  private _isTransitionError(error: any) {\n    if (error.message) {\n      // Errors from request\n      return !/Timeout error|Fetch error/.test(error.message);\n    }\n\n    if (error.status) {\n      // Errors from request\n      return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Do hooks + async transition methods.\n   */\n  private async _doAsyncHook(\n    hook: HooksTransition,\n    data: ITransitionData,\n    t: HooksTransitionMap\n  ): Promise<void> {\n    await hooks.do(hook, data, t);\n\n    return t[hook] ? runAsync(t[hook], t)(data) : Promise.resolve();\n  }\n}\n","/**\n * @barba/core/modules/views\n * <br><br>\n * ## Views manager.\n *\n * @module core/modules/views\n * @preferred\n */\n\n/***/\n\n// Definitions\nimport { HooksView, IView, IViewData } from '../defs';\n// Hooks\nimport { hooks } from '../hooks';\n// Utils\nimport { runAsync } from '../utils';\n// Types\ntype Hook = (data: IViewData) => Promise<void>;\n\nexport class Views {\n  /**\n   * Available hook names for views.\n   */\n  public names: HooksView[] = [\n    'beforeLeave',\n    'afterLeave',\n    'beforeEnter',\n    'afterEnter',\n  ];\n  /**\n   * Registered views by namespace.\n   */\n  public byNamespace: Map<string, IView> = new Map();\n\n  /**\n   * Init views.\n   */\n  constructor(views: IView[]) {\n    if (views.length === 0) {\n      return;\n    }\n\n    // TODO: add check\n    // for valid views? criteria? (namespace property, string ?)\n    // or duplicate\n    views.forEach(view => {\n      this.byNamespace.set(view.namespace, view);\n    });\n\n    this.names.forEach(name => {\n      hooks[name](this._createHook(name));\n    });\n  }\n\n  /**\n   * Create the hook method.\n   *\n   * - get view based on namespace\n   * - execute callback with transition data\n   */\n  private _createHook(name: HooksView): Hook {\n    return data => {\n      const { namespace } = name.match(/enter/i) ? data.next : data.current;\n      const view = this.byNamespace.get(namespace);\n\n      // TODO: manage self\n      // if (view && data.trigger !== 'self') {\n      if (view && view[name]) {\n        return runAsync(view[name], view)(data);\n      }\n\n      return Promise.resolve();\n    };\n  }\n}\n","// Element.prototype.matches polyfill\n// https://developer.mozilla.org/en-US/docs/Web/API/Element/matches#Polyfill\nif (!Element.prototype.matches) {\n  Element.prototype.matches =\n    (Element as any).prototype.msMatchesSelector ||\n    Element.prototype.webkitMatchesSelector;\n}\n\n// Element.prototype.closest polyfill\n// https://developer.mozilla.org/en-US/docs/Web/API/Element/closest#Polyfill\nif (!Element.prototype.closest) {\n  Element.prototype.closest = function closest(s: string) {\n    let el = this;\n\n    do {\n      if (el.matches(s)) {\n        return el;\n      }\n\n      el = (el.parentElement || el.parentNode) as Element;\n    } while (el !== null && el.nodeType === 1);\n\n    return null;\n  };\n}\n","/**\n * @module core/schemas\n */\n\n// Definitions\nimport { ISchemaPage } from '../defs';\n\n/**\n * See [[ISchemaPage]]\n */\nexport const schemaPage: ISchemaPage = {\n  container: null,\n  html: '',\n  namespace: '',\n  url: {\n    hash: '',\n    href: '',\n    path: '',\n    port: null,\n    query: {},\n  },\n};\n","/**\n * @barba/core\n * <br><br>\n * ## Barba core object\n *\n * Main methods:\n *\n * - `.init()` for initialization with options\n * - `.use()` for plugins\n *\n * @module core\n */\n\n/***/\n\nimport { version } from '../package.json';\n// Definitions\nimport {\n  IBarbaOptions,\n  IBarbaPlugin,\n  IgnoreOption,\n  ISchemaPage,\n  ITransitionData,\n  ITransitionOnce,\n  ITransitionPage,\n  Link,\n  LinkEvent,\n  RequestCustomError,\n  RequestErrorOrResponse,\n  SchemaAttributeValues,\n  Trigger,\n  Wrapper,\n} from './defs';\n// Hooks\nimport { hooks } from './hooks';\n// Modules\nimport { Cache } from './modules/Cache';\nimport { Logger } from './modules/Logger';\nimport { Prevent } from './modules/Prevent';\nimport { Transitions } from './modules/Transitions';\nimport { Views } from './modules/Views';\n// Polyfills\nimport './polyfills';\n// Schemas\nimport { schemaAttribute } from './schemas/attribute';\nimport { schemaPage } from './schemas/page';\n// Utils\nimport { dom, helpers, history, request, url } from './utils';\n\nexport class Core {\n  /**\n   * Version.\n   */\n  public version: string = version;\n  /**\n   * Schemas.\n   */\n  public schemaPage: ISchemaPage = schemaPage;\n  /**\n   * Logger class, allows plugins to create Logger.\n   */\n  public Logger: typeof Logger = Logger;\n  /**\n   * Barba logger.\n   */\n  public logger: Logger = new Logger('@barba/core');\n  /**\n   * Plugins.\n   */\n  public plugins: Array<IBarbaPlugin<any>> = [];\n  /**\n   * Options\n   */\n  public timeout: number;\n  public cacheIgnore: IgnoreOption;\n  public prefetchIgnore: IgnoreOption;\n  public preventRunning: boolean;\n  /**\n   * Hooks\n   */\n  public hooks = hooks;\n  /**\n   * Modules.\n   */\n  // public history: History;\n  public cache: Cache;\n  public prevent: Prevent;\n  public transitions: Transitions;\n  public views: Views;\n  /**\n   * Utils.\n   */\n  public dom = dom;\n  public helpers = helpers;\n  public history = history;\n  public request = request;\n  public url = url;\n\n  private _data: ITransitionData;\n  private _requestCustomError: RequestCustomError;\n  private _wrapper: Wrapper;\n\n  /**\n   * ### Init plugin with options.\n   *\n   * See [[IBarbaPlugin]] for more details.\n   */\n  public use<T>(plugin: IBarbaPlugin<T>, options?: T): void {\n    const installedPlugins = this.plugins;\n\n    // Plugin installation\n    if (installedPlugins.indexOf(plugin) > -1) {\n      this.logger.warn(`Plugin [${plugin.name}] already installed.`);\n\n      return;\n    }\n\n    if (typeof plugin.install !== 'function') {\n      this.logger.warn(`Plugin [${plugin.name}] has no \"install\" method.`);\n\n      return;\n    }\n\n    plugin.install(this, options);\n    installedPlugins.push(plugin);\n  }\n\n  /**\n   * ### Init barba with options.\n   *\n   * See [[IBarbaOptions]] for more details.\n   *\n   * Default values are:\n   *\n   * - transitions: `[]`\n   * - views: `[]`\n   * - schema: [[SchemaAttribute]]\n   * - timeout: `2e3`\n   * - cacheIgnore: `false`\n   * - prefetchIgnore: `false`\n   * - preventRunning: `false`\n   * - prevent: `null`,\n   * - debug: `false`\n   * - logLevel: `'debug'`\n   */\n  public init(\n    /** @ignore */ {\n      transitions = [],\n      views = [],\n      schema = schemaAttribute,\n      requestError,\n      timeout = 2e3,\n      cacheIgnore = false,\n      prefetchIgnore = false,\n      /* istanbul ignore next */\n      preventRunning = false,\n      prevent: preventCustom = null,\n      debug = false,\n      logLevel = 'off',\n    }: IBarbaOptions = {}\n  ) {\n    // 0. Set logger level and print version\n    Logger.setLevel(debug === true ? 'debug' : logLevel);\n    this.logger.info(this.version);\n\n    // 1. Manage options\n    Object.keys(schema).forEach(k => {\n      const attr = k as SchemaAttributeValues;\n\n      /* istanbul ignore else */\n      if (schemaAttribute[attr]) {\n        schemaAttribute[attr] = schema[attr];\n      }\n    });\n    this._requestCustomError = requestError;\n    this.timeout = timeout;\n    this.cacheIgnore = cacheIgnore;\n    this.prefetchIgnore = prefetchIgnore;\n    this.preventRunning = preventRunning;\n\n    // 2. Get and check wrapper\n    this._wrapper = this.dom.getWrapper();\n    if (!this._wrapper) {\n      throw new Error('[@barba/core] No Barba wrapper found');\n    }\n    this._wrapper.setAttribute('aria-live', 'polite'); // A11y\n\n    // 3. Init pages (get \"current\" data)\n    this._resetData();\n\n    const { current } = this.data;\n\n    if (!current.container) {\n      throw new Error('[@barba/core] No Barba container found');\n    }\n\n    // 4. Init other modules\n    this.cache = new Cache(cacheIgnore);\n    this.prevent = new Prevent(prefetchIgnore);\n    this.transitions = new Transitions(transitions);\n    this.views = new Views(views);\n\n    // Add prevent custom\n    if (preventCustom !== null) {\n      if (typeof preventCustom !== 'function') {\n        throw new Error('[@barba/core] Prevent should be a function');\n      }\n\n      this.prevent.add('preventCustom', preventCustom);\n    }\n\n    // 5. Use \"current\" data\n    // Init history\n    this.history.init(current.url.href, current.namespace);\n    // Add to cache\n    // TODO: do not cache renderer HTML, only request results\n    // this.cache.set(current.url.href, Promise.resolve(current.html), 'init');\n\n    // 6. Bind context\n    this._onLinkEnter = this._onLinkEnter.bind(this);\n    this._onLinkClick = this._onLinkClick.bind(this);\n    this._onStateChange = this._onStateChange.bind(this);\n    this._bind();\n\n    // 7. Init plugins\n    this.plugins.forEach(plugin => plugin.init());\n\n    // 8. Barba ready\n    // Set next + trigger for once and `beforeEnter`/`afterEnter` view on page load.\n    const onceData = this.data;\n\n    onceData.trigger = 'barba';\n    onceData.next = onceData.current;\n    onceData.current = { ...this.schemaPage };\n    this.hooks.do('ready', onceData);\n\n    // 9. Finally, do once\n    this.once(onceData);\n\n    // Clean data for first barba transition\n    this._resetData();\n  }\n\n  public destroy(): void {\n    this._resetData();\n    this._unbind();\n    this.history.clear();\n    this.hooks.clear();\n    this.plugins = [];\n  }\n\n  get data(): ITransitionData {\n    return this._data;\n  }\n\n  get wrapper(): HTMLElement {\n    return this._wrapper;\n  }\n\n  /**\n   * ### Force a page change without Barba transition.\n   */\n  public force(href: string): void {\n    // DEV\n    // Can be used waiting animation cancellation management\n    window.location.assign(href);\n  }\n\n  /**\n   * ### Go for a Barba transition.\n   *\n   * Manage \"self page\" href:\n   *\n   * - if same url and no self transition, keep default behavior\n   *   - link: reload the page\n   *   - anchor: scroll to\n   * - if same url with self transition, use it\n   * - then start a page transition.\n   */\n  public go(\n    href: string,\n    trigger: Trigger = 'barba',\n    e?: LinkEvent | PopStateEvent\n  ): Promise<void> {\n    // If animation running, force reload\n    if (this.transitions.isRunning) {\n      this.force(href);\n\n      return;\n    }\n\n    let self = false;\n\n    // Check prevent sameURL against current history\n    // + state check\n    // + update trigger with direction\n    if (trigger === 'popstate') {\n      self =\n        this.history.current &&\n        this.url.getPath(this.history.current.url) === this.url.getPath(href);\n    } else {\n      self = this.prevent.run('sameUrl', null, null, href);\n    }\n\n    if (self && !this.transitions.hasSelf) {\n      return;\n    }\n\n    trigger = this.history.change(href, trigger, e);\n\n    if (e) {\n      e.stopPropagation();\n      e.preventDefault();\n    }\n\n    return this.page(href, trigger, self);\n  }\n\n  /**\n   * ### Start an \"once\" transition.\n   *\n   * If some registered \"once\" transition,\n   * get the \"resolved\" transition from the store and start it.\n   */\n  public async once(readyData: ITransitionData): Promise<void> {\n    await this.hooks.do('beforeEnter', readyData);\n\n    // Check if once transition\n    if (this.transitions.hasOnce) {\n      const transition = this.transitions.get(readyData, {\n        once: true,\n      }) as ITransitionOnce;\n\n      await this.transitions.doOnce({ transition, data: readyData });\n    }\n\n    await this.hooks.do('afterEnter', readyData);\n  }\n\n  /**\n   * ### Start a \"page\" transition.\n   *\n   * 1. If no running transition, updates data with full URL properties and trigger.\n   * 2. Get page from cache or init request.\n   * 3. Wait if some transitions need \"next\" data (`sync: true`, `to: `).\n   * 4. Manage the history, depending on trigger.\n   * 5. Get \"data\" and trigger \"go\" hook.\n   * 6. Get the \"resolved\" transition from the store and start it.\n   * 7. Update title and reset data (current, next = undefined).\n   *\n   * > If \"self\", use the \"self\" transition\n   */\n  public async page(\n    href: string,\n    trigger: Trigger,\n    self: boolean\n  ): Promise<void> {\n    this.data.next.url = {\n      href,\n      ...this.url.parse(href),\n    };\n    this.data.trigger = trigger;\n\n    const page = this.cache.has(href)\n      ? this.cache.update(href, { action: 'click' }).request\n      : this.cache.set(\n          href,\n          this.request(\n            href,\n            this.timeout,\n            this.onRequestError.bind(this, trigger)\n          ),\n          'click'\n        ).request;\n\n    // Need to wait before getting the right transition\n    if (this.transitions.shouldWait) {\n      await helpers.update(page, this.data);\n    }\n\n    const data = this.data;\n\n    // Hook: between trigger and transition\n    // Can be used to resolve \"route\"\n    await this.hooks.do('page', data);\n\n    try {\n      const transition = this.transitions.get(data, {\n        once: false,\n        self,\n      }) as ITransitionPage;\n\n      await this.transitions.doPage({\n        data,\n        page,\n        transition,\n        wrapper: this._wrapper,\n      });\n\n      this._resetData();\n    } catch (error) {\n      // Something went wrong (rejected promise, error, 404, 505, other)\n      // TODO: manage / use cases for cancellation\n      // this.logger.debug('Transition cancelled');\n\n      // If transition error and no debug mode, force reload page.\n      /* istanbul ignore else */\n      if (Logger.getLevel() === 0) {\n        this.force(data.current.url.href);\n      }\n    }\n  }\n\n  /**\n   * When a request error occurs.\n   *\n   * Allow the user to manage request error. (E.g: 404)\n   */\n  public onRequestError(trigger: Trigger, ...args: any): boolean {\n    // Cancel transition status\n    this.transitions.isRunning = false;\n\n    const [href, response]: [string, RequestErrorOrResponse] = args;\n    const action = this.cache.getAction(href);\n    this.cache.delete(href);\n\n    // Custom requestError returning false will return here.\n    if (\n      this._requestCustomError &&\n      this._requestCustomError(trigger, action, href, response) === false\n    ) {\n      return false;\n    }\n\n    // Force page change\n    if (action === 'click') {\n      this.force(href);\n    }\n    return false;\n  }\n\n  /**\n   * Programmatically prefetch\n   */\n  public prefetch(href: string) {\n    // Already in cache\n    /* istanbul ignore next */\n    if (this.cache.has(href)) {\n      return;\n    }\n\n    this.cache.set(\n      href,\n      this.request(\n        href,\n        this.timeout,\n        this.onRequestError.bind(this, 'barba')\n      ).catch((error: RequestErrorOrResponse) => {\n        this.logger.error(error);\n      }),\n      'prefetch'\n    );\n  }\n\n  /**\n   * Bind event listeners.\n   */\n  private _bind(): void {\n    /* istanbul ignore else */\n    if (this.prefetchIgnore !== true) {\n      document.addEventListener('mouseover', this._onLinkEnter);\n      document.addEventListener('touchstart', this._onLinkEnter);\n    }\n    document.addEventListener('click', this._onLinkClick);\n    window.addEventListener('popstate', this._onStateChange);\n  }\n\n  /**\n   * Bind event listeners.\n   */\n  private _unbind(): void {\n    /* istanbul ignore else */\n    if (this.prefetchIgnore !== true) {\n      document.removeEventListener('mouseover', this._onLinkEnter);\n      document.removeEventListener('touchstart', this._onLinkEnter);\n    }\n    document.removeEventListener('click', this._onLinkClick);\n    window.removeEventListener('popstate', this._onStateChange);\n  }\n\n  /**\n   * When a element is entered.\n   *\n   * Get valid link element.\n   * Cache URL if needed.\n   */\n  private _onLinkEnter(e: LinkEvent): void {\n    const link = this._getLinkElement(e);\n\n    if (!link) {\n      return;\n    }\n\n    const href = this.dom.getHref(link);\n\n    if (this.prevent.checkHref(href)) {\n      return;\n    }\n\n    // Already in cache\n    if (this.cache.has(href)) {\n      return;\n    }\n\n    this.cache.set(\n      href,\n      this.request(\n        href,\n        this.timeout,\n        this.onRequestError.bind(this, link)\n      ).catch((error: RequestErrorOrResponse) => {\n        this.logger.error(error);\n      }),\n      'enter'\n    );\n  }\n\n  /**\n   * When an element is clicked.\n   *\n   * Get valid link element.\n   * Prevent same URL.\n   * Go for a Barba transition.\n   */\n  private _onLinkClick(e: LinkEvent): void {\n    // This use `prevent.checkLink` under the hood to get eligible link.\n    const link = this._getLinkElement(e);\n\n    if (!link) {\n      return;\n    }\n\n    if (this.transitions.isRunning && this.preventRunning) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      return;\n    }\n\n    this.go(this.dom.getHref(link), link, e);\n  }\n\n  /**\n   * When History state changes.\n   *\n   * Get \"href\" from URL\n   * Go for a Barba transition.\n   */\n  private _onStateChange(e: PopStateEvent): void {\n    this.go(this.url.getHref(), 'popstate', e);\n  }\n\n  /**\n   * Get a valid link ancestor.\n   *\n   * Check for a \"href\" attribute.\n   * Then check if eligible for Barba.\n   */\n  private _getLinkElement(e: LinkEvent): Link {\n    let el = e.target as Link;\n\n    while (el && !this.dom.getHref(el)) {\n      el = (el as HTMLElement).parentNode as Link;\n    }\n\n    // Check prevent\n    if (!el || this.prevent.checkLink(el, e, this.dom.getHref(el))) {\n      return;\n    }\n\n    return el;\n  }\n\n  /**\n   * Reset pages data.\n   *\n   * Set \"current\" and unset \"next\".\n   */\n  private _resetData() {\n    const href = this.url.getHref();\n    const current = {\n      container: this.dom.getContainer(),\n      html: this.dom.getHtml(),\n      namespace: this.dom.getNamespace(),\n      url: {\n        href,\n        ...this.url.parse(href),\n      },\n    };\n\n    this._data = {\n      current,\n      next: { ...this.schemaPage },\n      trigger: undefined,\n    };\n\n    this.hooks.do('reset', this.data);\n  }\n}\n\nconst core = new Core();\n\nexport default core;\n"],"names":["modules","entry","mainEntry","parcelRequireName","globalName","globalObject","globalThis","self","window","global","previousRequire","cache","nodeRequire","module","require","bind","newRequire","name","jumped","currentRequire","err","Error","code","localRequire","resolve","x","id","Module","call","exports","res","isParcelRequire","moduleName","bundle","parent","register","Object","defineProperty","get","i","length","mainExports","define","amd","parcelHelpers","_lenis","_lenisDefault","interopDefault","_core","_coreDefault","_gsap","_gsapDefault","_all","_app","default","registerPlugin","ScrollToPlugin","lenis","lerp","requestAnimationFrame","raf","time","init","sync","transitions","leave","data","stop","done","async","tl","timeline","defaults","ease","to","scaleY","duration","transformOrigin","stagger","delay","n","Promise","setTimeout","enter","start","next","namespace","once","hooks","scrollTo","afterEnter","navButtons","projectsAnim","addEventListener","scrollAnim","removeEventListener","t","e","o","enumerable","configurable","writable","Symbol","toPrimitive","TypeError","String","key","prototype","assign","arguments","hasOwnProperty","apply","Math","max","min","defineInteropFlag","export","h","advance","s","isRunning","r","value","exp","round","currentTime","l","easing","from","onUpdate","fromTo","a","onStart","c","wrapper","content","autoResize","resize","onWrapperResize","onContentResize","width","innerWidth","height","innerHeight","clientWidth","clientHeight","scrollHeight","scrollWidth","clearTimeout","wrapperResizeObserver","ResizeObserver","observe","contentResizeObserver","destroy","disconnect","y","events","emit","slice","on","push","filter","off","wheelMultiplier","touchMultiplier","normalizeWheel","onTouchStart","targetTouches","clientY","touchStart","clientX","lastDelta","onTouchMove","emitter","deltaX","deltaY","event","onTouchEnd","onWheel","element","passive","u","document","documentElement","p","wheelEventsTarget","d","v","eventsTarget","m","f","smoothWheel","g","S","smoothTouch","w","syncTouch","T","b","syncTouchLerp","_","__iosNoInertiaSyncTouchLerp","L","touchInertiaMultiplier","k","O","W","C","infinite","N","orientation","A","gestureOrientation","Y","D","I","P","U","V","q","B","onVirtualScroll","ctrlKey","type","includes","options","scroll","composedPath","indexOf","rootElement","find","hasAttribute","classList","contains","isStopped","isLocked","preventDefault","isSmooth","isScrolling","animate","abs","velocity","targetScroll","programmatic","onNativeScroll","__preventNextScrollEvent","animatedScroll","actualScroll","direction","sign","lenisVersion","body","pow","dimensions","toggleClass","virtualScroll","setScroll","isHorizontal","scrollLeft","scrollTop","reset","z","offset","immediate","lock","onComplete","force","limit","querySelector","nodeType","getBoundingClientRect","left","top","M","toggle","__isSmooth","set","__isScrolling","__isStopped","__isLocked","create","constructor","__proto__","setPrototypeOf","getPrototypeOf","Reflect","construct","sham","Proxy","Date","toString","Function","Map","has","then","iterator","asyncIterator","error","warning","info","debug","getLevel","setLevel","Array","console","warn","log","concat","RegExp","delimiter","whitelist","exec","index","E","prefix","optional","repeat","pattern","replace","substr","decode","decodeURIComponent","split","map","path","params","R","encode","encodeURIComponent","validate","isArray","test","sensitive","strict","end","endsWith","join","source","match","regexpToFunction","parse","compile","tokensToFunction","tokensToRegExp","container","history","prevent","j","DOMParser","outerHTML","toDocument","parseFromString","toElement","createElement","innerHTML","getHtml","getWrapper","getContainer","removeContainer","parentNode","removeChild","addContainer","appendChild","getNamespace","getAttribute","getHref","tagName","toLowerCase","href","resolveUrl","baseVal","getElementsByTagName","insertBefore","firstChild","nextSibling","ns","scrollX","scrollY","url","states","replaceState","change","state","add","size","pushState","update","remove","splice","pop","clear","html","title","reject","nextTick","pathToRegexp","location","origin","port","parseInt","substring","hash","query","reduce","F","H","getOrigin","getPort","getPath","parseQuery","clean","XMLHttpRequest","onreadystatechange","readyState","DONE","status","responseText","statusText","ontimeout","onerror","open","timeout","setRequestHeader","send","X","logger","all","registered","forEach","Set","ctx","fn","do","catch","help","$","checkHref","some","G","action","request","getRequest","getAction","delete","Q","el","J","which","metaKey","shiftKey","altKey","K","target","protocol","hostname","Z","tt","nt","Boolean","closest","rt","et","suite","tests","run","checkLink","it","label","captureStackTrace","ReferenceError","ot","page","position","reverse","keys","sort","priority","current","ut","store","doOnce","transition","doPage","message","route","ft","names","byNamespace","Element","matches","msMatchesSelector","webkitMatchesSelector","parentElement","st","version","schemaPage","Logger","plugins","dom","helpers","use","install","views","schema","requestError","cacheIgnore","prefetchIgnore","preventRunning","logLevel","setAttribute","trigger","go","hasSelf","stopPropagation","hasOnce","onRequestError","shouldWait","prefetch","clamp","input","Animate","_proto","deltaTime","_this$onUpdate","this","completed","linearProgress","easedProgress","_ref","_ref$lerp","_ref$duration","_ref$easing","Dimensions","_temp","_this","callback","timer","_ref$autoResize","args","context","_this$wrapperResizeOb","_this$contentResizeOb","_createClass","Emitter","callbacks","cb","_this$events$event","_this$events$event2","_this$events$event3","VirtualScroll","_ref$wheelMultiplier","_ref$touchMultiplier","_ref$normalizeWheel","_ref2","_ref3","Lenis","_ref$wrapper","_ref$content","_ref$wheelEventsTarge","_ref$eventsTarget","_ref$smoothWheel","_ref$smoothTouch","_ref$syncTouch","_ref$syncTouchLerp","_ref$__iosNoInertiaSy","_ref$touchInertiaMult","_ref$infinite","_ref$orientation","_ref$gestureOrientati","isTouch","isWheel","node","_node$classList","delta","hasTouchInertia","_extends","lastScroll","_temp2","_this2","_ref3$offset","_ref3$immediate","_ref3$lock","_ref3$duration","_ref3$easing","_ref3$lerp","_ref3$onComplete","_ref3$force","_ref3$programmatic","_target","wrapperRect","rect","className","_catch","recover","result","LogLevels","HookMethods","_level","_source","objects","_log","level","DEFAULT_DELIMITER","PATH_REGEXP","str","tokens","defaultDelimiter","undefined","pathEscaped","escaped","prev","capture","group","modifier","escapeGroup","escapeString","re","pathname","flags","token","segment","endToken","isEndDelimited","groups","regexpToRegexp","parts","arrayToRegexp","stringToRegexp","schemaAttribute","htmlString","_parser","div","doc","scope","_attr","existingContainer","_insertAfter","urls","numUrls","base","head","resolved","newNode","referenceNode","_session","_states","_pointer","item","_getDirection","_getAction","newStates","attr","diff","nextDocument","ptr","portString","hashIndex","queryIndex","acc","ttl","xhr","obj","runAsync","func","promise","answer","isPromise","hook","chain","_this3","_this4","Ignore","ignore","_ignoreAll","paths","_ignoreRegexes","regex","Cache","_state","exists","newTab","blank","corsDomain","corsPort","download","preventSelf","preventAll","sameUrl","Prevent","check","BarbaError","Store","_rules","filters","matching","active","valid","rule","_check","activeMatch","transitionType","infos","_addPriority","isValid","hasMatch","strRule","objRule","fnName","_calculatePriority","ruleName","ruleIndex","Transitions","_running","_doAsyncHook","_isTransitionError","leaveResult","values","Views","view","_createHook","plugin","installedPlugins","preventCustom","_requestCustomError","_wrapper","_resetData","_onLinkEnter","_onLinkClick","_onStateChange","_bind","onceData","_unbind","readyData","response","_this5","link","_getLinkElement","_this6","_data"],"version":3,"file":"index.70781a76.js.map"}